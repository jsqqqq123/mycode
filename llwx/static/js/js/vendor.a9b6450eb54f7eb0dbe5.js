webpackJsonp([0],{"+pTH":function(t,e){var n={"":!0,up:!0};function i(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,r=0,s=100,a=0,o=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e}}})}},"+rzy":function(t,e,n){t.exports={tag:n("u3k2"),Transmuxer:n("t5kx"),getFlvHeader:n("hsUl")}},"//tU":function(t,e,n){"use strict";var i=n("HH4H"),r=n("UB+n"),s=n("VKnT"),a=n("5D1g"),o=n("mhb3")("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];a&&e&&!e[o]&&s.f(e,o,{configurable:!0,get:function(){return this}})}},"/FkY":function(t,e,n){"use strict";var i,r,s,a,o=n("E5ix"),u=n("HH4H"),l=n("GEwK"),c=n("jUE6"),h=n("273z"),d=n("ih9o"),f=n("HeGE"),p=n("6Iqy"),g=n("EWZD"),m=n("3hLq"),v=n("nBHa").set,y=n("F4Qp")(),b=n("i3RO"),_=n("d5Ge"),T=n("VDit"),S=n("atTG"),w=u.TypeError,E=u.process,C=E&&E.versions,k=C&&C.v8||"",x=u.Promise,A="process"==c(E),O=function(){},P=r=b.f,D=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[n("mhb3")("species")]=function(t){t(O,O)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==k.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,r=1==t._s,s=0,a=function(e){var n,s,a,o=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{o?(r||(2==t._h&&B(t),t._h=1),!0===o?n=i:(c&&c.enter(),n=o(i),c&&(c.exit(),a=!0)),n===e.promise?l(w("Promise-chain cycle")):(s=I(n))?s.call(n,u,l):u(n)):l(i)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>s;)a(n[s++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){v.call(u,function(){var e,n,i,r=t._v,s=F(t);if(s&&(e=_(function(){A?E.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=A||F(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){v.call(u,function(){var e;A?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=I(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,l(N,i,1),l(M,i,1))}catch(t){M.call(i,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};D||(x=function(t){p(this,x,"Promise","_h"),f(t),i.call(this);try{t(l(N,this,1),l(M,this,1))}catch(t){M.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("SFw5")(x.prototype,{then:function(t,e){var n=P(m(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new i;this.promise=t,this.resolve=l(N,t,1),this.reject=l(M,t,1)},b.f=P=function(t){return t===x||t===a?new s(t):r(t)}),h(h.G+h.W+h.F*!D,{Promise:x}),n("bNZV")(x,"Promise"),n("//tU")("Promise"),a=n("UB+n").Promise,h(h.S+h.F*!D,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(o||!D),"Promise",{resolve:function(t){return S(o&&this===a?x:this,t)}}),h(h.S+h.F*!(D&&n("aDJY")(function(t){x.all(t).catch(O)})),"Promise",{all:function(t){var e=this,n=P(e),i=n.resolve,r=n.reject,s=_(function(){var n=[],s=0,a=1;g(t,!1,function(t){var o=s++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[o]=t,--a||i(n))},r)}),--a||i(n)});return s.e&&r(s.v),n.promise},race:function(t){var e=this,n=P(e),i=n.reject,r=_(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},"/Gra":function(t,e,n){"use strict";var i=n("JupL"),r=Object.prototype.toString,s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===r.call(t)?function(t,e,n){for(var i=0,r=t.length;i<r;i++)s.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))}(t,e,a):"string"==typeof t?function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)}(t,e,a):function(t,e,n){for(var i in t)s.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))}(t,e,a)}},"/T6q":function(t,e,n){"use strict";var i=n("cCQC").discardEmulationPreventionBytes,r=n("Qm5e").CaptionStream,s=n("0P9+"),a=n("Mf0i"),o=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},u=function(t,e){var n=s.findBox(t,["moof","traf"]),r={},u=[];return s.findBox(t,["mdat"]).forEach(function(t,e){var i=n[e];u.push({mdat:t,traf:i})}),u.forEach(function(t){var n,u=t.mdat,l=t.traf,c=s.findBox(l,["tfhd"]),h=a.parseTfhd(c[0]),d=h.trackId,f=s.findBox(l,["tfdt"]),p=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,g=s.findBox(l,["trun"]);e===d&&g.length>0&&(n=function(t,e,n){var r,s,a,u,l=new DataView(t.buffer,t.byteOffset,t.byteLength),c=[];for(s=0;s+4<t.length;s+=a)if(a=l.getUint32(s),s+=4,!(a<=0))switch(31&t[s]){case 6:var h=t.subarray(s+1,s+1+a),d=o(s,e);r={nalUnitType:"sei_rbsp",size:a,data:h,escapedRBSP:i(h),trackId:n},d?(r.pts=d.pts,r.dts=d.dts,u=d):(r.pts=u.pts,r.dts=u.dts),c.push(r)}return c}(u,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,s=n.defaultSampleSize||0,o=n.trackId,u=[];return t.forEach(function(t){var e=a.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=s),t.trackId=o,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),u=u.concat(e)}),u}(g,p,h),d),r[d]||(r[d]=[]),r[d]=r[d].concat(n))}),r};t.exports=function(){var t,e,n,i,s,a=!1;this.isInitialized=function(){return a},this.init=function(){t=new r,a=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,s.captions.push(t),s.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,r,a){var o;if(!this.isInitialized())return null;if(!r||!a)return null;if(this.isNewInit(r,a))n=r[0],i=a[n];else if(!n||!i)return e.push(t),null;for(;e.length>0;){var l=e.shift();this.parse(l,r,a)}return null!==(o=function(t,e,n){return e?{seiNals:u(t,e)[e],timescale:n}:null}(t,n,i))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},"/egZ":function(t,e,n){"use strict";var i=n("fEpO");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},"0P9+":function(t,e,n){"use strict";var i,r,s,a,o,u=n("DFUp").toUnsigned;i=function(t,e){var n,s,a,o,l,c=[];if(!e.length)return null;for(n=0;n<t.byteLength;)s=u(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),a=r(t.subarray(n+4,n+8)),o=s>1?n+s:t.byteLength,a===e[0]&&(1===e.length?c.push(t.subarray(n+8,o)):(l=i(t.subarray(n+8,o),e.slice(1))).length&&(c=c.concat(l))),n=o;return c},r=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},s=function(t){return i(t,["moov","trak"]).reduce(function(t,e){var n,r,s,a,o;return(n=i(e,["tkhd"])[0])?(r=n[0],a=u(n[s=0===r?12:20]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3]),(o=i(e,["mdia","mdhd"])[0])?(s=0===(r=o[0])?12:20,t[a]=u(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3]),t):null):null},{})},a=function(t,e){var n,r,s;return n=i(e,["moof","traf"]),r=[].concat.apply([],n.map(function(e){return i(e,["tfhd"]).map(function(n){var r,s;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),s=t[r]||9e4,(i(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=u(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=u(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/s})})),s=Math.min.apply(null,r),isFinite(s)?s:0},o=function(t){var e=[];return i(t,["moov","trak"]).forEach(function(t){var n=i(t,["mdia","hdlr"]),s=i(t,["tkhd"]);n.forEach(function(t,n){var i,a,o=r(t.subarray(8,12)),u=s[n];"vide"===o&&(a=0===(i=new DataView(u.buffer,u.byteOffset,u.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),e.push(a))})}),e},t.exports={findBox:i,parseType:r,timescale:s,startTime:a,videoTrackIds:o}},"0UD8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var n;return!!this.listeners[t]&&(n=this.listeners[t].indexOf(e),this.listeners[t].splice(n,1),n>-1)}},{key:"trigger",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0;if(e=this.listeners[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();e.default=r,t.exports=e.default},"16Nt":function(t,e,n){var i=n("FOxZ"),r=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):s(t,e)}},"1Aig":function(t,e,n){"use strict";var i;i=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(r,r+a)),n=new DataView(s.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),s=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},"1NKp":function(t,e,n){var i=n("6Bon");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var s=t.return;throw void 0!==s&&i(s.call(t)),e}}},"1Rfl":function(t,e,n){"use strict";var i=n("8r5Y");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},"1XZu":function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,s,a,o,u,l,c,h,d,f,p,g,m,v,y,b,_,T,S,w,E,C,k;n=t.state,i=t.next_in,C=t.input,r=i+(t.avail_in-5),s=t.next_out,k=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),b=g[f&v];e:for(;;){if(f>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))k[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}T=65535&b,(_&=15)&&(p<_&&(f+=C[i++]<<p,p+=8),T+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),b=m[f&y];n:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(S=65535&b,p<(_&=15)&&(f+=C[i++]<<p,(p+=8)<_&&(f+=C[i++]<<p,p+=8)),(S+=f&(1<<_)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=_,p-=_,S>(_=s-a)){if((_=S-_)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(w=0,E=d,0===h){if(w+=l-_,_<T){T-=_;do{k[s++]=d[w++]}while(--_);w=s-S,E=k}}else if(h<_){if(w+=l+h-_,(_-=h)<T){T-=_;do{k[s++]=d[w++]}while(--_);if(w=0,h<T){T-=_=h;do{k[s++]=d[w++]}while(--_);w=s-S,E=k}}}else if(w+=h-_,_<T){T-=_;do{k[s++]=d[w++]}while(--_);w=s-S,E=k}for(;T>2;)k[s++]=E[w++],k[s++]=E[w++],k[s++]=E[w++],T-=3;T&&(k[s++]=E[w++],T>1&&(k[s++]=E[w++]))}else{w=s-S;do{k[s++]=k[w++],k[s++]=k[w++],k[s++]=k[w++],T-=3}while(T>2);T&&(k[s++]=k[w++],T>1&&(k[s++]=k[w++]))}break}}break}}while(i<r&&s<o);i-=T=p>>3,f&=(1<<(p-=T<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=s<o?o-s+257:257-(s-o),n.hold=f,n.bits=p}},"1kYk":function(t,e,n){"use strict";var i=n("KcYj"),r=n("3faG").handleRollover,s={};s.ts=n("JbRS"),s.aac=n("mIGd");var a=function(t,e,n){for(var i,r,a,o,u=0,l=188,c=!1;l<t.byteLength;)if(71!==t[u]||71!==t[l])u++,l++;else{switch(i=t.subarray(u,l),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),c=!0)}if(c)break;u+=188,l+=188}for(u=(l=t.byteLength)-188,c=!1;u>=0;)if(71!==t[u]||71!==t[l])u--,l--;else{switch(i=t.subarray(u,l),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),c=!0)}if(c)break;u-=188,l-=188}},o=function(t,e,n){for(var i,r,a,o,u,l,c,h=0,d=188,f=!1,p={data:[],size:0};d<t.byteLength;)if(71!==t[h]||71!==t[d])h++,d++;else{switch(i=t.subarray(h,d),s.ts.parseType(i,e.pid)){case"pes":if(r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!f&&(o=s.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(u=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),u.set(c,l),l+=c.byteLength;s.ts.videoPacketContainsKeyFrame(u)&&(n.firstKeyFrame=s.ts.parsePesTime(u),n.firstKeyFrame.type="video"),p.size=0}p.data.push(i),p.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;h+=188,d+=188}for(h=(d=t.byteLength)-188,f=!1;h>=0;)if(71!==t[h]||71!==t[d])h--,d--;else{switch(i=t.subarray(h,d),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),f=!0)}if(f)break;h-=188,d-=188}},u=function(t){var e={pid:null,table:null},n={};for(var r in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),s.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=s.ts.parsePat(n));break;case"pmt":e.table||(e.table=s.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table){if(e.table.hasOwnProperty(r))switch(e.table[r]){case i.H264_STREAM_TYPE:n.video=[],o(t,e,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],a(t,e,n),0===n.audio.length&&delete n.audio}}return n};t.exports={inspect:function(t,e){var n,i;return(i=(n=t)[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?function(t){for(var e,n=!1,i=0,r=null,a=null,o=0,u=0;t.length-u>=3;){switch(s.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){n=!0;break}if((o=s.aac.parseId3TagSize(t,u))>t.length){n=!0;break}null===a&&(e=t.subarray(u,u+o),a=s.aac.parseAacTimestamp(e)),u+=o;break;case"audio":if(t.length-u<7){n=!0;break}if((o=s.aac.parseAdtsSize(t,u))>t.length){n=!0;break}null===r&&(e=t.subarray(u,u+o),r=s.aac.parseSampleRate(e)),i++,u+=o;break;default:u++}if(n)return null}if(null===r||null===a)return null;var l=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}(t):u(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=r(s.dts,i),s.pts=r(s.pts,i),s.dtsTime=s.dts/9e4,s.ptsTime=s.dts/9e4}}}(i,e),i):null}}},"1n34":function(t,e,n){
/**
 * @license
 * Video.js 6.12.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r,s=i(n("VBq3")),a=i(n("e3Mc")),o=i(n("qGBE")),u=i(n("Lvi9")),l=i(n("H0Gi")),c=i(n("TBd/")),h="6.12.1",d=s.navigator&&s.navigator.userAgent||"",f=/AppleWebKit\/([\d.]+)/i.exec(d),p=f?parseFloat(f.pop()):null,g=/iPad/i.test(d),m=/iPhone/i.test(d)&&!g,v=/iPod/i.test(d),y=m||g||v,b=(r=d.match(/OS (\d+)_/i))&&r[1]?r[1]:null,_=/Android/i.test(d),T=function(){var t=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),S=_&&/webkit/i.test(d)&&T<2.3,w=_&&T<5&&p<537,E=/Firefox/i.test(d),C=/Edge/i.test(d),k=!C&&(/Chrome/i.test(d)||/CriOS/i.test(d)),x=function(){var t=d.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),A=/MSIE\s8\.0/.test(d),O=function(){var t=/MSIE\s(\d+)\.\d/.exec(d),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(e=11),e}(),P=/Safari/i.test(d)&&!k&&!_&&!C,D=(P||y)&&!k,I=et()&&("ontouchstart"in s||s.navigator.maxTouchPoints||s.DocumentTouch&&s.document instanceof s.DocumentTouch),R=et()&&"backgroundSize"in s.document.createElement("video").style,L=(Object.freeze||Object)({IS_IPAD:g,IS_IPHONE:m,IS_IPOD:v,IS_IOS:y,IOS_VERSION:b,IS_ANDROID:_,ANDROID_VERSION:T,IS_OLD_ANDROID:S,IS_NATIVE_ANDROID:w,IS_FIREFOX:E,IS_EDGE:C,IS_CHROME:k,CHROME_VERSION:x,IS_IE8:A,IE_VERSION:O,IS_SAFARI:P,IS_ANY_SAFARI:D,TOUCH_ENABLED:I,BACKGROUND_SIZE_SUPPORTED:R}),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},M=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},N=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},j=function(t,e){return t.raw=e,t},U=Object.prototype.toString,H=function(t){return z(t)?Object.keys(t):[]};function V(t,e){H(t).forEach(function(n){return e(t[n],n)})}function q(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&V(e,function(e,n){t[n]=e})}),t)}function z(t){return!!t&&"object"===(void 0===t?"undefined":F(t))}function W(t){return z(t)&&"[object Object]"===U.call(t)&&t.constructor===Object}var $=void 0,K="info",G=[],Y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!O&&O<11,i=$.levels[K],r=new RegExp("^("+i+")$");if("log"!==t&&e.unshift(t.toUpperCase()+":"),G&&G.push([].concat(e)),e.unshift("VIDEOJS:"),s.console){var a=s.console[t];a||"debug"!==t||(a=s.console.info||s.console.log),a&&i&&r.test(t)&&(n&&(e=e.map(function(t){if(z(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),a.apply?a[Array.isArray(e)?"apply":"call"](s.console,e):a(e))}};($=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Y("log",e)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:K},$.level=function(t){if("string"==typeof t){if(!$.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');K=t}return K},$.history=function(){return G?[].concat(G):[]},$.history.clear=function(){G&&(G.length=0)},$.history.disable=function(){null!==G&&(G.length=0,G=null)},$.history.enable=function(){null===G&&(G=[])},$.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Y("error",e)},$.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Y("warn",e)},$.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Y("debug",e)};var X=$;function J(t,e){if(!t||!e)return"";if("function"==typeof s.getComputedStyle){var n=s.getComputedStyle(t);return n?n[e]:""}return t.currentStyle[e]||""}var Z=j(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Q(t){return"string"==typeof t&&/\S/.test(t)}function tt(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function et(){return a===s.document&&void 0!==a.createElement}function nt(t){return z(t)&&1===t.nodeType}function it(){try{return s.parent!==s.self}catch(t){return!0}}function rt(t){return function(e,n){if(!Q(e))return a[t](null);Q(n)&&(n=a.querySelector(n));var i=nt(n)?n:a;return i[t]&&i[t](e)}}function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r=a.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(X.warn(o(Z,t,n)),r.setAttribute(t,n)):"textContent"===t?at(r,n):r[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),i&&Ct(r,i),r}function at(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function ot(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ut(t,e){return tt(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function lt(t,e){return t.classList?t.classList.add(e):ut(t,e)||(t.className=(t.className+" "+e).trim()),t}function ct(t,e){return t.classList?t.classList.remove(e):(tt(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function ht(t,e,n){var i=ut(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?lt(t,e):ct(t,e),t}function dt(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||void 0===i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)})}function ft(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var s=i[r].name,a=i[r].value;"boolean"!=typeof t[s]&&-1===n.indexOf(","+s+",")||(a=null!==a),e[s]=a}return e}function pt(t,e){return t.getAttribute(e)}function gt(t,e,n){t.setAttribute(e,n)}function mt(t,e){t.removeAttribute(e)}function vt(){a.body.focus(),a.onselectstart=function(){return!1}}function yt(){a.onselectstart=function(){return!0}}function bt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(J(t,"height"))),n.width||(n.width=parseFloat(J(t,"width"))),n}}function _t(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=a.documentElement,i=a.body,r=n.clientLeft||i.clientLeft||0,o=s.pageXOffset||i.scrollLeft,u=e.left+o-r,l=n.clientTop||i.clientTop||0,c=s.pageYOffset||i.scrollTop,h=e.top+c-l;return{left:Math.round(u),top:Math.round(h)}}function Tt(t,e){var n={},i=_t(t),r=t.offsetWidth,s=t.offsetHeight,a=i.top,o=i.left,u=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+s)/s)),n.x=Math.max(0,Math.min(1,(l-o)/r)),n}function St(t){return z(t)&&3===t.nodeType}function wt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Et(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),nt(t)||St(t)?t:"string"==typeof t&&/\S/.test(t)?a.createTextNode(t):void 0}).filter(function(t){return t})}function Ct(t,e){return Et(e).forEach(function(e){return t.appendChild(e)}),t}function kt(t,e){return Ct(wt(t),e)}function xt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(9===O||0===t.button&&1===t.buttons))}var At=rt("querySelector"),Ot=rt("querySelectorAll"),Pt=(Object.freeze||Object)({isReal:et,isEl:nt,isInFrame:it,createEl:st,textContent:at,prependTo:ot,hasClass:ut,addClass:lt,removeClass:ct,toggleClass:ht,setAttributes:dt,getAttributes:ft,getAttribute:pt,setAttribute:gt,removeAttribute:mt,blockTextSelection:vt,unblockTextSelection:yt,getBoundingClientRect:bt,findPosition:_t,getPointerPosition:Tt,isTextNode:St,emptyEl:wt,normalizeContent:Et,appendContent:Ct,insertContent:kt,isSingleLeftClick:xt,$:At,$$:Ot}),Dt=1;function It(){return Dt++}var Rt={},Lt="vdata"+(new Date).getTime();function Ft(t){var e=t[Lt];return e||(e=t[Lt]=It()),Rt[e]||(Rt[e]={}),Rt[e]}function Bt(t){var e=t[Lt];return!!e&&!!Object.getOwnPropertyNames(Rt[e]).length}function Mt(t){var e=t[Lt];if(e){delete Rt[e];try{delete t[Lt]}catch(e){t.removeAttribute?t.removeAttribute(Lt):t[Lt]=null}}}function Nt(t,e){var n=Ft(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Mt(t)}function jt(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function Ut(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||s.event;for(var r in t={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var o=a.documentElement,u=a.body;t.pageX=t.clientX+(o&&o.scrollLeft||u&&u.scrollLeft||0)-(o&&o.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||u&&u.scrollTop||0)-(o&&o.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Ht=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){Ht=!0}});s.addEventListener("test",null,t),s.removeEventListener("test",null,t)}catch(t){}}();var Vt=["touchstart","touchmove"];function qt(t,e,n){if(Array.isArray(e))return jt(qt,t,e,n);var i=Ft(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=It()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=Ut(e);var r=i.handlers[e.type];if(r)for(var s=r.slice(0),a=0,o=s.length;a<o&&!e.isImmediatePropagationStopped();a++)try{s[a].call(t,e,n)}catch(t){X.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;Ht&&Vt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function zt(t,e,n){if(Bt(t)){var i=Ft(t);if(i.handlers){if(Array.isArray(e))return jt(zt,t,e,n);var r=function(t,e){i.handlers[e]=[],Nt(t,e)};if(void 0!==e){var s=i.handlers[e];if(s)if(n){if(n.guid)for(var a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);Nt(t,e)}else r(t,e)}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&r(t,o)}}}function Wt(t,e,n){var i=Bt(t)?Ft(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Ut(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)Wt.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var s=Ft(e.target);e.target[e.type]&&(s.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function $t(t,e,n){if(Array.isArray(e))return jt($t,t,e,n);var i=function i(){zt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||It(),qt(t,e,i)}var Kt=(Object.freeze||Object)({fixEvent:Ut,on:qt,off:zt,trigger:Wt,one:$t}),Gt=!1,Yt=void 0,Xt=function(){if(et()&&!1!==Yt.options.autoSetup){var t=a.getElementsByTagName("video"),e=a.getElementsByTagName("audio"),n=a.getElementsByTagName("video-js"),i=[];if(t&&t.length>0)for(var r=0,s=t.length;r<s;r++)i.push(t[r]);if(e&&e.length>0)for(var o=0,u=e.length;o<u;o++)i.push(e[o]);if(n&&n.length>0)for(var l=0,c=n.length;l<c;l++)i.push(n[l]);if(i&&i.length>0)for(var h=0,d=i.length;h<d;h++){var f=i[h];if(!f||!f.getAttribute){Jt(1);break}void 0===f.player&&null!==f.getAttribute("data-setup")&&Yt(f)}else Gt||Jt(1)}};function Jt(t,e){e&&(Yt=e),s.setTimeout(Xt,t)}et()&&"complete"===a.readyState?Gt=!0:$t(s,"load",function(){Gt=!0});var Zt=function(t){var e=a.createElement("style");return e.className=t,e},Qt=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},te=function(t,e,n){e.guid||(e.guid=It());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},ee=function(t,e){var n=Date.now();return function(){var i=Date.now();i-n>=e&&(t.apply(void 0,arguments),n=i)}},ne=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,r=void 0;return function(){var s=this,a=arguments,o=function(){r=null,o=null,n||t.apply(s,a)};!r&&n&&t.apply(s,a),i.clearTimeout(r),r=i.setTimeout(o,e)}},ie=function(){};ie.prototype.allowedEvents_={},ie.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},qt(this,t,e),this.addEventListener=n},ie.prototype.addEventListener=ie.prototype.on,ie.prototype.off=function(t,e){zt(this,t,e)},ie.prototype.removeEventListener=ie.prototype.off,ie.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},$t(this,t,e),this.addEventListener=n},ie.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=Ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Wt(this,t)},ie.prototype.dispatchEvent=ie.prototype.trigger;var re=function(t){return t instanceof ie||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},se=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},ae=function(t){if(!t.nodeName&&!re(t))throw new Error("Invalid target; must be a DOM node or evented object.")},oe=function(t){if(!se(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ue=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},le=function(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,i=void 0,r=void 0,s=void 0;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),r=e[0],s=e[1]):(i=e[0],r=e[1],s=e[2]),ae(i),oe(r),ue(s),{isTargetingSelf:n,target:i,type:r,listener:s=te(t,s)}},ce=function(t,e,n,i){ae(t),t.nodeName?Kt[e](t,n,i):t[e](n,i)},he={on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=le(this,n),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(ce(a,"on",o,u),!s){var l=function(){return t.off(a,o,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,ce(this,"on","dispose",l),ce(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=le(this,n),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(s)ce(a,"one",o,u);else{var l=function e(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t.off(a,o,e),u.apply(null,i)};l.guid=u.guid,ce(a,"one",o,l)}},off:function(t,e,n){if(!t||se(t))zt(this.eventBusEl_,t,e);else{var i=t,r=e;ae(i),oe(r),ue(n),n=te(this,n),this.off("dispose",n),i.nodeName?(zt(i,r,n),zt(i,"dispose",n)):re(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return Wt(this.eventBusEl_,t,e)}};function de(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(e){if(!t[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');t.eventBusEl_=t[e]}else t.eventBusEl_=st("span",{className:"vjs-event-bus"});return q(t,he),t.on("dispose",function(){t.off(),s.setTimeout(function(){t.eventBusEl_=null},0)}),t}var fe={state:{},setState:function(t){var e=this;"function"==typeof t&&(t=t());var n=void 0;return V(t,function(t,i){e.state[i]!==t&&((n=n||{})[i]={from:e.state[i],to:t}),e.state[i]=t}),n&&re(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function pe(t,e){return q(t,fe),t.state=q({},t.state,e),"function"==typeof t.handleStateChanged&&re(t)&&t.on("statechanged",t.handleStateChanged),t}function ge(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function me(){for(var t={},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&V(e,function(e,n){W(e)?(W(t[n])||(t[n]={}),t[n]=me(t[n],e)):t[n]=e})}),t}var ve=function(){function t(e,n,i){if(B(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=me({},this.options_),n=this.options_=me(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+It()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),!1!==n.evented&&de(this,{eventBusKey:this.el_?"el_":null}),pe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Mt(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return X.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=me(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return st(t,e,n)},t.prototype.localize=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[i],a=i&&i.split("-")[0],o=r&&r[a],u=n;return s&&s[t]?u=s[t]:o&&o[t]&&(u=o[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r})),u},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=ge(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,s=void 0;if("string"==typeof e){s=ge(e);var a=n.componentClass||s;n.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;r=new o(this.player_||this,n)}else r=e;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(s=s||r.name&&ge(r.name()))&&(this.childNameIndex_[s]=r),"function"==typeof r.el&&r.el()){var u=this.contentEl().children[i]||null;this.contentEl().insertBefore(r.el(),u)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;if(n){var i=this.options_,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!r.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i=void 0,r=void 0;return"string"==typeof t?r=n[i=t]||e.options_[i]||{}:(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||ge(e.name));return n&&!s.isTech(n)}).forEach(function(t){var n=t.name,r=t.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=e.options_.playerOptions;var s=e.addChild(n,r);s&&(e[n]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return At(t,e||this.contentEl())},t.prototype.$$=function(t,e){return Ot(t,e||this.contentEl())},t.prototype.hasClass=function(t){return ut(this.el_,t)},t.prototype.addClass=function(t){lt(this.el_,t)},t.prototype.removeClass=function(t){ct(this.el_,t)},t.prototype.toggleClass=function(t,e){ht(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return pt(this.el_,t)},t.prototype.setAttribute=function(t,e){gt(this.el_,t,e)},t.prototype.removeAttribute=function(t){mt(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+ge(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s.getComputedStyle){var n=s.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+ge(t);e=this.el_[i]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,n=void 0;this.on("touchstart",function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),n=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)n=!1;else if(e){var i=t.touches[0].pageX-e.pageX,r=t.touches[0].pageY-e.pageY;Math.sqrt(i*i+r*r)>10&&(n=!1)}});var i=function(){n=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){(e=null,!0===n)&&((new Date).getTime()-t<200&&(i.preventDefault(),this.trigger("tap")))})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=te(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){var n,i,r=this;return t=te(this,t),n=s.setTimeout(function(){r.off("dispose",i),t()},e),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},t.prototype.clearTimeout=function(t){s.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var n=this;t=te(this,t);var i=s.setInterval(t,e),r=function(){return n.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){s.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=te(this,t),e=s.requestAnimationFrame(function(){i.off("dispose",n),t()}),(n=function(){return i.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){s.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),r=i&&i.isTech(n),s=t===n||t.prototype.isPrototypeOf(n.prototype);if(r||!s){var a=void 0;throw a=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+a+".")}e=ge(e),t.components_||(t.components_={});var o=t.getComponent("Player");if("Player"===e&&o&&o.players){var u=o.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=ge(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();function ye(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function be(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ye.bind(null,"start",0,t),end:ye.bind(null,"end",1,t)}}function _e(t,e){return Array.isArray(t)?be(t):void 0===t||void 0===e?be():be([[t,e]])}function Te(t,e){var n=0,i=void 0,r=void 0;if(!e)return 0;t&&t.length||(t=_e(0,0));for(var s=0;s<t.length;s++)i=t.start(s),(r=t.end(s))>e&&(r=e),n+=r-i;return n/e}ve.prototype.supportsRaf_="function"==typeof s.requestAnimationFrame&&"function"==typeof s.cancelAnimationFrame,ve.registerComponent("Component",ve);for(var Se={},we=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ee=we[0],Ce=void 0,ke=0;ke<we.length;ke++)if(we[ke][1]in a){Ce=we[ke];break}if(Ce)for(var xe=0;xe<Ce.length;xe++)Se[Ee[xe]]=Ce[xe];function Ae(t){if(t instanceof Ae)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:z(t)&&("number"==typeof t.code&&(this.code=t.code),q(this,t)),this.message||(this.message=Ae.defaultMessages[this.code]||"")}Ae.prototype.code=0,Ae.prototype.message="",Ae.prototype.status=null,Ae.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ae.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Oe=0;Oe<Ae.errorTypes.length;Oe++)Ae[Ae.errorTypes[Oe]]=Oe,Ae.prototype[Ae.errorTypes[Oe]]=Oe;function Pe(t){return void 0!==t&&null!==t&&"function"==typeof t.then}function De(t){Pe(t)&&t.then(null,function(t){})}var Ie=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,i){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},Re=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=Ie(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Ie))},Le=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},Fe="vjs-modal-dialog",Be=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=st("div",{className:Fe+"-content"},{role:"document"}),r.descEl_=st("p",{className:Fe+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),at(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return Fe+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",te(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",te(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),kt(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),wt(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(a,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(a,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,r=0;r<e.length;r++)if(n===e[r]){i=r;break}a.activeElement===this.el_&&(i=0),t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof s.HTMLAnchorElement||t instanceof s.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof s.HTMLInputElement||t instanceof s.HTMLSelectElement||t instanceof s.HTMLTextAreaElement||t instanceof s.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof s.HTMLIFrameElement||t instanceof s.HTMLObjectElement||t instanceof s.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(ve);Be.prototype.options_={pauseOnOpen:!0,temporary:!0},ve.registerComponent("ModalDialog",Be);var Me=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;B(this,e);var r=N(this,t.call(this));if(!i&&(i=r,A))for(var s in i=a.createElement("custom"),e.prototype)"constructor"!==s&&(i[s]=e.prototype[s]);i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<n.length;o++)i.addTrack(n[o]);return N(r,i)}return M(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(ie);for(var Ne in Me.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Me.prototype.allowedEvents_)Me.prototype["on"+Ne]=null;var je=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Ue=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];B(this,e);for(var r=void 0,s=i.length-1;s>=0;s--)if(i[s].enabled){je(i,i[s]);break}if(A){for(var o in r=a.createElement("custom"),Me.prototype)"constructor"!==o&&(r[o]=Me.prototype[o]);for(var u in e.prototype)"constructor"!==u&&(r[u]=e.prototype[u])}return(r=n=N(this,t.call(this,i,r))).changing_=!1,N(n,r)}return M(e,t),e.prototype.addTrack=function(e){var n=this;e.enabled&&je(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,je(n,e),n.changing_=!1,n.trigger("change"))})},e}(Me),He=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Ve=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];B(this,e);for(var r=void 0,s=i.length-1;s>=0;s--)if(i[s].selected){He(i,i[s]);break}if(A){for(var o in r=a.createElement("custom"),Me.prototype)"constructor"!==o&&(r[o]=Me.prototype[o]);for(var u in e.prototype)"constructor"!==u&&(r[u]=e.prototype[u])}return(r=n=N(this,t.call(this,i,r))).changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),N(n,r)}return M(e,t),e.prototype.addTrack=function(e){var n=this;e.selected&&He(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,He(n,e),n.changing_=!1,n.trigger("change"))})},e}(Me),qe=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];B(this,e);var r=void 0;if(A){for(var s in r=a.createElement("custom"),Me.prototype)"constructor"!==s&&(r[s]=Me.prototype[s]);for(var o in e.prototype)"constructor"!==o&&(r[o]=e.prototype[o])}return n=N(this,t.call(this,i,r)),N(n,r=n)}return M(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",te(this,function(){this.trigger("change")}));-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",te(this,function(){this.trigger("selectedlanguagechange")}))},e}(Me),ze=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];B(this,t);var n=this;if(A)for(var i in n=a.createElement("custom"),t.prototype)"constructor"!==i&&(n[i]=t.prototype[i]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var r=0,s=e.length;r<s;r++)n.addTrackElement_(e[r]);if(A)return n}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),We=function(){function t(e){B(this,t);var n=this;if(A)for(var i in n=a.createElement("custom"),t.prototype)"constructor"!==i&&(n[i]=t.prototype[i]);if(t.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),A)return n}return t.prototype.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},t.prototype.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),$e={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ke={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ge={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ye={disabled:"disabled",hidden:"hidden",showing:"showing"},Xe=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,e);var i=N(this,t.call(this)),r=i;if(A)for(var s in r=a.createElement("custom"),e.prototype)"constructor"!==s&&(r[s]=e.prototype[s]);var o={id:n.id||"vjs_track_"+It(),kind:n.kind||"",label:n.label||"",language:n.language||""},u=function(t){Object.defineProperty(r,t,{get:function(){return o[t]},set:function(){}})};for(var l in o)u(l);return N(i,r)}return M(e,t),e}(ie),Je=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=a.createElement("a");n.href=t;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&((r=a.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),a.body.appendChild(r));for(var o={},u=0;u<e.length;u++)o[e[u]]=n[e[u]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=s.location.protocol),i&&a.body.removeChild(r),o},Ze=function(t){if(!t.match(/^https?:\/\//)){var e=a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Qe=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""},tn=function(t){var e=s.location,n=Je(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},en=(Object.freeze||Object)({parseUrl:Je,getAbsoluteURL:Ze,getFileExtension:Qe,isCrossOrigin:tn}),nn=function(t,e){var n=new s.WebVTT.Parser(s,s.vttjs,s.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(s.console&&s.console.groupCollapsed&&s.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return X.error(t)}),s.console&&s.console.groupEnd&&s.console.groupEnd()),n.flush()},rn=function(t,e){var n={uri:t},i=tn(t);i&&(n.cors=i),l(n,te(this,function(t,n,i){if(t)return X.error(t,n);if(e.loaded_=!0,"function"!=typeof s.WebVTT){if(e.tech_){var r=function(){return nn(i,e)};e.tech_.on("vttjsloaded",r),e.tech_.on("vttjserror",function(){X.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)})}}else nn(i,e)}))},sn=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(B(this,e),!i.tech)throw new Error("A tech was not provided.");var r=me(i,{kind:Ge[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Ye[r.mode]||"disabled",a=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(s="hidden");var o=n=N(this,t.call(this,r));if(o.tech_=r.tech,A)for(var u in e.prototype)"constructor"!==u&&(o[u]=e.prototype[u]);o.cues_=[],o.activeCues_=[];var l=new We(o.cues_),c=new We(o.activeCues_),h=!1,d=te(o,function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==s&&o.tech_.ready(function(){o.tech_.on("timeupdate",d)},!0),Object.defineProperty(o,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(o,"mode",{get:function(){return s},set:function(t){var e=this;Ye[t]&&("showing"===(s=t)&&this.tech_.ready(function(){e.tech_.on("timeupdate",d)},!0),this.trigger("modechange"))}}),Object.defineProperty(o,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(o,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(h=!1,e.length!==this.activeCues_.length)h=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(h=!0);return this.activeCues_=e,c.setCues_(this.activeCues_),c},set:function(){}}),r.src?(o.src=r.src,rn(r.src,o)):o.loaded_=!0,N(n,o)}return M(e,t),e.prototype.addCue=function(t){var e=t;if(s.vttjs&&!(t instanceof s.vttjs.VTTCue)){for(var n in e=new s.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Xe);sn.prototype.allowedEvents_={cuechange:"cuechange"};var an=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,e);var r=me(i,{kind:Ke[i.kind]||""}),s=n=N(this,t.call(this,r)),a=!1;if(A)for(var o in e.prototype)"constructor"!==o&&(s[o]=e.prototype[o]);return Object.defineProperty(s,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),r.enabled&&(s.enabled=r.enabled),s.loaded_=!0,N(n,s)}return M(e,t),e}(Xe),on=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,e);var r=me(i,{kind:$e[i.kind]||""}),s=n=N(this,t.call(this,r)),a=!1;if(A)for(var o in e.prototype)"constructor"!==o&&(s[o]=e.prototype[o]);return Object.defineProperty(s,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),r.selected&&(s.selected=r.selected),N(n,s)}return M(e,t),e}(Xe),un=0,ln=2,cn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,e);var i=N(this,t.call(this)),r=void 0,s=i;if(A)for(var o in s=a.createElement("custom"),e.prototype)"constructor"!==o&&(s[o]=e.prototype[o]);var u=new sn(n);return s.kind=u.kind,s.src=u.src,s.srclang=u.language,s.label=u.label,s.default=u.default,Object.defineProperty(s,"readyState",{get:function(){return r}}),Object.defineProperty(s,"track",{get:function(){return u}}),r=un,u.addEventListener("loadeddata",function(){r=ln,s.trigger({type:"load",target:s})}),A?N(i,s):i}return M(e,t),e}(ie);cn.prototype.allowedEvents_={load:"load"},cn.NONE=un,cn.LOADING=1,cn.LOADED=ln,cn.ERROR=3;var hn={audio:{ListClass:Ue,TrackClass:an,capitalName:"Audio"},video:{ListClass:Ve,TrackClass:on,capitalName:"Video"},text:{ListClass:qe,TrackClass:sn,capitalName:"Text"}};Object.keys(hn).forEach(function(t){hn[t].getterName=t+"Tracks",hn[t].privateName=t+"Tracks_"});var dn={remoteText:{ListClass:qe,TrackClass:sn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ze,TrackClass:cn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},fn=me(hn,dn);dn.names=Object.keys(dn),hn.names=Object.keys(hn),fn.names=[].concat(dn.names).concat(hn.names);var pn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};B(this,e),n.reportTouchActivity=!1;var r=N(this,t.call(this,null,n,i));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),fn.names.forEach(function(t){var e=fn[t];n&&n[e.getterName]&&(r[e.privateName]=n[e.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new fn.text.ListClass,r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return M(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(te(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return _e(0,0)},e.prototype.bufferedPercent=function(){return Te(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(hn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach(function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}})},e.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new Ae(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?_e(0,0):_e()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;hn.names.forEach(function(e){var n=hn[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})},e.prototype.addWebVttScript_=function(){var t=this;if(!s.WebVTT)if(a.body.contains(this.el())){if(!this.options_["vtt.js"]&&W(c)&&Object.keys(c).length>0)return void this.trigger("vttjsloaded");var e=a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),s.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",s),"showing"===n.mode&&n.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",s)}})},e.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new fn.text.TrackClass(r);return s.addTrack(a),a}(this,t,e,n)},e.prototype.createRemoteTextTrack=function(t){var e=me(t,{tech:this});return new dn.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&(X.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==n&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(i.track)}),i},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=ge(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=ge(t),e.techs_&&e.techs_[t]?e.techs_[t]:s&&s.videojs&&s.videojs[t]?(X.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),s.videojs[t]):void 0},e}(ve);fn.names.forEach(function(t){var e=fn[t];pn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),pn.prototype.featuresVolumeControl=!0,pn.prototype.featuresMuteControl=!0,pn.prototype.featuresFullscreenResize=!1,pn.prototype.featuresPlaybackRate=!1,pn.prototype.featuresProgressEvents=!1,pn.prototype.featuresSourceset=!1,pn.prototype.featuresTimeupdateEvents=!1,pn.prototype.featuresNativeTextTracks=!1,pn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],i=void 0,r=0;r<n.length;r++)if(i=n[r].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:X.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ve.registerComponent("Tech",pn),pn.registerTech("Tech",pn),pn.defaultTechOrder_=[];var gn={},mn={},vn={};function yn(t,e,n){t.setTimeout(function(){return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var i=arguments[2];var r=arguments[3];var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];var o=n[0],u=n.slice(1);if("string"==typeof o)t(e,gn[o],i,r,s,a);else if(o){var l=function(t,e){var n=mn[t.id()],i=null;if(void 0===n||null===n)return i=e(t),mn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var s=n[r],a=s[0],o=s[1];a===e&&(i=o)}null===i&&(i=e(t),n.push([e,i]));return i}(r,o);if(!l.setSource)return s.push(l),t(e,u,i,r,s,a);l.setSource(q({},e),function(n,o){if(n)return t(e,u,i,r,s,a);s.push(l),t(o,e.type===o.type?u:gn[o.type],i,r,s,a)})}else u.length?t(e,u,i,r,s,a):a?i(e,s):t(e,gn["*"],i,r,s,!0)}(e,gn[e.type],n,t)},1)}function bn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+ge(n),s=t.reduce(wn(r),i),a=s===vn,o=a?null:e[n](s);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](i,n)}}(t,n,o,a),o}var _n={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Tn={setCurrentTime:1},Sn={play:1,pause:1};function wn(t){return function(e,n){return e===vn?vn:n[t]?n[t](e):e}}var En={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Cn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=Qe(t);return En[e.toLowerCase()]||""};function kn(t){var e=Cn(t.src);return!t.type&&e&&(t.type=e),t}var xn=function(t){function e(n,i,r){B(this,e);var s=me({createEl:!1},i),a=N(this,t.call(this,n,s,r));if(i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var o=0,u=i.playerOptions.techOrder;o<u.length;o++){var l=ge(u[o]),c=pn.getTech(l);if(l||(c=ve.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}return a}return M(e,t),e}(ve);ve.registerComponent("MediaLoader",xn);var An=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.emitTapEvents(),r.enable(),r}return M(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=q({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&X.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=q({role:"button"},i),this.tabIndex_=n.tabIndex;var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=st("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,at(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){qt(a,"keydown",te(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){zt(a,"keydown",te(this,this.handleKeyPress))},e}(ve);ve.registerComponent("ClickableComponent",An);var On=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.update(),n.on("posterchange",te(r,r.update)),r}return M(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=st("div",{className:"vjs-poster",tabIndex:-1});return R||(this.fallbackImg_=st("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?De(this.player_.play()):this.player_.pause())},e}(An);ve.registerComponent("PosterImage",On);var Pn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Dn(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function In(t,e,n){try{t.style[e]=n}catch(t){return}}var Rn=function(t){function e(n,i,r){B(this,e);var s=N(this,t.call(this,n,i,r));return n.on("loadstart",te(s,s.toggleDisplay)),n.on("texttrackchange",te(s,s.updateDisplay)),n.on("loadstart",te(s,s.preselectTrack)),n.ready(te(s,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",te(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),s}return M(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,r=void 0,s=void 0,a=0;a<e.length;a++){var o=e[a];n&&n.enabled&&n.language===o.language?o.kind===n.kind?s=o:s||(s=o):n&&!n.enabled?(s=null,i=null,r=null):o.default&&("descriptions"!==o.kind||i?o.kind in t&&!r&&(r=o):i=o)}s?s.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof s.WebVTT&&s.WebVTT.processCues(s,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"==typeof s.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(s.WebVTT.processCues(s,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var a=e[r];if(a){var o=a.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&In(o.firstChild,"color",Dn(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&In(o.firstChild,"backgroundColor",Dn(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?In(o,"backgroundColor",Dn(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var u=s.parseFloat(o.style.fontSize);o.style.fontSize=u*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Pn[i.fontFamily])}}}},e}(ve);ve.registerComponent("TextTrackDisplay",Rn);var Ln=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=st("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(ve);ve.registerComponent("LoadingSpinner",Ln);var Fn=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=q({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=q({type:"button"},n);var i=ve.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return X.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),ve.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(An);ve.registerComponent("Button",Fn);var Bn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)De(e);else{var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var r=function(){return i.focus()};Pe(e)?e.then(r,function(){}):this.setTimeout(r,1)}else this.player_.focus()}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(Fn);Bn.prototype.controlText_="Play Video",ve.registerComponent("BigPlayButton",Bn);var Mn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.controlText(i&&i.controlText||r.localize("Close")),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(Fn);ve.registerComponent("CloseButton",Mn);var Nn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"play",r.handlePlay),r.on(n,"pause",r.handlePause),r.on(n,"ended",r.handleEnded),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(Fn);Nn.prototype.controlText_="Play",ve.registerComponent("PlayToggle",Nn);var jn=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||s>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},Un=jn;var Hn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Un(t,e)},Vn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.throttledUpdateContent=ee(te(r,r.updateContent),25),r.on(n,"timeupdate",r.throttledUpdateContent),r}return M(e,t),e.prototype.createEl=function(e){var n=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=st("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return Hn(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(ve);Vn.prototype.labelText_="Time",Vn.prototype.controlText_="Time",ve.registerComponent("TimeDisplay",Vn);var qn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"ended",r.handleEnded),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(Vn);qn.prototype.labelText_="Current Time",qn.prototype.controlText_="Current Time",ve.registerComponent("CurrentTimeDisplay",qn);var zn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"durationchange",r.updateContent),r.on(n,"loadedmetadata",r.throttledUpdateContent),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(Vn);zn.prototype.labelText_="Duration",zn.prototype.controlText_="Duration",ve.registerComponent("DurationDisplay",zn);var Wn=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(ve);ve.registerComponent("TimeDivider",Wn);var $n=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"durationchange",r.throttledUpdateContent),r.on(n,"ended",r.handleEnded),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(Vn);$n.prototype.labelText_="Remaining Time",$n.prototype.controlText_="Remaining Time",ve.registerComponent("RemainingTimeDisplay",$n);var Kn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return M(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=st("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(ve);ve.registerComponent("LiveDisplay",Kn);var Gn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}return M(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=q({tabIndex:0},n),i=q({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||k||t.preventDefault(),vt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;yt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},e.prototype.calculateDistance=function(t){var e=Tt(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ve);ve.registerComponent("Slider",Gn);var Yn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.partEls_=[],r.on(n,"progress",r.update),r}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,s=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=s(i,n);for(var a=0;a<e.length;a++){var o=e.start(a),u=e.end(a),l=r[a];l||(l=this.el_.appendChild(st()),r[a]=l),l.style.left=s(o,i),l.style.width=s(u-o,i)}for(var c=r.length;c>e.length;c--)this.el_.removeChild(r[c-1]);r.length=e.length},e}(ve);ve.registerComponent("LoadProgressBar",Yn);var Xn=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,n){var i=bt(this.el_),r=bt(this.player_.el()),s=t.width*e;if(r&&i){var a=t.left-r.left+s,o=t.width-s+(r.right-t.right),u=i.width/2;a<u?u+=u-a:o<u&&(u=o),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",at(this.el_,n)}},e}(ve);ve.registerComponent("TimeTooltip",Xn);var Jn=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),r=Hn(i,n.player_.duration()),s=n.getChild("timeTooltip");s&&s.update(t,e,r)})},e}(ve);Jn.prototype.options_={children:[]},O&&!(O>8)||y||_||Jn.prototype.options_.children.push("timeTooltip"),ve.registerComponent("PlayProgressBar",Jn);var Zn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.update=ee(te(r,r.update),25),r}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.duration(),r=Hn(e*i,i);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,r)})},e}(ve);Zn.prototype.options_={children:["timeTooltip"]},ve.registerComponent("MouseTimeDisplay",Zn);var Qn=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.setEventHandlers_(),r}return M(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=ee(te(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Hn(t,n),Hn(n,n)],"{1} of {2}")),this.bar.update(bt(this.el_),e)},e.prototype.update=function(e){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){xt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(xt(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&De(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(Gn);Qn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},O&&!(O>8)||y||_||Qn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Qn.prototype.playerEvent="timeupdate",ve.registerComponent("SeekBar",Qn);var ti=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.handleMouseMove=ee(te(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=ee(te(r,r.handleMouseSeek),25),r.enable(),r}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=bt(i),s=Tt(i,t).x;s>1?s=1:s<0&&(s=0),n&&n.update(r,s)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(ve);ti.prototype.options_={children:["seekBar"]},ve.registerComponent("ProgressControl",ti);var ei=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"fullscreenchange",r.handleFullscreenChange),!1===a[Se.fullscreenEnabled]&&r.disable(),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Fn);ei.prototype.controlText_="Fullscreen",ve.registerComponent("FullscreenToggle",ei);var ni=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},ii=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(ve);ve.registerComponent("VolumeLevel",ii);var ri=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on("slideractive",r.updateLastVolume_),r.on(n,"volumechange",r.updateARIAAttributes),n.ready(function(){return r.updateARIAAttributes()}),r}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){xt(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){xt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(Gn);ri.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ri.prototype.playerEvent="volumechange",ve.registerComponent("VolumeBar",ri);var si=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(this,e),i.vertical=i.vertical||!1,(void 0===i.volumeBar||W(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical);var r=N(this,t.call(this,n,i));return ni(r,n),r.throttledHandleMouseMove=ee(te(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}return M(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(ve);si.prototype.options_={children:["volumeBar"]},ve.registerComponent("VolumeControl",si);var ai=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},oi=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return ai(r,n),r.on(n,["loadstart","volumechange"],r.update),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;y&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)ct(this.el_,"vjs-vol-"+n);lt(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(Fn);oi.prototype.controlText_="Mute",ve.registerComponent("MuteToggle",oi);var ui=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(this,e),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||W(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline);var r=N(this,t.call(this,n,i));return r.on(n,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return M(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(ve);ui.prototype.options_={children:["muteToggle","volumeControl"]},ve.registerComponent("VolumePanel",ui);var li=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return i&&(r.menuButton_=i.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return M(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",te(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=st(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),qt(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(ve);ve.registerComponent("Menu",li);var ci=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(this,e);var r=N(this,t.call(this,n,i));r.menuButton_=new Fn(n,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var s=Fn.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+s,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return M(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new li(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=st("li",{className:"vjs-menu-title",innerHTML:ge(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),ot(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+Fn.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",te(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){qt(a,"keydown",te(this,this.handleKeyPress))},e.prototype.handleBlur=function(){zt(a,"keydown",te(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),y&&it())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ve);ve.registerComponent("MenuButton",ci);var hi=function(t){function e(n,i){B(this,e);var r=i.tracks,s=N(this,t.call(this,n,i));if(s.items.length<=1&&s.hide(),!r)return N(s);var a=te(s,s.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),s.player_.on("ready",a),s.player_.on("dispose",function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)}),s}return M(e,t),e}(ci);ve.registerComponent("TrackButton",hi);var di=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.selectable=i.selectable,r.isSelected_=i.selected||!1,r.multiSelectable=i.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}return M(e,t),e.prototype.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",q({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(An);ve.registerComponent("MenuItem",di);var fi=function(t){function e(n,i){B(this,e);var r=i.track,o=n.textTracks();i.label=r.label||r.language||"Unknown",i.selected="showing"===r.mode;var u=N(this,t.call(this,n,i));u.track=r;var l=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];u.handleTracksChange.apply(u,e)},c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];u.handleSelectedLanguageChange.apply(u,e)};if(n.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",c),u.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",c)}),void 0===o.onchange){var h=void 0;u.on(["tap","click"],function(){if("object"!==F(s.Event))try{h=new s.Event("change")}catch(t){}h||(h=a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(h)})}return u.handleTracksChange(),u}return M(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,i=this.track.kinds,r=this.player_.textTracks();if(i||(i=[n]),t.prototype.handleClick.call(this,e),r)for(var s=0;s<r.length;s++){var a=r[s];a===this.track&&i.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(di);ve.registerComponent("TextTrackMenuItem",fi);var pi=function(t){function e(n,i){return B(this,e),i.track={player:n,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,N(this,t.call(this,n,i))}return M(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var s=e[i];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var s=e[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(fi);ve.registerComponent("OffTextTrackMenuItem",pi);var gi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return B(this,e),i.tracks=n.textTracks(),N(this,t.call(this,n,i))}return M(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi,n=void 0;this.label_&&(n=this.label_+" off"),t.push(new pi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var s=i[r];if(this.kinds_.indexOf(s.kind)>-1){var a=new e(this.player_,{track:s,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),t.push(a)}}return t},e}(hi);ve.registerComponent("TextTrackButton",gi);var mi=function(t){function e(n,i){B(this,e);var r=i.track,s=i.cue,a=n.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=a&&a<s.endTime;var o=N(this,t.call(this,n,i));return o.track=r,o.cue=s,r.addEventListener("cuechange",te(o,o.update)),o}return M(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(di);ve.registerComponent("ChaptersTrackMenuItem",mi);var vi=function(t){function e(n,i,r){return B(this,e),N(this,t.call(this,n,i,r))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ge(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],s=new mi(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(gi);vi.prototype.kind_="chapters",vi.prototype.controlText_="Chapters",ve.registerComponent("ChaptersButton",vi);var yi=function(t){function e(n,i,r){B(this,e);var s=N(this,t.call(this,n,i,r)),a=n.textTracks(),o=te(s,s.handleTracksChange);return a.addEventListener("change",o),s.on("dispose",function(){a.removeEventListener("change",o)}),s}return M(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var s=e[i];if(s.kind!==this.kind_&&"showing"===s.mode){n=!0;break}}n?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(gi);yi.prototype.kind_="descriptions",yi.prototype.controlText_="Descriptions",ve.registerComponent("DescriptionsButton",yi);var bi=function(t){function e(n,i,r){return B(this,e),N(this,t.call(this,n,i,r))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(gi);bi.prototype.kind_="subtitles",bi.prototype.controlText_="Subtitles",ve.registerComponent("SubtitlesButton",bi);var _i=function(t){function e(n,i){B(this,e),i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem";var r=N(this,t.call(this,n,i));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return M(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(fi);ve.registerComponent("CaptionSettingsMenuItem",_i);var Ti=function(t){function e(n,i,r){return B(this,e),N(this,t.call(this,n,i,r))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _i(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(gi);Ti.prototype.kind_="captions",Ti.prototype.controlText_="Captions",ve.registerComponent("CaptionsButton",Ti);var Si=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,q({innerHTML:r},n),i)},e}(fi);ve.registerComponent("SubsCapsMenuItem",Si);var wi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(this,e);var r=N(this,t.call(this,n,i));return r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(ge(r.label_)),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _i(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Si)},e}(gi);wi.prototype.kinds_=["captions","subtitles"],wi.prototype.controlText_="Subtitles",ve.registerComponent("SubsCapsButton",wi);var Ei=function(t){function e(n,i){B(this,e);var r=i.track,s=n.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled;var a=N(this,t.call(this,n,i));a.track=r,a.addClass("vjs-"+r.kind+"-menu-item");var o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)};return s.addEventListener("change",o),a.on("dispose",function(){s.removeEventListener("change",o)}),a}return M(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,q({innerHTML:r},n),i)},e.prototype.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(di);ve.registerComponent("AudioTrackMenuItem",Ei);var Ci=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return B(this,e),i.tracks=n.audioTracks(),N(this,t.call(this,n,i))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new Ei(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(hi);Ci.prototype.controlText_="Audio Track",ve.registerComponent("AudioTrackButton",Ci);var ki=function(t){function e(n,i){B(this,e);var r=i.rate,s=parseFloat(r,10);i.label=r,i.selected=1===s,i.selectable=!0,i.multiSelectable=!1;var a=N(this,t.call(this,n,i));return a.label=r,a.rate=s,a.on(n,"ratechange",a.update),a}return M(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(di);ki.prototype.contentElType="button",ve.registerComponent("PlaybackRateMenuItem",ki);var xi=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.updateVisibility(),r.updateLabel(),r.on(n,"loadstart",r.updateVisibility),r.on(n,"ratechange",r.updateLabel),r}return M(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=st("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new li(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new ki(this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(ci);xi.prototype.controlText_="Playback Rate",ve.registerComponent("PlaybackRateMenuButton",xi);var Ai=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(ve);ve.registerComponent("Spacer",Ai);var Oi=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Ai);ve.registerComponent("CustomControlSpacer",Oi);var Pi=function(t){function e(){return B(this,e),N(this,t.apply(this,arguments))}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ve);Pi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ve.registerComponent("ControlBar",Pi);var Di=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i));return r.on(n,"error",r.open),r}return M(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Be);Di.prototype.options_=me(Be.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ve.registerComponent("ErrorDisplay",Di);var Ii=["#000","Black"],Ri=["#00F","Blue"],Li=["#0FF","Cyan"],Fi=["#0F0","Green"],Bi=["#F0F","Magenta"],Mi=["#F00","Red"],Ni=["#FFF","White"],ji=["#FF0","Yellow"],Ui=["1","Opaque"],Hi=["0.5","Semi-Transparent"],Vi=["0","Transparent"],qi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ii,Ni,Mi,Fi,Ri,ji,Bi,Li]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ui,Hi,Vi]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ni,Ii,Mi,Fi,Ri,ji,Bi,Li]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ui,Hi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Vi,Hi,Ui]}};function zi(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}qi.windowColor.options=qi.backgroundColor.options;var Wi=function(t){function e(n,i){B(this,e),i.temporary=!1;var r=N(this,t.call(this,n,i));return r.updateDisplay=te(r,r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=st("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===i.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),V(qi,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return M(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",r=qi[t],s=r.id.replace("%s",this.id_),a=[n,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(t){var n=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+n+'">',e.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return st("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return st("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return st("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return H(t).reduce(function(n,i){return e(n,t[i],i)},n)}(qi,function(e,n,i){var r,s,a=(r=t.$(n.selector),s=n.parser,zi(r.options[r.options.selectedIndex].value,s));return void 0!==a&&(e[i]=a),e},{})},e.prototype.setValues=function(t){var e=this;V(qi,function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(zi(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)})},e.prototype.setDefaults=function(){var t=this;V(qi,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(s.localStorage.getItem("vjs-text-track-settings"))}catch(t){X.warn(t)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?s.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):s.localStorage.removeItem("vjs-text-track-settings")}catch(t){X.warn(t)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(a,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(Be);ve.registerComponent("TextTrackSettings",Wi);var $i=function(t){function e(n,i){B(this,e);var r=i.ResizeObserver||s.ResizeObserver;null===i.ResizeObserver&&(r=!1);var a=me({createEl:!r},i),o=N(this,t.call(this,n,a));return o.ResizeObserver=i.ResizeObserver||s.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=ne(function(){o.resizeHandler()},100,!1,n),r?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){o.el_.contentWindow&&qt(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return M(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&zt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(ve);ve.registerComponent("ResizeManager",$i);var Ki=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var s=0;s<n.length;s++){var a=n[s].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Gi={};A||(Gi=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=a.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",s.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var Yi=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Xi=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=function(t){return Yi([t.el(),s.HTMLMediaElement.prototype,s.Element.prototype,Gi],"innerHTML")}(t),r=function(n){return function(){for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=n.apply(e,r);return Ki(t),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=r(n[t]))}),Object.defineProperty(e,"innerHTML",me(i,{set:r(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},Ji={};A||(Ji=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ze(s.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return s.Element.prototype.setAttribute.call(this,"src",t),t}}));var Zi=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=function(t){return Yi([t.el(),s.HTMLMediaElement.prototype,Ji],"src")}(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",me(n,{set:function(i){var r=n.set.call(e,i);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,r){var s=i.call(e,n,r);return/src/i.test(n)&&t.triggerSourceset(e.src),s},e.load=function(){var n=r.call(e);return Ki(t)||(t.triggerSourceset(""),Xi(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):Ki(t)||Xi(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Qi=j(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),tr=function(t){function e(n,i){B(this,e);var r=N(this,t.call(this,n,i)),s=n.source,a=!1;if(s&&(r.el_.currentSrc!==s.src||n.tag&&3===n.tag.initNetworkState_)?r.setSource(s):r.handleLateInit_(r.el_),n.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var u=r.el_.childNodes,l=u.length,c=[];l--;){var h=u[l];"track"===h.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(h),r.remoteTextTracks().addTrack(h.track),r.textTracks().addTrack(h.track),a||r.el_.hasAttribute("crossorigin")||!tn(h.src)||(a=!0)):c.push(h))}for(var d=0;d<c.length;d++)r.el_.removeChild(c[d])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&a&&X.warn(o(Qi)),r.restoreMetadataTracksInIOSNativePlayer_(),(I||m||w)&&!0===n.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return M(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Zi(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)})},e.prototype.proxyNativeTracks_=function(){var t=this;hn.names.forEach(function(e){var n=hn[e],i=t.el()[n.getterName],r=t[n.getterName]();if(t["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var s={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,s=0;s<i.length;s++)if(i[s]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};Object.keys(s).forEach(function(e){var n=s[e];i.addEventListener(e,n),t.on("dispose",function(t){return i.removeEventListener(e,n)})}),t.on("loadstart",a),t.on("dispose",function(e){return t.off("loadstart",a)})}})},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=a.createElement("video");var i=me({},this.options_.tag&&ft(this.options_.tag));I&&!0===this.options_.nativeControlsForTouch||delete i.controls,dt(t,q(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&gt(t,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var o=r[s],u=this.options_[o];void 0!==u&&(u?gt(t,o,o):mt(t,o),t[o]=u)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){X(t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&_&&k&&0===this.el_.currentTime){return this.on("timeupdate",function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=s.navigator&&s.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=a.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},e.prototype.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},e.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),s.performance&&"function"==typeof s.performance.now?t.creationTime=s.performance.now():s.performance&&s.performance.timing&&"number"==typeof s.performance.timing.navigationStart&&(t.creationTime=s.Date.now()-s.performance.timing.navigationStart),t},e}(pn);if(et()){tr.TEST_VID=a.createElement("video");var er=a.createElement("track");er.kind="captions",er.srclang="en",er.label="English",tr.TEST_VID.appendChild(er)}tr.isSupported=function(){try{tr.TEST_VID.volume=.5}catch(t){return!1}return!(!tr.TEST_VID||!tr.TEST_VID.canPlayType)},tr.canPlayType=function(t){return tr.TEST_VID.canPlayType(t)},tr.canPlaySource=function(t,e){return tr.canPlayType(t.type)},tr.canControlVolume=function(){try{var t=tr.TEST_VID.volume;return tr.TEST_VID.volume=t/2+.1,t!==tr.TEST_VID.volume}catch(t){return!1}},tr.canMuteVolume=function(){try{var t=tr.TEST_VID.muted;return tr.TEST_VID.muted=!t,tr.TEST_VID.muted?gt(tr.TEST_VID,"muted","muted"):mt(tr.TEST_VID,"muted"),t!==tr.TEST_VID.muted}catch(t){return!1}},tr.canControlPlaybackRate=function(){if(_&&k&&x<58)return!1;try{var t=tr.TEST_VID.playbackRate;return tr.TEST_VID.playbackRate=t/2+.1,t!==tr.TEST_VID.playbackRate}catch(t){return!1}},tr.canOverrideAttributes=function(){if(A)return!1;try{var t=function(){};Object.defineProperty(a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},tr.supportsNativeTextTracks=function(){return D||y&&k},tr.supportsNativeVideoTracks=function(){return!(!tr.TEST_VID||!tr.TEST_VID.videoTracks)},tr.supportsNativeAudioTracks=function(){return!(!tr.TEST_VID||!tr.TEST_VID.audioTracks)},tr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],tr.prototype.featuresVolumeControl=tr.canControlVolume(),tr.prototype.featuresMuteControl=tr.canMuteVolume(),tr.prototype.featuresPlaybackRate=tr.canControlPlaybackRate(),tr.prototype.featuresSourceset=tr.canOverrideAttributes(),tr.prototype.movingMediaElementInDOM=!y,tr.prototype.featuresFullscreenResize=!0,tr.prototype.featuresProgressEvents=!0,tr.prototype.featuresTimeupdateEvents=!0,tr.prototype.featuresNativeTextTracks=tr.supportsNativeTextTracks(),tr.prototype.featuresNativeVideoTracks=tr.supportsNativeVideoTracks(),tr.prototype.featuresNativeAudioTracks=tr.supportsNativeAudioTracks();var nr=tr.TEST_VID&&tr.TEST_VID.constructor.prototype.canPlayType,ir=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,rr=/^video\/mp4/i;tr.patchCanPlayType=function(){T>=4&&!E&&!k?tr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&ir.test(t)?"maybe":nr.call(this,t)}:S&&(tr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&rr.test(t)?"maybe":nr.call(this,t)})},tr.unpatchCanPlayType=function(){var t=tr.TEST_VID.constructor.prototype.canPlayType;return tr.TEST_VID.constructor.prototype.canPlayType=nr,t},tr.patchCanPlayType(),tr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},tr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){tr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){tr.prototype["set"+ge(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){tr.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){tr.prototype["set"+ge(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){tr.prototype[t]=function(){return this.el_[t]()}}),pn.withSourceHandlers(tr),tr.nativeSourceHandler={},tr.nativeSourceHandler.canPlayType=function(t){try{return tr.TEST_VID.canPlayType(t)}catch(t){return""}},tr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return tr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Qe(t.src);return tr.nativeSourceHandler.canPlayType("video/"+n)}return""},tr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},tr.nativeSourceHandler.dispose=function(){},tr.registerSourceHandler(tr.nativeSourceHandler),pn.registerTech("Html5",tr);var sr=j(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),ar=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],or={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ur=function(t){function e(n,i,r){if(B(this,e),n.id=n.id||i.id||"vjs_video_"+It(),(i=q(e.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(i.language=s.getAttribute("lang"))}else for(var a=n;a&&1===a.nodeType;){if(ft(a).hasOwnProperty("lang")){i.language=a.getAttribute("lang");break}a=a.parentNode}var o=N(this,t.call(this,null,i,r));if(o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&ft(n),o.language(o.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(t){u[t.toLowerCase()]=i.languages[t]}),o.languages_=u}else o.languages_=e.prototype.options_.languages;o.cache_={},o.poster_=i.poster||"",o.controls_=!!i.controls,o.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay),o.scrubbing_=!1,o.el_=o.createEl(),o.cache_.lastPlaybackRate=o.defaultPlaybackRate(),de(o,{eventBusKey:"el_"});var l=me(o.options_);if(i.plugins){var c=i.plugins;Object.keys(c).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](c[t])},o)}o.options_.playerOptions=l,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),y||o.addClass("vjs-workinghover"),e.players[o.id_]=o;var d=h.split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}return M(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),mn[this.id()]=null,t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,n=void 0,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?n=this.el_=e.parentNode:r||(n=this.el_=t.prototype.createEl.call(this,"div"));var o=ft(e);if(r){for(n=this.el_=e,e=this.tag=a.createElement("video");n.children.length;)e.appendChild(n.firstChild);ut(n,"video-js")||lt(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(t){void 0!==n[t]&&(e[t]=n[t])})}if(e.setAttribute("tabindex","-1"),O&&e.setAttribute("role","application"),e.removeAttribute("width"),e.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(t){"class"===t?(n.className+=" "+o[t],r&&(e.className+=" "+o[t])):(n.setAttribute(t,o[t]),r&&e.setAttribute(t,o[t]))}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),!0!==s.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Zt("vjs-styles-dimensions");var u=At(".vjs-styles-defaults"),l=At("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=e.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);lt(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),ot(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=n,n},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?X.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0!==s.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,e=void 0,n=void 0,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Qt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),o>=0&&(u.height=o))}},e.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=ge(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(pn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var s={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};fn.names.forEach(function(t){var e=fn[t];s[e.getterName]=n[e.privateName]}),q(s,this.options_[i]),q(s,this.options_[r]),q(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=pn.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(te(this,this.handleTechReady_),!0),Le(this.textTracksJson_||[],this.tech_),ar.forEach(function(t){n.on(n.tech_,t,n["handleTech"+ge(t)+"_"])}),Object.keys(or).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+or[t]+"_"].bind(n),event:e}):n["handleTech"+or[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||ot(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;fn.names.forEach(function(e){var n=fn[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=Re(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&X.warn(o(sr)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){X("deleting tag.poster throws in some browsers",t)}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n=function(){var t=e.muted();e.muted(!0);var n=e.play();if(n&&n.then&&n.catch)return n.catch(function(n){e.muted(t)})},i=void 0;if("any"===t?(i=this.play())&&i.then&&i.catch&&i.catch(function(){return n()}):i="muted"===t?n():this.play(),i&&i.then&&i.catch)return i.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,n="";if("string"!=typeof e&&(e=t.src,n=t.type),!/^blob:/.test(e)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return Cn(e)}(this,e)),this.cache_.source=me({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var u=ft(s[o]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e}},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_&&(this.updateSourceCaches_(t.src),!t.src)){this.tech_.one(["sourceset","loadstart"],function t(n){"sourceset"!==n.type&&e.updateSourceCaches_(e.techGet_("currentSrc")),e.tech_.off(["sourceset","loadstart"],t)})}this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(X.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){xt(t)&&this.controls_&&(this.paused()?De(this.play()):this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready(function(){if(t in Tn)return function(t,e,n,i){return e[n](t.reduce(wn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Sn)return bn(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw X(t),t}},!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in _n)return function(t,e,n){return t.reduceRight(wn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Sn)return bn(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw X("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw X("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw X(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||s.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())})}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.played=function(){return this.techGet_("played")||_e(0,0)},e.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.prototype.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=_e(0,0)),t},e.prototype.bufferedPercent=function(){return Te(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},e.prototype.requestFullscreen=function(){var t=Se;this.isFullscreen(!0),t.requestFullscreen?(qt(a,t.fullscreenchange,te(this,function e(n){this.isFullscreen(a[t.fullscreenElement]),!1===this.isFullscreen()&&zt(a,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=Se;this.isFullscreen(!1),t.requestFullscreen?a[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.documentElement.style.overflow,qt(a,"keydown",te(this,this.fullWindowOnEscKey)),a.documentElement.style.overflow="hidden",lt(a.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,zt(a,"keydown",this.fullWindowOnEscKey),a.documentElement.style.overflow=this.docOrigOverflow,ct(a.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],s=pn.getTech(r);if(s||(s=ve.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t)))return e}else X.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map(function(t){return[t,pn.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(X.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var i=void 0;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},s=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?r(t,i,(e=s,function(t,n){return e(n,t)})):r(i,t,s))||!1},e.prototype.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):z(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[kn({src:e})]:z(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[kn(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),yn(this,n[0],function(t,i){var r,s;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());r=i,s=e.tech_,r.forEach(function(t){return t.setTech&&t.setTech(s)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.prototype.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,ge(e)!==ge(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Ae(t),this.addClass("vjs-error"),X.error("(CODE:"+this.error_.code+" "+Ae.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,i=te(this,this.reportUserActivity);this.on("mousedown",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)}),this.on("mousemove",function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())}),this.on("mouseup",function(e){i(),this.clearInterval(t)}),this.on("keydown",i),this.on("keyup",i);var r=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var t=this.options_.inactivityTimeout;t<=0||(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},e.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,e=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(e)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},e.prototype.languages=function(){return me(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=me(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=me(i)).player=void 0,t.tracks[n]=i}return t},e.prototype.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Be(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=ft(t),i=n["data-setup"];if(ut(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=u(i||"{}"),s=r[0],a=r[1];s&&X.error(s),q(n,a)}if(q(e,n),t.hasChildNodes())for(var o=t.childNodes,l=0,c=o.length;l<c;l++){var h=o[l],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(ft(h)):"track"===d&&e.tracks.push(ft(h))}return e},e.prototype.flexNotSupported_=function(){var t=a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(ve);fn.names.forEach(function(t){var e=fn[t];ur.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),ur.players={};var lr=s.navigator;ur.prototype.options_={techOrder:pn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:lr&&(lr.languages&&lr.languages[0]||lr.userLanguage||lr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},A||ur.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(t){ur.prototype[t]=function(){return this.techGet_(t)}}),ar.forEach(function(t){ur.prototype["handleTech"+ge(t)+"_"]=function(){return this.trigger(t)}}),ve.registerComponent("Player",ur);var cr={},hr=function(t){return cr.hasOwnProperty(t)},dr=function(t){return hr(t)?cr[t]:void 0},fr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},pr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},gr=function(t,e){return e.prototype.name=t,function(){pr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=new(Function.prototype.bind.apply(e,[null].concat([this].concat(i))));return this[t]=function(){return s},pr(this,s.getEventHash()),s}},mr=function(){function t(e){if(B(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,de(this),delete this.trigger,pe(this,this.constructor.defaultState),fr(e,this.name),this.dispose=te(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wt(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=gr(t,cr[t])},t.isBasic=function(e){var n="string"==typeof e?dr(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":F(e))+".");if(hr(e))X.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(ur.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===n?"undefined":F(n))+".");return cr[e]=n,"plugin"!==e&&(t.isBasic(n)?ur.prototype[e]=function(t,e){var n=function(){pr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return fr(this,t),pr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}(e,n):ur.prototype[e]=gr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");hr(t)&&(delete cr[t],delete ur.prototype[t])},t.getPlugins=function(){var t=void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(cr)).forEach(function(e){var n=dr(e);n&&((t=t||{})[e]=n)}),t},t.getPluginVersion=function(t){var e=dr(t);return e&&e.VERSION||""},t}();mr.getPlugin=dr,mr.BASE_PLUGIN_NAME="plugin",mr.registerPlugin("plugin",mr),ur.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},ur.prototype.hasPlugin=function(t){return!!hr(t)};"undefined"==typeof HTMLVideoElement&&et()&&(a.createElement("video"),a.createElement("audio"),a.createElement("track"),a.createElement("video-js"));var vr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function yr(t,e,n){var i=yr.getPlayer(t);if(i)return e&&X.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof t?At("#"+vr(t)):t;if(!nt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.body.contains(r)||X.warn("The element supplied is not included in the DOM"),e=e||{},yr.hooks("beforesetup").forEach(function(t){var n=t(r,me(e));z(n)&&!Array.isArray(n)?e=me(e,n):X.error("please return an object in beforesetup hooks")});var s=ve.getComponent("Player");return i=new s(r,e,n),yr.hooks("setup").forEach(function(t){return t(i)}),i}if(yr.hooks_={},yr.hooks=function(t,e){return yr.hooks_[t]=yr.hooks_[t]||[],e&&(yr.hooks_[t]=yr.hooks_[t].concat(e)),yr.hooks_[t]},yr.hook=function(t,e){yr.hooks(t,e)},yr.hookOnce=function(t,e){yr.hooks(t,[].concat(e).map(function(e){return function n(){return yr.removeHook(t,n),e.apply(void 0,arguments)}}))},yr.removeHook=function(t,e){var n=yr.hooks(t).indexOf(e);return!(n<=-1)&&(yr.hooks_[t]=yr.hooks_[t].slice(),yr.hooks_[t].splice(n,1),!0)},!0!==s.VIDEOJS_NO_DYNAMIC_STYLE&&et()){var br=At(".vjs-styles-defaults");if(!br){br=Zt("vjs-styles-defaults");var _r=At("head");_r&&_r.insertBefore(br,_r.firstChild),Qt(br,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Jt(1,yr),yr.VERSION=h,yr.options=ur.prototype.options_,yr.getPlayers=function(){return ur.players},yr.getPlayer=function(t){var e=ur.players,n=void 0;if("string"==typeof t){var i=vr(t),r=e[i];if(r)return r;n=At("#"+i)}else n=t;if(nt(n)){var s=n,a=s.player,o=s.playerId;if(a||e[o])return a||e[o]}},yr.getAllPlayers=function(){return Object.keys(ur.players).map(function(t){return ur.players[t]}).filter(Boolean)},yr.players=ur.players,yr.getComponent=ve.getComponent,yr.registerComponent=function(t,e){pn.isTech(e)&&X.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ve.registerComponent.call(ve,t,e)},yr.getTech=pn.getTech,yr.registerTech=pn.registerTech,yr.use=function(t,e){gn[t]=gn[t]||[],gn[t].push(e)},!A&&Object.defineProperty?(Object.defineProperty(yr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(yr.middleware,"TERMINATOR",{value:vn,writeable:!1,enumerable:!0})):yr.middleware={TERMINATOR:vn},yr.browser=L,yr.TOUCH_ENABLED=I,yr.extend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},i={};for(var r in"object"===(void 0===e?"undefined":F(e))?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":F(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},yr.mergeOptions=me,yr.bind=te,yr.registerPlugin=mr.registerPlugin,yr.deregisterPlugin=mr.deregisterPlugin,yr.plugin=function(t,e){return X.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),mr.registerPlugin(t,e)},yr.getPlugins=mr.getPlugins,yr.getPlugin=mr.getPlugin,yr.getPluginVersion=mr.getPluginVersion,yr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),yr.options.languages=me(yr.options.languages,((n={})[t]=e,n)),yr.options.languages[t]},yr.log=X,yr.createTimeRange=yr.createTimeRanges=_e,yr.formatTime=Hn,yr.setFormatTime=function(t){Un=t},yr.resetFormatTime=function(){Un=jn},yr.parseUrl=Je,yr.isCrossOrigin=tn,yr.EventTarget=ie,yr.on=qt,yr.one=$t,yr.off=zt,yr.trigger=Wt,yr.xhr=l,yr.TextTrack=sn,yr.AudioTrack=an,yr.VideoTrack=on,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){yr[t]=function(){return X.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Pt[t].apply(null,arguments)}}),yr.computedStyle=J,yr.dom=Pt,yr.url=en,t.exports=yr},"1qaj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var r,s=n("1n34"),a=(r=s)&&r.__esModule?r:{default:r},o=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return a.default.createTimeRanges(n)},u=function(t,e){var n=null,i=null,r=0,s=[],o=[];if(!(t&&t.length&&e&&e.length))return a.default.createTimeRange();for(var u=t.length;u--;)s.push({time:t.start(u),type:"start"}),s.push({time:t.end(u),type:"end"});for(u=e.length;u--;)s.push({time:e.start(u),type:"start"}),s.push({time:e.end(u),type:"end"});for(s.sort(function(t,e){return t.time-e.time}),u=0;u<s.length;u++)"start"===s[u].type?2===++r&&(n=s[u].time):"end"===s[u].type&&1===--r&&(i=s[u].time),null!==n&&null!==i&&(o.push([n,i]),n=null,i=null);return a.default.createTimeRanges(o)};e.default={findRange:function(t,e){return o(t,function(t,n){return t-1/30<=e&&n+1/30>=e})},findNextRange:function(t,e){return o(t,function(t){return t-1/30>=e})},findGaps:function(t){if(t.length<2)return a.default.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return a.default.createTimeRanges(e)},findSoleUncommonTimeRangesEnd:function(t,e){var n=void 0,i=void 0,r=void 0,s=[],a=[],o=function(t){return t[0]<=r&&t[1]>=r};if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),a.push([i,r]);if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),a.some(o)||s.push(r);return 1!==s.length?null:s[0]},getSegmentBufferedPercent:function(t,e,n,r){var s,o,l,c,h,d=t+e,f=a.default.createTimeRanges([[t,d]]),p=a.default.createTimeRanges([[(s=t,o=[n,d],l=i(o,2),c=l[0],h=l[1],Math.min(Math.max(c,s),h)),d]]);if(p.start(0)===p.end(0))return 0;var g=function(t,e,n,i){for(var r=e.end(0)-e.start(0),s=r-(t.end(0)-t.start(0)),a=u(t,i),o=u(e,i),l=0,c=0,h=a.length;h--;)l+=a.end(h)-a.start(h),a.start(h)===n&&(l+=s);for(h=o.length;h--;)c+=o.end(h)-o.start(h);return Math.max(l,c)/r*100}(p,f,n,r);return isNaN(g)||g===1/0||g===-1/0?0:g},TIME_FUDGE_FACTOR:1/30,SAFE_TIME_DELTA:.1,printableRange:function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},timeUntilRebuffer:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return((t.length?t.end(t.length-1):0)-e)/n}},t.exports=e.default},"273z":function(t,e,n){var i=n("HH4H"),r=n("UB+n"),s=n("GEwK"),a=n("Rb18"),o=n("qozV"),u=function(t,e,n){var l,c,h,d=t&u.F,f=t&u.G,p=t&u.S,g=t&u.P,m=t&u.B,v=t&u.W,y=f?r:r[e]||(r[e]={}),b=y.prototype,_=f?i:p?i[e]:(i[e]||{}).prototype;for(l in f&&(n=e),n)(c=!d&&_&&void 0!==_[l])&&o(y,l)||(h=c?_[l]:n[l],y[l]=f&&"function"!=typeof _[l]?n[l]:m&&c?s(h,i):v&&_[l]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?s(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[l]=h,t&u.R&&b&&!b[l]&&a(b,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"2Eis":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.parseCodecs=function(){var t,e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}},"2LoE":function(t,e,n){t.exports={default:n("gsCR"),__esModule:!0}},"2Sgk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){return t&&t.__esModule?t:{default:t}}var s=r(n("fIEz")),a=r(n("JiHl")),o=n("Xdcu"),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new s.default(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),o=new Int32Array(a.buffer),l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(l=n[0],c=n[1],h=n[2],d=n[3],v=0;v<i.length;v+=4)f=u(i[v]),p=u(i[v+1]),g=u(i[v+2]),m=u(i[v+3]),r.decrypt(f,p,g,m,o,v),o[v]=u(o[v]^l),o[v+1]=u(o[v+1]^c),o[v+2]=u(o[v+2]^h),o[v+3]=u(o[v+3]^d),l=f,c=p,h=g,d=m;return a};e.decrypt=l;var c=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=t.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new a.default,this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+s),n,i,c)),h=s;h<l.length;h+=s)i=new Uint32Array([u(l[h-4]),u(l[h-3]),u(l[h-2]),u(l[h-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(h,h+s),n,i,c));this.asyncStream_.push(function(){r(null,(0,o.unpad)(c))})}return i(t,[{key:"decryptChunk_",value:function(t,e,n,i){return function(){var r=l(t,e,n);i.set(r,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),t}();e.Decrypter=c,e.default={Decrypter:c,decrypt:l}},"2WZl":function(t,e,n){"use strict";var i=n("8r5Y");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"2usS":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"3Xjo":function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,s=r-(n||r);t.diff=s,t.prev=n,t.curr=r,n=r;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;u++;var r=e.formatters[i];if("function"==typeof r){var s=a[u];n=r.call(t,s),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(i.log||e.log||console.log.bind(console)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var s=e.instances[n];s.enabled=e.enabled(s.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("W3uh"),e.instances=[],e.names=[],e.skips=[],e.formatters={}},"3cXf":function(t,e,n){t.exports={default:n("EAud"),__esModule:!0}},"3faG":function(t,e,n){"use strict";var i=n("cuTx"),r=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},s=function(t){var e,n;s.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=r(t.dts,n),t.pts=r(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:r}},"3hLq":function(t,e,n){var i=n("6Bon"),r=n("HeGE"),s=n("mhb3")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[s])?e:r(n)}},"4/oY":function(t,e,n){"use strict";var i,r,s,a=n("uUG0"),o=n("Qm5e"),u=n("o/0m"),l=n("OouK").TimestampRolloverStream,c=n("o/0m");(i=function(){var t=new Uint8Array(188),e=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,s=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;s<i.byteLength;)71!==i[r]||71!==i[s]?(r++,s++):(this.trigger("data",i.subarray(r,s)),r+=188,s+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new a,(r=function(){var t,e,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var s=t[r],a=(31&t[r+1])<<8|t[r+2];s===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:s===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:s===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=s),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new a,r.STREAM_TYPES={h264:27,adts:15},(s=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,n,i){var r,s,a=new Uint8Array(e.size),o={type:n},u=0,l=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,u=0;u<e.data.length;u++)s=e.data[u],a.set(s.data,l),l+=s.data.byteLength;var c,h,d;c=a,(h=o).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),r="video"===n||o.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};s.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,a;switch(s.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:t=e,a="video";break;case u.ADTS_STREAM_TYPE:t=n,a="audio";break;case u.METADATA_STREAM_TYPE:t=i,a="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&r(t,a,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=s.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[s.type]()},this.flush=function(){r(e,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new a;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:s,TimestampRolloverStream:l,CaptionStream:o.CaptionStream,Cea608Stream:o.Cea608Stream,MetadataStream:n("KHTP")};for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d]);t.exports=h},"4A9Y":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},"4E2c":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("JlEl")),s=i(n("VBq3"));e.default=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=r.default.buildAbsoluteURL(s.default.location.href,t)),r.default.buildAbsoluteURL(t,e))},t.exports=e.default},"4YfN":function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("aA9S"),s=(i=r)&&i.__esModule?i:{default:i};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},"4pJO":function(t,e,n){"use strict";var i=n("8r5Y");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},"585m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){return t&&t.__esModule?t:{default:t}}var s=r(n("VBq3")),a=r(n("ltot")),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e||{},this.init()}return i(t,[{key:"init",value:function(){var t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(t=this.transmuxer).on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,s.default.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){s.default.postMessage({action:"caption",data:t})}),t.on("done",function(t){s.default.postMessage({action:"done"})}),t.on("gopInfo",function(t){s.default.postMessage({action:"gopInfo",gopInfo:t})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();e.default=function(t){return new function(t){t.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new o(t.data.options):(this.messageHandlers||(this.messageHandlers=new o),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(t)},t.exports=e.default},"5AJh":function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},"5D1g":function(t,e,n){t.exports=!n("QzFD")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"5RIO":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"5SCX":function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},"5ceI":function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||i&&(t instanceof ArrayBuffer||r(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,i="function"==typeof ArrayBuffer,r=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}}).call(e,n("7xR8").Buffer)},"6Bon":function(t,e,n){var i=n("ih9o");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"6F1C":function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},"6Iqy":function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},"6Ke0":function(t,e,n){var i=n("2usS");t.exports=function(t){return Object(i(t))}},"6LcQ":function(t,e){e.read=function(t,e,n,i,r){var s,a,o=8*r-i-1,u=(1<<o)-1,l=u>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+t[e+h],h+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===s)s=1-l;else{if(s===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),s-=l}return(f?-1:1)*a*Math.pow(2,s-i)},e.write=function(t,e,n,i,r,s){var a,o,u,l=8*s-r-1,c=(1<<l)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*u-1)*Math.pow(2,r),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&o,f+=p,o/=256,r-=8);for(a=a<<r|o,l+=r;l>0;t[n+f]=255&a,f+=p,a/=256,l-=8);t[n+f-p]|=128*g}},"6XwY":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={isAudioCodec:function(t){return/mp4a\.\d+.\d+/i.test(t)},parseContentType:function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e},isVideoCodec:function(t){return/avc1\.[\da-f]+/i.test(t)},translateLegacyCodecs:function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})}},t.exports=e.default},"71Ju":function(t,e,n){(function(e){var i=n("nRwT"),r=n("jmUK");t.exports=c;var s,a=/\n/g,o=/\\n/g;function u(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function c(t){if(i.call(this,t),this.query=this.query||{},!s){var e=l();s=e.___eio=e.___eio||[]}this.index=s.length;var n=this;s.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}r(c,i),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},c.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},c.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,r=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s}function l(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),c(),t=t.replace(o,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(e,n("9AUj"))},"72dD":function(t,e,n){e.f=n("mhb3")},"7lLl":function(t,e){var n=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function i(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function s(){this.values=n(null)}function a(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(n);if(2===a.length)e(a[0],a[1])}}function o(t,e,n){var o=t;function u(){var e=r(t);if(null===e)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=u(),l(),"--\x3e"!==t.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),l(),e.endTime=u(),l(),function(t,e){var i=new s;a(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===s.length&&i.alt("lineAlign",s[1],["start","middle","end"]);break;case"position":s=e.split(","),i.percent(t,s[0]),2===s.length&&i.alt("positionAlign",s[1],["start","middle","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical",""),e.line=i.get("line","auto"),e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align","middle"),e.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}i.prototype=n(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function d(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t){return u[t]}function s(t){for(;y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(y[0],i);return t}function a(t,e){return!h[e.localName]||h[e.localName]===t.localName}function o(e,n){var i=l[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var s=c[e];return s&&n&&(r[s]=n.trim()),r}for(var d,f=t.document.createElement("div"),p=f,g=[];null!==(d=n());)if("<"!==d[0])p.appendChild(t.document.createTextNode(s(d)));else{if("/"===d[1]){g.length&&g[g.length-1]===d.substr(2).replace(">","")&&(g.pop(),p=p.parentNode);continue}var m,v=r(d.substr(1,d.length-2));if(v){m=t.document.createProcessingInstruction("timestamp",v),p.appendChild(m);continue}var y=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=o(y[1],y[3])))continue;if(!a(p,m))continue;y[2]&&(m.className=y[2].substr(1).replace("."," ")),g.push(y[1]),p.appendChild(m),p=m}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(t){for(var e=0;e<f.length;e++){var n=f[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function g(){}function m(t,e,n){g.call(this),this.cue=e,this.cueDiv=d(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var s=n.match(/^.*(\n|\r)/);return s?(t.length=0,s[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var s=0;s<n.length;s++)if(p(n.charCodeAt(s)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"middle":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function v(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function y(t,e,n,i){var r=new v(e),s=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(s),o=[];if(s.snapToLines){var u;switch(s.vertical){case"":o=["+y","-y"],u="height";break;case"rl":o=["+x","-x"],u="width";break;case"lr":o=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),h=n[u]+l,d=o[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),a<0&&(c+=""===s.vertical?n.height:n.width,o=o.reverse()),r.move(d,c)}else{var f=r.lineHeight/n.height*100;switch(s.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],r=new v(e)}var p=function(t,e){for(var r,s=new v(t),a=1,o=0;o<e.length;o++){for(;t.overlapsOppositeAxis(n,e[o])||t.within(n)&&t.overlapsAny(i);)t.move(e[o]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new v(t),a=u),t=new v(s)}return r||s}(r,o);e.move(p.toCSSCompatValues(n))}function b(){}g.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},g.prototype.formatStyle=function(t,e){return 0===t?0:t+e},m.prototype=n(g.prototype),m.prototype.constructor=m,v.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},v.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},v.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},v.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},v.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},v.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},v.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},v.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},b.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},b.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};b.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],s=v.getSimpleBoxPosition(i),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var n,o,u=0;u<e.length;u++)o=e[u],n=new m(t,o,a),i.appendChild(n.div),y(0,n,s,r),o.displayState=n.div,r.push(v.getSimpleBoxPosition(n))}()}else for(var o=0;o<e.length;o++)i.appendChild(e[o].displayState)},b.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof i))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function u(t){t.match(/X-TIMESTAMP-MAP/)?a(t,function(t,n){switch(t){case"X-TIMESTAMP-MAP":i=n,o=new s,a(i,function(t,e){switch(t){case"MPEGT":o.integer(t+"S",e);break;case"LOCA":o.set(t+"L",r(e))}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:o.get("MPEGTS"),LOCAL:o.get("LOCAL")})}var i,o},/=/):a(t,function(t,n){switch(t){case"Region":!function(t){var n=new s;if(a(t,function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new s;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}},/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var l;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var c=(l=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new i(i.Errors.BadSignature);e.state="HEADER"}for(var h=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(h?h=!1:l=n(),e.state){case"HEADER":/:/.test(l)?u(l):l||(e.state="ID");continue;case"NOTE":l||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){e.state="NOTE";break}if(!l)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===l.indexOf("--\x3e")){e.cue.id=l;continue}case"CUE":try{o(l,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=-1!==l.indexOf("--\x3e");if(!l||d&&(h=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=l;continue;case"BADCUE":l||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new i(i.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=b},"7xR8":function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("iNHa"),r=n("6LcQ"),s=n("5RIO");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=d(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=o(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=o(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?o(t,0):d(t,e);if("Buffer"===e.type&&s(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=o(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|f(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var s,a=1,o=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,o/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(s=n;s<o;s++)if(l(t,s)===l(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(n+u>o&&(n=o-u),s=n;s>=0;s--){for(var h=!0,d=0;d<u;d++)if(l(t,s+d)!==l(e,d)){h=!1;break}if(h)return s}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var a=0;a<i;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[n+a]=o}return a}function b(t,e,n,i){return V(U(e,t.length-n),t,n,i)}function _(t,e,n,i){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function T(t,e,n,i){return _(t,e,n,i)}function S(t,e,n,i){return V(H(e),t,n,i)}function w(t,e,n,i){return V(function(t,e){for(var n,i,r,s=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,s.push(r),s.push(i);return s}(e,t.length-n),t,n,i)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var s,a,o,u,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(s=t[r+1]))&&(u=(31&l)<<6|63&s)>127&&(c=u);break;case 3:s=t[r+1],a=t[r+2],128==(192&s)&&128==(192&a)&&(u=(15&l)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[r+1],a=t[r+2],o=t[r+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=k));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var s=r-i,a=n-e,o=Math.min(s,a),l=this.slice(i,r),c=t.slice(e,n),h=0;h<o;++h)if(l[h]!==c[h]){s=l[h],a=c[h];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function x(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=j(t[s]);return r}function P(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,i,r,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-n,2);r<s;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-n,4);r<s;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function F(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,i,s){return s||F(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function M(t,e,n,i,s){return s||F(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=e,r=1,s=this[t+--i];i>0&&(r*=256);)s+=this[t+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[e]=255&t;++s<n&&(r*=256);)this[e+s]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var s=0,a=1,o=0;for(this[e]=255&t;++s<n&&(a*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var s=n-1,a=1,o=0;for(this[e+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&n<e&&e<i)for(r=s-1;r>=0;--r)t[r+e]=this[r+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=u.isBuffer(t)?t:U(new u(t,i).toString()),o=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%o]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function H(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(e,n("9AUj"))},"8r5Y":function(t,e,n){"use strict";var i=n("4A9Y"),r=n("5SCX"),s=Object.prototype.toString;function a(t){return"[object Array]"===s.call(t)}function o(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===s.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:u,isStream:function(t){return o(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},"92Lf":function(t,e,n){var i=n("aShn")("meta"),r=n("ih9o"),s=n("qozV"),a=n("VKnT").f,o=0,u=Object.isExtensible||function(){return!0},l=!n("QzFD")(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++o,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!s(t,i)&&c(t),t}}},"9AUj":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"9JTW":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"9SM9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("pmpl")),o=s(n("1n34")),u=s(n("Ubp5")),l=s(n("aPx6")),c=s(n("VBq3")),h=s(n("lY3j")),d=n("iqvJ"),f=n("Td/5"),p=n("1qaj"),g=n("Mb/S"),m=function(t,e,n){if(!t||!e)return!1;var i=n===t.segments.length;return t.endList&&"open"===e.readyState&&i},v=function(t){return"number"==typeof t&&isFinite(t)},y=function(t,e,n){return"main"===t&&e&&n?n.containsAudio||n.containsVideo?e.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};e.illegalMediaSwitch=y;var b=function(t,e,n){var i=void 0;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-n)};e.safeBackBufferTrimTime=b;var _=function(t){function e(t){var n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.hls_=t.hls,this.loaderType_=t.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),this.fetchAtBuffer_=!1,i.debug&&(this.logger_=o.default.log.bind(o.default,"segment-loader",this.loaderType_,"->"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"].EventTarget),i(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():o.default.createTimeRanges()}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,d.initSegmentId)(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new u.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t){var n=this.playlist_,i=this.pendingSegment_;if(this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var r=t.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),i&&(i.mediaIndex-=r,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t){this.mimeType_||(this.mimeType_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e){this.sourceUpdater_&&this.sourceUpdater_.remove(t,e),(0,h.default)(t,e,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=c.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&c.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=c.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t)m(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment),this.loadSegment_(t))}}},{key:"checkBuffer_",value:function(t,e,n,i,r,s){var o=0,u=void 0;t.length&&(o=t.end(t.length-1));var l,c=Math.max(0,o-r);if(!e.segments.length)return null;if(c>=this.goalBufferLength_())return null;if(!i&&c>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",i,"currentTime:",r,"syncPoint:",s,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",c),null===s)return n=this.getSyncSegmentCandidate_(e),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var h=e.segments[n];return u=h&&h.end?h.end:o,this.generateSegmentInfo_(e,n+1,u,!1)}this.fetchAtBuffer_?(n=(l=a.default.getMediaInfoForTime(e,o,s.segmentIndex,s.time)).mediaIndex,u=l.startTime):(n=(l=a.default.getMediaInfoForTime(e,r,s.segmentIndex,s.time)).mediaIndex,u=l.startTime);return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",u),this.generateSegmentInfo_(e,n,u,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=a.default.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),s=(0,p.timeUntilRebuffer)(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var o=(0,g.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var u=r-s-o.rebufferingImpact,c=.5;return s<=p.TIME_FUDGE_FACTOR&&(c=1),!o.playlist||o.playlist.uri===this.playlist_.uri||u<c?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*l.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=(0,f.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=b(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:i}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===f.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===f.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r=y(this.loaderType_,this.startingMedia_,i);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var s=this.syncController_.mappingForTimeline(e.timeline);null!==s&&this.trigger({type:"segmenttimemapping",mapping:s}),this.state="APPENDING",n.map&&function(){var e=(0,d.initSegmentId)(n.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var i=t.initSegment(n.map);t.sourceUpdater_.appendBuffer(i.bytes,function(){t.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),m(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(v(n)&&v(i)){(0,h.default)(n,i,this.segmentMetadataTrack_);var r=c.default.WebKitDataCue||c.default.VTTCue,s={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},a=new r(n,i,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}}}}]),e}();e.default=_},"9X2i":function(t,e){var n={"":!0,up:!0};function i(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,r=0,s=100,a=0,o=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e}}})}},"9rMa":function(t,e,n){"use strict";n.d(e,"c",function(){return b}),n.d(e,"b",function(){return _});
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */
var i=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},r="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},o={namespaced:{configurable:!0}};o.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){s(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,o);var u=function(t){this.register([],t,!1)};u.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},u.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},u.prototype.update=function(t){!function t(e,n,i){0;n.update(i);if(i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;t(e.concat(r),n.getChild(r),i.modules[r])}}([],this.root,t)},u.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new a(e,n);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&s(e.modules,function(e,r){i.register(t.concat(r),e,n)})},u.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var l;var c=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var s=t.state;void 0===s&&(s={}),"function"==typeof s&&(s=s()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l;var a=this,o=this.dispatch,c=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,n){return c.call(a,t,e,n)},this.strict=i,g(this,s,[],this._modules.root),p(this,s),n.forEach(function(t){return t(e)}),l.config.devtools&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}(this)},h={state:{configurable:!0}};function d(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var i=t._vm;t.getters={};var r={};s(t._wrappedGetters,function(e,n){r[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:r}),l.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),l.nextTick(function(){return i.$destroy()}))}function g(t,e,n,i,r){var s=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!s&&!r){var o=m(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){l.set(o,u,i.state)})}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var s=v(n,i,r),a=s.payload,o=s.options,u=s.type;return o&&o.root||(u=e+u),t.dispatch(u,a)},commit:i?t.commit:function(n,i,r){var s=v(n,i,r),a=s.payload,o=s.options,u=s.type;o&&o.root||(u=e+u),t.commit(u,a,o)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}}),n}(t,e)}},state:{get:function(){return m(t.state,n)}}}),r}(t,a,n);i.forEachMutation(function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,i.state,e)})}(t,a+n,e,c)}),i.forEachAction(function(e,n){var i=e.root?n:a+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var s,a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return(s=a)&&"function"==typeof s.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,i,r,c)}),i.forEachGetter(function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,a+n,e,c)}),i.forEachChild(function(i,s){g(t,e,n.concat(s),i,r)})}function m(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function v(t,e,n){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){l&&t===l||i(l=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){0},c.prototype.commit=function(t,e,n){var i=this,r=v(t,e,n),s=r.type,a=r.payload,o=(r.options,{type:s,payload:a}),u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(o,i.state)}))},c.prototype.dispatch=function(t,e){var n=this,i=v(t,e),r=i.type,s=i.payload,a={type:r,payload:s},o=this._actions[r];if(o)return this._actionSubscribers.forEach(function(t){return t(a,n.state)}),o.length>1?Promise.all(o.map(function(t){return t(s)})):o[0](s)},c.prototype.subscribe=function(t){return d(t,this._subscribers)},c.prototype.subscribeAction=function(t){return d(t,this._actionSubscribers)},c.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},c.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},c.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},c.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=m(e.state,t.slice(0,-1));l.delete(n,t[t.length-1])}),f(this)},c.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},c.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(c.prototype,h);var b=E(function(t,e){var n={};return w(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=C(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),_=E(function(t,e){var n={};return w(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var s=C(this.$store,"mapMutations",t);if(!s)return;i=s.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),T=E(function(t,e){var n={};return w(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||C(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),S=E(function(t,e){var n={};return w(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var s=C(this.$store,"mapActions",t);if(!s)return;i=s.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n});function w(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function E(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function C(t,e,n){return t._modulesNamespaceMap[n]}var k={Store:c,install:y,version:"3.0.1",mapState:b,mapMutations:_,mapGetters:T,mapActions:S,createNamespacedHelpers:function(t){return{mapState:b.bind(null,t),mapGetters:T.bind(null,t),mapMutations:_.bind(null,t),mapActions:S.bind(null,t)}}};e.a=k},ANsJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n("McJY"),a=(i=s)&&i.__esModule?i:{default:i};var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.buffer="",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),r(e,[{key:"push",value:function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)}}]),e}();e.default=o},AelL:function(t,e){t.exports=function(){}},"B1+1":function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},B7Wq:function(t,e,n){"use strict";var i=n("o/0m"),r=n("OouK").handleRollover,s={};s.ts=n("t+Qy"),s.aac=n("pa3L");var a=function(t,e,n){for(var i,r,a,o,u=0,l=188,c=!1;l<t.byteLength;)if(71!==t[u]||71!==t[l])u++,l++;else{switch(i=t.subarray(u,l),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),c=!0)}if(c)break;u+=188,l+=188}for(u=(l=t.byteLength)-188,c=!1;u>=0;)if(71!==t[u]||71!==t[l])u--,l--;else{switch(i=t.subarray(u,l),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),c=!0)}if(c)break;u-=188,l-=188}},o=function(t,e,n){for(var i,r,a,o,u,l,c,h=0,d=188,f=!1,p={data:[],size:0};d<t.byteLength;)if(71!==t[h]||71!==t[d])h++,d++;else{switch(i=t.subarray(h,d),s.ts.parseType(i,e.pid)){case"pes":if(r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!f&&(o=s.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(u=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),u.set(c,l),l+=c.byteLength;s.ts.videoPacketContainsKeyFrame(u)&&(n.firstKeyFrame=s.ts.parsePesTime(u),n.firstKeyFrame.type="video"),p.size=0}p.data.push(i),p.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;h+=188,d+=188}for(h=(d=t.byteLength)-188,f=!1;h>=0;)if(71!==t[h]||71!==t[d])h--,d--;else{switch(i=t.subarray(h,d),s.ts.parseType(i,e.pid)){case"pes":r=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(o=s.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),f=!0)}if(f)break;h-=188,d-=188}},u=function(t){var e={pid:null,table:null},n={};for(var r in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),s.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=s.ts.parsePat(n));break;case"pmt":e.table||(e.table=s.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table){if(e.table.hasOwnProperty(r))switch(e.table[r]){case i.H264_STREAM_TYPE:n.video=[],o(t,e,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],a(t,e,n),0===n.audio.length&&delete n.audio}}return n};t.exports={inspect:function(t,e){var n,i;return(i=(n=t)[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?function(t){for(var e,n=!1,i=0,r=null,a=null,o=0,u=0;t.length-u>=3;){switch(s.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){n=!0;break}if((o=s.aac.parseId3TagSize(t,u))>t.length){n=!0;break}null===a&&(e=t.subarray(u,u+o),a=s.aac.parseAacTimestamp(e)),u+=o;break;case"audio":if(t.length-u<7){n=!0;break}if((o=s.aac.parseAdtsSize(t,u))>t.length){n=!0;break}null===r&&(e=t.subarray(u,u+o),r=s.aac.parseSampleRate(e)),i++,u+=o;break;default:u++}if(n)return null}if(null===r||null===a)return null;var l=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}(t):u(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=r(s.dts,i),s.pts=r(s.pts,i),s.dtsTime=s.dts/9e4,s.ptsTime=s.dts/9e4}}}(i,e),i):null}}},C7Lr:function(t,e){t.exports=function(t,e,n,i,r,s){var a,o=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(a=t,o=t.default);var l,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=i),l){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=l,c.render=function(t,e){return l.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:o,options:c}}},CRWL:function(t,e,n){var i;i=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),r=window.videojs||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},writable:!0,configurable:!0});var s=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];e.default={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}}}},globalEvents:{type:Array,default:function(){return[]}}},data:function(){return{player:null,reseted:!0}},mounted:function(){this.player||this.initialize()},beforeDestroy:function(){this.player&&this.dispose()},methods:{initialize:function(){var t=this,e=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));var n=function(e,n){e&&t.$emit(e,t.player),n&&t.$emit(t.customEventName,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n))};e.plugins&&delete e.plugins.__ob__;var i=this;this.player=r(this.$refs.video,e,function(){for(var t=this,e=s.concat(i.events).concat(i.globalEvents),r={},a=0;a<e.length;a++)"string"==typeof e[a]&&void 0===r[e[a]]&&function(e){r[e]=null,t.on(e,function(){n(e,!0)})}(e[a]);this.on("timeupdate",function(){n("timeupdate",this.currentTime())}),i.$emit("ready",this)})},dispose:function(t){var e=this;this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick(function(){e.reseted=!1,e.$nextTick(function(){e.reseted=!0,e.$nextTick(function(){t&&t()})})}))}},watch:{options:{deep:!0,handler:function(t,e){var n=this;this.dispose(function(){t&&t.sources&&t.sources.length&&n.initialize()})}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i);for(var s in i)["default","default"].indexOf(s)<0&&function(t){n.d(e,t,function(){return i[t]})}(s);var a=n(5),o=n(4)(r.a,a.a,!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.videoPlayer=e.videojs=void 0;var r=i(n(0)),s=i(n(2)),a=window.videojs||r.default,o=function(t,e){e&&(e.options&&(s.default.props.globalOptions.default=function(){return e.options}),e.events&&(s.default.props.globalEvents.default=function(){return e.events})),t.component(s.default.name,s.default)},u={videojs:a,videoPlayer:s.default,install:o};e.default=u,e.videojs=a,e.videoPlayer=s.default,e.install=o},function(t,e){t.exports=function(t,e,n,i,r,s){var a,o=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(a=t,o=t.default);var l,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=i),l){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=l,c.render=function(t,e){return l.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:o,options:c}}},function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.reseted?n("div",{staticClass:"video-player"},[n("video",{ref:"video",staticClass:"video-js"})]):t._e()},staticRenderFns:[]};e.a=i}])},t.exports=i(n("1n34"))},Cpki:function(t,e,n){(function(e){var i,r,s=n("G2hA"),a=n("JBnk"),o=n("qoCw"),u=n("jmUK"),l=n("RqS9"),c=n("zxol")("engine.io-client:websocket");if("undefined"==typeof self)try{r=n(0)}catch(t){}else i=self.WebSocket||self.MozWebSocket;var h=i||r;function d(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),s.call(this,t)}t.exports=d,u(d,s),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},d.prototype.write=function(t){var n=this;this.writable=!1;for(var i=t.length,r=0,s=i;r<s;r++)!function(t){a.encodePacket(t,n.supportsBinary,function(r){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate)("string"==typeof r?e.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(s.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,s)}catch(t){c("websocket closed before onclose event")}--i||o()})}(t[r]);function o(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},d.prototype.onClose=function(){s.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=l()),this.supportsBinary||(t.b64=1),(t=o.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},d.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===d.prototype.name)}}).call(e,n("7xR8").Buffer)},Cuts:function(t,e){var n="auto",i={"":1,lr:1,rl:1},r={start:1,middle:1,end:1,left:1,right:1};function s(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function a(t,e,r){this.hasBeenReset=!1;var a="",o=!1,u=t,l=e,c=r,h=null,d="",f=!0,p="auto",g="start",m=50,v="middle",y=50,b="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(t){a=""+t}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(t){o=!!t}},startTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");l=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t&&t!==n)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return g},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");m=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a},Cwod:function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},DFUp:function(t,e){t.exports={toUnsigned:function(t){return t>>>0}}},Dam6:function(t,e,n){var i=n("oF46"),r=n("ms8w"),s=n("Wo2q"),a=n("ykTf"),o=n("5AJh"),u=n("bwJK"),l=n("zxol")("socket.io-client:manager"),c=n("6F1C"),h=n("yqnZ"),d=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var s=o(n,"open",function(){r.onopen(),t&&t()}),a=o(n,"error",function(e){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;l("connect attempt will timeout after %d",u);var c=setTimeout(function(){l("connect attempt timed out after %d",u),s.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(s),this.subs.push(a),this},f.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(o(t,"data",u(this,"ondata"))),this.subs.push(o(t,"ping",u(this,"onping"))),this.subs.push(o(t,"pong",u(this,"onpong"))),this.subs.push(o(t,"error",u(this,"onerror"))),this.subs.push(o(t,"close",u(this,"onclose"))),this.subs.push(o(this.decoder,"decoded",u(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",s),n.on("connect",function(){n.id=i.generateId(t)}),this.autoConnect&&s()}function s(){~c(i.connecting,n)||i.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=c(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},DxdJ:function(t,e,n){var i=n("e63z"),r=n("zxol")("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),r("parse %s",t),n=i(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}},"E4A/":function(t,e,n){"use strict";var i;i=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(r,r+a)),n=new DataView(s.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),s=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},E5ix:function(t,e){t.exports=!0},EAud:function(t,e,n){var i=n("UB+n"),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},EKZz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var s=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=s||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},t.exports=e.default},EMcm:function(t,e,n){var i=n("qozV"),r=n("6Ke0"),s=n("vD1g")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},EWZD:function(t,e,n){var i=n("GEwK"),r=n("1NKp"),s=n("fC/e"),a=n("6Bon"),o=n("WA9S"),u=n("MGMR"),l={},c={};(e=t.exports=function(t,e,n,h,d){var f,p,g,m,v=d?function(){return t}:u(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(s(v)){for(f=o(t.length);f>b;b++)if((m=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||m===c)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=r(g,y,p.value,e))===l||m===c)return m}).BREAK=l,e.RETURN=c},EfSN:function(t,e){function n(){}t.exports=function(t,e,i){var r=!1;return i=i||n,s.count=t,0===t?e():s;function s(t,n){if(s.count<=0)throw new Error("after called too many times");--s.count,t?(r=!0,e(t),e=i):0!==s.count||r||e(null,n)}}},EzGQ:function(t,e,n){"use strict";t.exports=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})}},F4Qp:function(t,e,n){var i=n("HH4H"),r=n("nBHa").set,s=i.MutationObserver||i.WebKitMutationObserver,a=i.process,o=i.Promise,u="process"==n("NzvA")(a);t.exports=function(){var t,e,n,l=function(){var i,r;for(u&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(u)n=function(){a.nextTick(l)};else if(!s||i.navigator&&i.navigator.standalone)if(o&&o.resolve){var c=o.resolve(void 0);n=function(){c.then(l)}}else n=function(){r.call(i,l)};else{var h=!0,d=document.createTextNode("");new s(l).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},F9Or:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("VBq3")),o=s(n("e3Mc")),u=s(n("1n34")),l=s(n("SetI")),c=n("popd"),h=n("6XwY"),d=function(t){function e(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;for(n in this.nativeMediaSource_=new a.default.MediaSource,this.nativeMediaSource_)n in e.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,i=!0,r=0;r<t.player_.audioTracks().length;r++){var s=t.player_.audioTracks()[r];if(s.enabled&&"main"!==s.kind){n=!0,i=!1;break}}t.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=i,i))return;t.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var n=o.default.querySelector('[src="'+t.url_+'"]');n&&(t.player_=(0,u.default)(n.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var n=(0,c.durationOfVideo)(t.duration),i=0;i<t.sourceBuffers.length;i++){var r=t.sourceBuffers[i],s=r.metadataTrack_&&r.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=n)}}),this.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u["default"].EventTarget),i(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=(0,h.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=(0,h.translateLegacyCodecs)(i)).filter(function(t){return(0,h.isAudioCodec)(t)||(0,h.isVideoCodec)(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new l.default(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}();e.default=d,t.exports=e.default},FGgV:function(t,e,n){var i=n("UB+n"),r=n("HH4H"),s=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("E5ix")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},FJlU:function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var s=i,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}},FOxZ:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},G2hA:function(t,e,n){var i=n("JBnk"),r=n("Wo2q");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=s,r(s.prototype),s.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},GD3X:function(t,e,n){(function(e){var i=n("jC/k"),r=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(i(n)){for(var r=0,o=n.length;r<o;r++)if(t(n[r]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||s&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(e,n("7xR8").Buffer)},GEwK:function(t,e,n){var i=n("HeGE");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},GYwi:function(t,e,n){n("l7eM"),n("VE3R"),n("wxaW"),n("kih7"),t.exports=n("UB+n").Symbol},GfBe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("1n34"),s=(i=r)&&i.__esModule?i:{default:i},a={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};e.default=function(t){!function t(e,n){var i=0,r=0,o=s.default.mergeOptions(a,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function(){r&&e.currentTime(r)},l=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",u),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){if(Date.now()-i<1e3*o.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"==typeof o.getSource)return i=Date.now(),o.getSource.call(e,l);s.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},h=function t(){e.off("loadedmetadata",u),e.off("error",c),e.off("dispose",t)};e.on("error",c),e.on("dispose",h),e.reloadSourceOnError=function(n){h(),t(e,n)}}(this,t)},t.exports=e.default},"H/R3":function(t,e,n){var i=n("273z");i(i.S+i.F*!n("5D1g"),"Object",{defineProperty:n("VKnT").f})},H0Gi:function(t,e,n){"use strict";var i=n("VBq3"),r=n("B1+1"),s=n("LBHr"),a=n("fYmq");function o(t,e,n){var i=t;return r(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=a(e,{uri:t}),i.callback=n,i}function u(t,e,n){return l(e=o(t,e,n))}function l(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(t){return clearTimeout(c),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,v)}function r(){if(!o){var e;clearTimeout(c),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var i=v,r=null;return 0!==e?(i={body:function(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}(l),m)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:d,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(i.headers=s(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,i,i.body)}}var a,o,l=t.xhr||null;l||(l=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var c,h=l.url=t.uri||t.url,d=l.method=t.method||"GET",f=t.body||t.data,p=l.headers=t.headers||{},g=!!t.sync,m=!1,v={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:l};if("json"in t&&!1!==t.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===t.json?f:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(r,0)},l.onload=r,l.onerror=i,l.onprogress=function(){},l.onabort=function(){o=!0},l.ontimeout=i,l.open(d,h,!g,t.username,t.password),g||(l.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(c=setTimeout(function(){if(!o){o=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}},t.timeout)),l.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&l.setRequestHeader(a,p[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(f||null),l}t.exports=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(e,n,i){return(n=o(e,n,i)).method=t.toUpperCase(),l(n)}})},H4Cu:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("1n34")),s=i(n("H800")),a=function(){},o=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},u=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)};e.stopLoaders=u;var l=function(t,e){e.activePlaylistLoader=t,t.load()};e.startLoaders=l;var c=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),c=s.activePlaylistLoader;u(i,s),o&&(o.playlistLoader?(i.resyncLoader(),l(o.playlistLoader,s)):c&&r.resetEverything())}};e.onGroupChanged=c;var h=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),c=s.activePlaylistLoader;u(i,s),o&&(o.playlistLoader?c!==o.playlistLoader?(i.track&&i.track(a),i.resetEverything(),l(o.playlistLoader,s)):l(o.playlistLoader,s):r.resetEverything())}};e.onTrackChanged=h;var d={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],s=e.blacklistCurrentPlaylist;u(n,i);var a=i.activeTrack(),o=i.activeGroup(),l=(o.filter(function(t){return t.default})[0]||o[0]).id,c=i.tracks[l];if(a!==c){for(var h in r.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[h].enabled=i.tracks[h]===c;i.onTrackChanged()}else s({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];r.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),u(n,i);var s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}}};e.onError=d;var f={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,s=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",d[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,s=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),s.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",d[t](t,n))}};e.setupListeners=f;var p={AUDIO:function(t,e){var n=e.mode,i=e.hls,a=e.segmentLoaders[t],u=e.requestOptions,l=e.master.mediaGroups,c=e.mediaTypes[t],h=c.groups,p=c.tracks;for(var g in l[t]&&0!==Object.keys(l[t]).length&&"html5"===n||(l[t]={main:{default:{default:!0}}}),l[t])for(var m in h[g]||(h[g]=[]),l[t][g]){var v=l[t][g][m],y=void 0;if(y=v.resolvedUri?new s.default(v.resolvedUri,i,u):null,v=r.default.mergeOptions({id:m,playlistLoader:y},v),f[t](t,v.playlistLoader,e),h[g].push(v),void 0===p[m]){var b=new r.default.AudioTrack({id:m,kind:o(v),enabled:!1,language:v.language,default:v.default,label:m});p[m]=b}}a.on("error",d[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,a=e.segmentLoaders[t],o=e.requestOptions,u=e.master.mediaGroups,l=e.mediaTypes[t],c=l.groups,h=l.tracks;for(var p in u[t])for(var g in c[p]||(c[p]=[]),u[t][p])if(!u[t][p][g].forced){var m=u[t][p][g];if(m=r.default.mergeOptions({id:g,playlistLoader:new s.default(m.resolvedUri,i,o)},m),f[t](t,m.playlistLoader,e),c[p].push(m),void 0===h[g]){var v=n.addRemoteTextTrack({id:g,kind:"subtitles",enabled:!1,language:m.language,label:g},!1).track;h[g]=v}}a.on("error",d[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,s=e.mediaTypes[t],a=s.groups,o=s.tracks;for(var u in i[t])for(var l in a[u]||(a[u]=[]),i[t][u]){var c=i[t][u][l];if(c.instreamId.match(/CC\d/)&&(a[u].push(r.default.mergeOptions({id:l},c)),void 0===o[l])){var h=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:l},!1).track;o[l]=h}}}};e.initialize=p;var g=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,s=i.media();if(!s)return null;var a=null;return s.attributes[t]&&(a=r[s.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter(function(t){return t.id===n.id})[0]||null}};e.activeGroup=g;var m={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}};e.activeTrack=m;e.setupMediaGroups=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){p[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=g(n,t),e[n].activeTrack=m[n](n,t),e[n].onGroupChanged=c(n,t),e[n].onTrackChanged=h(n,t)});var s=e.AUDIO.activeGroup(),a=(s.filter(function(t){return t.default})[0]||s[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var o=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])};e.createMediaTypes=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:a,activeTrack:a,onGroupChanged:a,onTrackChanged:a}}),t}},H800:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("4E2c")),o=n("1n34"),u=s(n("yfPx")),l=s(n("VBq3")),c=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),s=n;s<r;s++)i[s-n]=(0,o.mergeOptions)(t[s],i[s-n]);return i};e.updateSegments=c;var h=function(t,e){t.resolvedUri||(t.resolvedUri=(0,a.default)(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=(0,a.default)(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=(0,a.default)(e,t.map.uri))};e.resolveSegmentUris=h;var d=function(t,e){var n=(0,o.mergeOptions)(t,{}),i=n.playlists.filter(function(t){return t.uri===e.uri})[0];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.mediaSequence===e.mediaSequence)return null;var r=(0,o.mergeOptions)(i,e);i.segments&&(r.segments=c(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){h(t,r.resolvedUri)});for(var s=0;s<n.playlists.length;s++)n.playlists[s].uri===e.uri&&(n.playlists[s]=r);return n.playlists[e.uri]=r,n};e.updateMaster=d;var f=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=(0,a.default)(t.uri,n.uri),n.attributes||(n.attributes={},o.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};e.setupMediaPlaylists=f;var p=function(t){["AUDIO","SUBTITLES"].forEach(function(e){for(var n in t.mediaGroups[e])for(var i in t.mediaGroups[e][n]){var r=t.mediaGroups[e][n][i];r.uri&&(r.resolvedUri=(0,a.default)(t.uri,r.uri))}})};e.resolveMediaGroupUris=p;var g=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)};e.refreshDelay=g;var m=function(t){function e(t,n,i){var s=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),i=i||{},this.srcUrl=t,this.hls_=n,this.withCredentials=!!i.withCredentials,this.handleManifestRedirects=!!i.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===s.state&&(s.state="HAVE_CURRENT_METADATA",s.request=s.hls_.xhr({uri:(0,a.default)(s.master.uri,s.media().uri),withCredentials:s.withCredentials},function(t,e){if(s.request)return t?s.playlistRequestError(s.request,s.media().uri,"HAVE_METADATA"):void s.haveMetadata(s.request,s.media().uri)}))})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.EventTarget),i(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new u.default.Parser;i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var r=d(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(l.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=l.default.setTimeout(function(){n.trigger("mediaupdatetimeout")},g(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),l.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(i,r){if(e.request){if(t.resolvedUri=e.resolveManifestRedirect(t.resolvedUri,r),i)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(r,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"resolveManifestRedirect",value:function(t,e){return this.handleManifestRedirects&&e.responseURL&&t!==e.responseURL?e.responseURL:t}},{key:"pause",value:function(){this.stopRequest(),l.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;l.default.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=l.default.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new u.default.Parser;return i.push(n.responseText),i.end(),t.state="HAVE_MASTER",t.srcUrl=t.resolveManifestRedirect(t.srcUrl,n),i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,f(t.master),p(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:l.default.location.href,playlists:[{uri:t.srcUrl,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}();e.default=m},HH4H:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},HeGE:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},HzLs:function(t,e,n){"use strict";var i,r,s,a,o,u,l,c,h,d,f,p,g,m,v,y,b,_,T,S,w,E,C,k,x,A,O,P,D,I,R,L,F,B,M,N,j,U,H,V,q,z=Math.pow(2,32)-1;!function(){var t;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in C)C.hasOwnProperty(t)&&(C[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:O,audio:P},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),F=new Uint8Array([0,0,0,0,0,0,0,0]),B=F,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=F,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},r=function(){return i(C.dinf,i(C.dref,L))},s=function(t){return i(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},a=function(){return i(C.ftyp,k,x,k,A)},y=function(t){return i(C.hdlr,D[t])},o=function(t){return i(C.mdat,t)},v=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),i(C.mdhd,e)},m=function(t){return i(C.mdia,v(t),y(t.type),l(t))},u=function(t){return i(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return i(C.minf,"video"===t.type?i(C.vmhd,I):i(C.smhd,R),r(),_(t))},c=function(t,e){for(var n=[],r=e.length;r--;)n[r]=S(e[r]);return i.apply(null,[C.moof,u(t)].concat(n))},h=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return i.apply(null,[C.moov,f(4294967295)].concat(n).concat(d(t)))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=w(t[e]);return i.apply(null,[C.mvex].concat(n))},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(C.mvhd,e)},b=function(t){var e,n,r=t.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,s[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return i(C.sdtp,s)},_=function(t){return i(C.stbl,T(t),i(C.stts,N),i(C.stsc,B),i(C.stsz,M),i(C.stco,F))},T=function(t){return i(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?j(t):U(t))},j=function(t){var e,n=t.sps||[],r=t.pps||[],s=[],a=[];for(e=0;e<n.length;e++)s.push((65280&n[e].byteLength)>>>8),s.push(255&n[e].byteLength),s=s.concat(Array.prototype.slice.call(n[e]));for(e=0;e<r.length;e++)a.push((65280&r[e].byteLength)>>>8),a.push(255&r[e].byteLength),a=a.concat(Array.prototype.slice.call(r[e]));return i(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(C.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(s).concat([r.length]).concat(a))),i(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(t){return i(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),s(t))},g=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return i(C.tkhd,e)},S=function(t){var e,n,r,s,a,o;return e=i(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(z+1)),o=Math.floor(t.baseMediaDecodeTime%(z+1)),n=i(C.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===t.type?(r=E(t,92),i(C.traf,e,n,r)):(s=b(t),r=E(t,s.length+92),i(C.traf,e,n,r,s))},p=function(t){return t.duration=t.duration||4294967295,i(C.trak,g(t),m(t))},w=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),i(C.trex,e)},q=function(t,e){var n=0,i=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,n|i|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},V=function(t,e){var n,r,s,a;for(e+=20+16*(r=t.samples||[]).length,n=q(r,e),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return i(C.trun,new Uint8Array(n))},H=function(t,e){var n,r,s,a;for(e+=20+8*(r=t.samples||[]).length,n=q(r,e),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return i(C.trun,new Uint8Array(n))},E=function(t,e){return"audio"===t.type?H(t,e):V(t,e)},t.exports={ftyp:a,mdat:o,moof:c,moov:h,initSegment:function(t){var e,n=a(),i=h(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}}},IJsg:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},ISg9:function(t,e,n){var i=n("ha9j"),r=n("Wo2q"),s=n("zxol")("engine.io-client:socket"),a=n("6F1C"),o=n("JBnk"),u=n("e63z"),l=n("qoCw");function c(t,e){if(!(this instanceof c))return new c(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=c,c.priorWebsocketSuccess=!1,r(c.prototype),c.protocol=o.protocol,c.Socket=c,c.Transport=n("G2hA"),c.transports=n("ha9j"),c.parser=n("JBnk"),c.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=o.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},c.prototype.open=function(){var t;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},c.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},c.prototype.probe=function(t){s('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(s('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;c.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(s("changing transport and sending upgrade packet"),d(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())})}else{s('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,i.emit("upgradeError",a)}}))}function a(){n||(n=!0,d(),e.close(),e=null)}function o(n){var r=new Error("probe error: "+n);r.transport=e.name,a(),s('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",r)}function u(){o("transport closed")}function l(){o("socket closed")}function h(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),a())}function d(){e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",u),i.removeListener("close",l),i.removeListener("upgrading",h)}c.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",o),e.once("close",u),this.once("close",l),this.once("upgrading",h),e.open()},c.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},c.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},c.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},c.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},c.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}function e(){t.onClose("forced close"),s("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},c.prototype.onError=function(t){s("socket error %j",t),c.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},c.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},c.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}},Ibc7:function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},"J/aw":function(t,e,n){var i=n("VBq3"),r=t.exports={WebVTT:n("7lLl"),VTTCue:n("Cuts"),VTTRegion:n("9X2i")};i.vttjs=r,i.WebVTT=r.WebVTT;var s=r.VTTCue,a=r.VTTRegion,o=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=s,i.VTTRegion=a},r.restore=function(){i.VTTCue=o,i.VTTRegion=u},i.VTTCue||r.shim()},J0Oq:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("rVsN"),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){return function(){var e=t.apply(this,arguments);return new s.default(function(t,n){return function i(r,a){try{var o=e[r](a),u=o.value}catch(t){return void n(t)}if(!o.done)return s.default.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}},JBnk:function(t,e,n){var i,r=n("Ibc7"),s=n("GD3X"),a=n("JdG9"),o=n("EfSN"),u=n("XsrG");"undefined"!=typeof ArrayBuffer&&(i=n("fR4h"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||c;e.protocol=3;var d=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=r(d),p={type:"error",data:"parser error"},g=n("n68W");function m(t,e,n){for(var i=new Array(t.length),r=o(t.length,n),s=function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})},a=0;a<t.length;a++)s(a,t[a],r)}e.encodePacket=function(t,n,i,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof i&&(r=i,i=null);var s=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,s=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=d[t.type];for(var o=0;o<s.length;o++)a[o+1]=s[o];return i(a.buffer)}(t,n,r);if(void 0!==g&&s instanceof g)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(h)return function(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){e.encodePacket({type:t.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(t.data)}(t,n,i);var r=new Uint8Array(1);r[0]=d[t.type];var s=new g([r.buffer,t.data]);return i(s)}(t,n,r);if(s&&s.base64)return function(t,n){var i="b"+e.packets[t.type]+t.data.data;return n(i)}(t,r);var a=d[t.type];return void 0!==t.data&&(a+=i?u.encode(String(t.data),{strict:!1}):String(t.data)),r(""+a)},e.encodeBase64Packet=function(t,n){var i,r="b"+e.packets[t.type];if(void 0!==g&&t.data instanceof g){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(r+t)},s.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),o=new Array(a.length),u=0;u<a.length;u++)o[u]=a[u];i=String.fromCharCode.apply(null,o)}return r+=btoa(i),n(r)},e.decodePacket=function(t,n,i){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return p;var r=t.charAt(0);return Number(r)==r&&f[r]?t.length>1?{type:f[r],data:t.substring(1)}:{type:f[r]}:p}r=new Uint8Array(t)[0];var s=a(t,1);return g&&"blob"===n&&(s=new g([s])),{type:f[r],data:s}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&g&&(r=new g([r])),{type:n,data:r}},e.encodePayload=function(t,n,i){"function"==typeof n&&(i=n,n=null);var r=s(t);if(n&&r)return g&&!h?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i);if(!t.length)return i("0:");m(t,function(t,i){e.encodePacket(t,!!r&&n,!1,function(t){i(null,function(t){return t.length+":"+t}(t))})},function(t,e){return i(e.join(""))})},e.decodePayload=function(t,n,i){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,i);var r;if("function"==typeof n&&(i=n,n=null),""===t)return i(p,0,1);for(var s,a,o="",u=0,l=t.length;u<l;u++){var c=t.charAt(u);if(":"===c){if(""===o||o!=(s=Number(o)))return i(p,0,1);if(o!=(a=t.substr(u+1,s)).length)return i(p,0,1);if(a.length){if(r=e.decodePacket(a,n,!1),p.type===r.type&&p.data===r.data)return i(p,0,1);if(!1===i(r,u+s,l))return}u+=s,o=""}else o+=c}return""!==o?i(p,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var i=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),r=new Uint8Array(i),s=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);n=i.buffer}r[s++]=e?0:1;var o=n.byteLength.toString();for(a=0;a<o.length;a++)r[s++]=parseInt(o[a]);r[s++]=255;for(i=new Uint8Array(n),a=0;a<i.length;a++)r[s++]=i[a]}),n(r.buffer)})},e.encodePayloadAsBlob=function(t,n){m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}var s=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(s.length+1);for(r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,g){var o=new g([e.buffer,a.buffer,t]);n(null,o)}})},function(t,e){return n(new g(e))})},e.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var r=t,s=[];r.byteLength>0;){for(var o=new Uint8Array(r),u=0===o[0],l="",c=1;255!==o[c];c++){if(l.length>310)return i(p,0,1);l+=o[c]}r=a(r,2+l.length),l=parseInt(l);var h=a(r,0,l);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var d=new Uint8Array(h);h="";for(c=0;c<d.length;c++)h+=String.fromCharCode(d[c])}s.push(h),r=a(r,l)}var f=s.length;s.forEach(function(t,r){i(e.decodePacket(t,n,!0),r,f)})}},JEr5:function(t,e,n){"use strict";var i=n("273z"),r=n("UB+n"),s=n("HH4H"),a=n("3hLq"),o=n("atTG");i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||s.Promise),n="function"==typeof t;return this.then(n?function(n){return o(e,t()).then(function(){return n})}:t,n?function(n){return o(e,t()).then(function(){throw n})}:t)}})},JbRS:function(t,e,n){"use strict";var i=n("KcYj"),r=function(t){var e=31&t[1];return e<<=8,e|=t[2]},s=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var n=r(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=s(t),n=4+a(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=s(t),i=4+a(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var u=i+o;e[(31&t[u+1])<<8|t[u+2]]=t[u],o+=5+((15&t[u+3])<<8|t[u+4])}return e}},parsePayloadUnitStartIndicator:s,parsePesType:function(t,e){switch(e[r(t)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!s(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+a(t),n=t.subarray(e),i=0,r=0,s=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0),s}}},JdG9:function(t,e){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),s=new Uint8Array(n-e),a=e,o=0;a<n;a++,o++)s[o]=r[a];return s.buffer}},JiHl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};var s,a=n("0UD8"),o=(s=a)&&s.__esModule?s:{default:s},u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,o.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"]),i(e,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}();e.default=u,t.exports=e.default},JlEl:function(t,e,n){var i,r,s,a,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=o.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=r.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(l.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+s.path;l.path=o.normalizePath(h)}else l.path=a.path,s.params||(l.params=a.params,s.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(l)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},Jo3n:function(t,e,n){"use strict";var i=n("h3QQ");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},JotW:function(t,e,n){"use strict";var i=n("hN2N"),r=n("8r5Y"),s=n("Lv47"),a=n("OtkV");function o(t){this.defaults=t,this.interceptors={request:new s,response:new s}}o.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){o.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){o.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=o},JupL:function(t,e,n){"use strict";var i=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var e=i.call(t);return r.test(e)}catch(t){return!1}},a=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},K16g:function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},K3AH:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},KGCO:function(t,e,n){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function i(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function s(t,e){for(var n in e)t[n]=e[n];return t}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,r=e.parent,a=e.data;a.routerView=!0;for(var o=r.$createElement,u=n.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),h=0,d=!1;r&&r._routerRoot!==r;)r.$vnode&&r.$vnode.data.routerView&&h++,r._inactive&&(d=!0),r=r.$parent;if(a.routerViewDepth=h,d)return o(c[u],a,i);var f=l.matched[h];if(!f)return c[u]=null,o();var p=c[u]=f.components[u];a.registerRouteInstance=function(t,e){var n=f.instances[u];(e&&n!==t||!e&&n===t)&&(f.instances[u]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){f.instances[u]=e.componentInstance};var g=a.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(l,f.props&&f.props[u]);if(g){g=a.props=s({},g);var m=a.attrs=a.attrs||{};for(var v in g)p.props&&v in p.props||(m[v]=g[v],delete g[v])}return o(p,a,i)}};var o=/[!'()*]/g,u=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,c=function(t){return encodeURIComponent(t).replace(o,u).replace(l,",")},h=decodeURIComponent;function d(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=h(n.shift()),r=n.length>0?h(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]}),e):e}function f(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return c(e);if(Array.isArray(n)){var i=[];return n.forEach(function(t){void 0!==t&&(null===t?i.push(c(e)):i.push(c(e)+"="+c(t)))}),i.join("&")}return c(e)+"="+c(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function g(t,e,n,i){var r=i&&i.options.stringifyQuery,s=e.query||{};try{s=m(s)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:s,params:e.params||{},fullPath:y(e,r),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return n&&(a.redirectedFrom=y(n,r)),Object.freeze(a)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=m(t[n]);return e}return t}var v=g(null,{path:"/"});function y(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var r=t.hash;return void 0===r&&(r=""),(n||"/")+(e||f)(i)+r}function b(t,e){return e===v?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&_(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&_(t.query,e.query)&&_(t.params,e.params)))}function _(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every(function(n){var i=t[n],r=e[n];return"object"==typeof i&&"object"==typeof r?_(i,r):String(i)===String(r)})}var T,S=[String,Object],w=[String,Array],E={name:"RouterLink",props:{to:{type:S,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:w,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),a=r.location,o=r.route,u=r.href,l={},c=n.options.linkActiveClass,h=n.options.linkExactActiveClass,d=null==c?"router-link-active":c,f=null==h?"router-link-exact-active":h,m=null==this.activeClass?d:this.activeClass,v=null==this.exactActiveClass?f:this.exactActiveClass,y=a.path?g(null,a,null,n):o;l[v]=b(i,y),l[m]=this.exact?l[v]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(i,y);var _=function(t){C(t)&&(e.replace?n.replace(a):n.push(a))},T={click:C};Array.isArray(this.event)?this.event.forEach(function(t){T[t]=_}):T[this.event]=_;var S={class:l};if("a"===this.tag)S.on=T,S.attrs={href:u};else{var w=function t(e){if(e)for(var n,i=0;i<e.length;i++){if("a"===(n=e[i]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(w)w.isStatic=!1,(w.data=s({},w.data)).on=T,(w.data.attrs=s({},w.data.attrs)).href=u;else S.on=T}return t(this.tag,S,this.$slots.default)}};function C(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function k(t){if(!k.installed||T!==t){k.installed=!0,T=t;var e=function(t){return void 0!==t},n=function(t,n){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",E);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var x="undefined"!=typeof window;function A(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var s=t.replace(/^\//,"").split("/"),a=0;a<s.length;a++){var o=s[a];".."===o?r.pop():"."!==o&&r.push(o)}return""!==r[0]&&r.unshift(""),r.join("/")}function O(t){return t.replace(/\/\//g,"/")}var P=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},D=W,I=M,R=function(t,e){return j(M(t,e))},L=j,F=z,B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(t,e){for(var n,i=[],r=0,s=0,a="",o=e&&e.delimiter||"/";null!=(n=B.exec(t));){var u=n[0],l=n[1],c=n.index;if(a+=t.slice(s,c),s=c+u.length,l)a+=l[1];else{var h=t[s],d=n[2],f=n[3],p=n[4],g=n[5],m=n[6],v=n[7];a&&(i.push(a),a="");var y=null!=d&&null!=h&&h!==d,b="+"===m||"*"===m,_="?"===m||"*"===m,T=n[2]||o,S=p||g;i.push({name:f||r++,prefix:d||"",delimiter:T,optional:_,repeat:b,partial:y,asterisk:!!v,pattern:S?H(S):v?".*":"[^"+U(T)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&i.push(a),i}function N(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function j(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var r="",s=n||{},a=(i||{}).pretty?N:encodeURIComponent,o=0;o<t.length;o++){var u=t[o];if("string"!=typeof u){var l,c=s[u.name];if(null==c){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(P(c)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(l=a(c[h]),!e[o].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");r+=(0===h?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?encodeURI(c).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(c),!e[o].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');r+=u.prefix+l}}else r+=u}return r}}function U(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function V(t,e){return t.keys=e,t}function q(t){return t.sensitive?"":"i"}function z(t,e,n){P(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,s="",a=0;a<t.length;a++){var o=t[a];if("string"==typeof o)s+=U(o);else{var u=U(o.prefix),l="(?:"+o.pattern+")";e.push(o),o.repeat&&(l+="(?:"+u+l+")*"),s+=l=o.optional?o.partial?u+"("+l+")?":"(?:"+u+"("+l+"))?":u+"("+l+")"}}var c=U(n.delimiter||"/"),h=s.slice(-c.length)===c;return i||(s=(h?s.slice(0,-c.length):s)+"(?:"+c+"(?=$))?"),s+=r?"$":i&&h?"":"(?="+c+"|$)",V(new RegExp("^"+s,q(n)),e)}function W(t,e,n){return P(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return V(t,e)}(t,e):P(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(W(t[r],e,n).source);return V(new RegExp("(?:"+i.join("|")+")",q(n)),e)}(t,e,n):function(t,e,n){return z(M(t,n),e,n)}(t,e,n)}D.parse=I,D.compile=R,D.tokensToFunction=L,D.tokensToRegExp=F;var $=Object.create(null);function K(t,e,n){try{return($[t]||($[t]=D.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function G(t,e,n,i){var r=e||[],s=n||Object.create(null),a=i||Object.create(null);t.forEach(function(t){!function t(e,n,i,r,s,a){var o=r.path;var u=r.name;0;var l=r.pathToRegexpOptions||{};var c=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return O(e.path+"/"+t)}(o,s,l.strict);"boolean"==typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var h={path:c,regex:function(t,e){var n=D(t,[],e);return n}(c,l),components:r.components||{default:r.component},instances:{},name:u,parent:s,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var s=a?O(a+"/"+r.path):void 0;t(e,n,i,r,h,s)});if(void 0!==r.alias){var d=Array.isArray(r.alias)?r.alias:[r.alias];d.forEach(function(a){var o={path:a,children:r.children};t(e,n,i,o,s,h.path||"/")})}n[h.path]||(e.push(h.path),n[h.path]=h);u&&(i[u]||(i[u]=h))}(r,s,a,t)});for(var o=0,u=r.length;o<u;o++)"*"===r[o]&&(r.push(r.splice(o,1)[0]),u--,o--);return{pathList:r,pathMap:s,nameMap:a}}function Y(t,e,n,i){var r="string"==typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&e){(r=s({},r))._normalized=!0;var a=s(s({},e.params),r.params);if(e.name)r.name=e.name,r.params=a;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;r.path=K(o,a,e.path)}else 0;return r}var u=function(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var r=t.indexOf("?");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{path:t,query:n,hash:e}}(r.path||""),l=e&&e.path||"/",c=u.path?A(u.path,l,n||r.append):l,h=function(t,e,n){void 0===e&&(e={});var i,r=n||d;try{i=r(t||"")}catch(t){i={}}for(var s in e)i[s]=e[s];return i}(u.query,r.query,i&&i.options.parseQuery),f=r.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:c,query:h,hash:f}}function X(t,e){var n=G(t),i=n.pathList,r=n.pathMap,s=n.nameMap;function a(t,n,a){var o=Y(t,n,!1,e),l=o.name;if(l){var c=s[l];if(!c)return u(null,o);var h=c.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof o.params&&(o.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in o.params)&&h.indexOf(d)>-1&&(o.params[d]=n.params[d]);if(c)return o.path=K(c.path,o.params),u(c,o,a)}else if(o.path){o.params={};for(var f=0;f<i.length;f++){var p=i[f],g=r[p];if(J(g.regex,o.path,o.params))return u(g,o,a)}}return u(null,o)}function o(t,n){var i=t.redirect,r="function"==typeof i?i(g(t,n,null,e)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return u(null,n);var o=r,l=o.name,c=o.path,h=n.query,d=n.hash,f=n.params;if(h=o.hasOwnProperty("query")?o.query:h,d=o.hasOwnProperty("hash")?o.hash:d,f=o.hasOwnProperty("params")?o.params:f,l){s[l];return a({_normalized:!0,name:l,query:h,hash:d,params:f},void 0,n)}if(c){var p=function(t,e){return A(t,e.parent?e.parent.path:"/",!0)}(c,t);return a({_normalized:!0,path:K(p,f),query:h,hash:d},void 0,n)}return u(null,n)}function u(t,n,i){return t&&t.redirect?o(t,i||n):t&&t.matchAs?function(t,e,n){var i=a({_normalized:!0,path:K(n,e.params)});if(i){var r=i.matched,s=r[r.length-1];return e.params=i.params,u(s,e)}return u(null,e)}(0,n,t.matchAs):g(t,n,i,e)}return{match:a,addRoutes:function(t){G(t,i,r,s)}}}function J(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var r=1,s=i.length;r<s;++r){var a=t.keys[r-1],o="string"==typeof i[r]?decodeURIComponent(i[r]):i[r];a&&(n[a.name||"pathMatch"]=o)}return!0}var Z=Object.create(null);function Q(){window.history.replaceState({key:ht()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(t){var e;et(),t.state&&t.state.key&&(e=t.state.key,lt=e)})}function tt(t,e,n,i){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var s=function(){var t=ht();if(t)return Z[t]}(),a=r.call(t,e,n,i?s:null);a&&("function"==typeof a.then?a.then(function(t){st(t,s)}).catch(function(t){0}):st(a,s))})}}function et(){var t=ht();t&&(Z[t]={x:window.pageXOffset,y:window.pageYOffset})}function nt(t){return rt(t.x)||rt(t.y)}function it(t){return{x:rt(t.x)?t.x:window.pageXOffset,y:rt(t.y)?t.y:window.pageYOffset}}function rt(t){return"number"==typeof t}function st(t,e){var n,i="object"==typeof t;if(i&&"string"==typeof t.selector){var r=document.querySelector(t.selector);if(r){var s=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-n.left-e.x,y:i.top-n.top-e.y}}(r,s={x:rt((n=s).x)?n.x:0,y:rt(n.y)?n.y:0})}else nt(t)&&(e=it(t))}else i&&nt(t)&&(e=it(t));e&&window.scrollTo(e.x,e.y)}var at,ot=x&&((-1===(at=window.navigator.userAgent).indexOf("Android 2.")&&-1===at.indexOf("Android 4.0")||-1===at.indexOf("Mobile Safari")||-1!==at.indexOf("Chrome")||-1!==at.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ut=x&&window.performance&&window.performance.now?window.performance:Date,lt=ct();function ct(){return ut.now().toFixed(3)}function ht(){return lt}function dt(t,e){et();var n=window.history;try{e?n.replaceState({key:lt},"",t):(lt=ct(),n.pushState({key:lt},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function ft(t){dt(t,!0)}function pt(t,e,n){var i=function(r){r>=t.length?n():t[r]?e(t[r],function(){i(r+1)}):i(r+1)};i(0)}function gt(t){return function(e,n,i){var s=!1,a=0,o=null;mt(t,function(t,e,n,u){if("function"==typeof t&&void 0===t.cid){s=!0,a++;var l,c=bt(function(e){var r;((r=e).__esModule||yt&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:T.extend(e),n.components[u]=e,--a<=0&&i()}),h=bt(function(t){var e="Failed to resolve async component "+u+": "+t;o||(o=r(t)?t:new Error(e),i(o))});try{l=t(c,h)}catch(t){h(t)}if(l)if("function"==typeof l.then)l.then(c,h);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,h)}}}),s||i()}}function mt(t,e){return vt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function vt(t){return Array.prototype.concat.apply([],t)}var yt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function bt(t){var e=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var _t=function(t,e){this.router=t,this.base=function(t){if(!t)if(x){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Tt(t,e,n,i){var r=mt(t,function(t,i,r,s){var a=function(t,e){"function"!=typeof t&&(t=T.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return n(t,i,r,s)}):n(a,i,r,s)});return vt(i?r.reverse():r)}function St(t,e){if(e)return function(){return t.apply(e,arguments)}}_t.prototype.listen=function(t){this.cb=t},_t.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},_t.prototype.onError=function(t){this.errorCbs.push(t)},_t.prototype.transitionTo=function(t,e,n){var i=this,r=this.router.match(t,this.current);this.confirmTransition(r,function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(r)}))},function(t){n&&n(t),t&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)}))})},_t.prototype.confirmTransition=function(t,e,n){var s=this,a=this.current,o=function(t){r(t)&&(s.errorCbs.length?s.errorCbs.forEach(function(e){e(t)}):(i(),console.error(t))),n&&n(t)};if(b(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),o();var u=function(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),l=u.updated,c=u.deactivated,h=u.activated,d=[].concat(function(t){return Tt(t,"beforeRouteLeave",St,!0)}(c),this.router.beforeHooks,function(t){return Tt(t,"beforeRouteUpdate",St)}(l),h.map(function(t){return t.beforeEnter}),gt(h));this.pending=t;var f=function(e,n){if(s.pending!==t)return o();try{e(t,a,function(t){!1===t||r(t)?(s.ensureURL(!0),o(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(o(),"object"==typeof t&&t.replace?s.replace(t):s.push(t)):n(t)})}catch(t){o(t)}};pt(d,f,function(){var n=[];pt(function(t,e,n){return Tt(t,"beforeRouteEnter",function(t,i,r,s){return function(t,e,n,i,r){return function(s,a,o){return t(s,a,function(t){o(t),"function"==typeof t&&i.push(function(){!function t(e,n,i,r){n[i]&&!n[i]._isBeingDestroyed?e(n[i]):r()&&setTimeout(function(){t(e,n,i,r)},16)}(t,e.instances,n,r)})})}}(t,r,s,e,n)})}(h,n,function(){return s.current===t}).concat(s.router.resolveHooks),f,function(){if(s.pending!==t)return o();s.pending=null,e(t),s.router.app&&s.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},_t.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var wt=function(t){function e(e,n){var i=this;t.call(this,e,n);var r=e.options.scrollBehavior,s=ot&&r;s&&Q();var a=Et(this.base);window.addEventListener("popstate",function(t){var n=i.current,r=Et(i.base);i.current===v&&r===a||i.transitionTo(r,function(t){s&&tt(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){dt(O(i.base+t.fullPath)),tt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){ft(O(i.base+t.fullPath)),tt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Et(this.base)!==this.current.fullPath){var e=O(this.base+this.current.fullPath);t?dt(e):ft(e)}},e.prototype.getCurrentLocation=function(){return Et(this.base)},e}(_t);function Et(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Ct=function(t){function e(e,n,i){t.call(this,e,n),i&&function(t){var e=Et(t);if(!/^\/#/.test(e))return window.location.replace(O(t+"/#"+e)),!0}(this.base)||kt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,n=ot&&e;n&&Q(),window.addEventListener(ot?"popstate":"hashchange",function(){var e=t.current;kt()&&t.transitionTo(xt(),function(i){n&&tt(t.router,i,e,!0),ot||Pt(i.fullPath)})})},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Ot(t.fullPath),tt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Pt(t.fullPath),tt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;xt()!==e&&(t?Ot(e):Pt(e))},e.prototype.getCurrentLocation=function(){return xt()},e}(_t);function kt(){var t=xt();return"/"===t.charAt(0)||(Pt("/"+t),!1)}function xt(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":decodeURI(t.slice(e+1))}function At(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Ot(t){ot?dt(At(t)):window.location.hash=t}function Pt(t){ot?ft(At(t)):window.location.replace(At(t))}var Dt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){e.index=n,e.updateRoute(i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(_t),It=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=X(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!ot&&!1!==t.fallback,this.fallback&&(e="hash"),x||(e="abstract"),this.mode=e,e){case"history":this.history=new wt(this,t.base);break;case"hash":this.history=new Ct(this,t.base,this.fallback);break;case"abstract":this.history=new Dt(this,t.base);break;default:0}},Rt={currentRoute:{configurable:!0}};function Lt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}It.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Rt.currentRoute.get=function(){return this.history&&this.history.current},It.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof wt)n.transitionTo(n.getCurrentLocation());else if(n instanceof Ct){var i=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},It.prototype.beforeEach=function(t){return Lt(this.beforeHooks,t)},It.prototype.beforeResolve=function(t){return Lt(this.resolveHooks,t)},It.prototype.afterEach=function(t){return Lt(this.afterHooks,t)},It.prototype.onReady=function(t,e){this.history.onReady(t,e)},It.prototype.onError=function(t){this.history.onError(t)},It.prototype.push=function(t,e,n){this.history.push(t,e,n)},It.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},It.prototype.go=function(t){this.history.go(t)},It.prototype.back=function(){this.go(-1)},It.prototype.forward=function(){this.go(1)},It.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},It.prototype.resolve=function(t,e,n){var i=Y(t,e||this.history.current,n,this),r=this.match(i,e),s=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(t,e,n){var i="hash"===n?"#"+e:e;return t?O(t+"/"+i):i}(this.history.base,s,this.mode),normalizedTo:i,resolved:r}},It.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(It.prototype,Rt),It.install=k,It.version="3.0.2",x&&window.Vue&&window.Vue.use(It),e.a=It},KHTP:function(t,e,n){"use strict";var i,r=n("uUG0"),s=n("o/0m"),a=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},o=function(t,e,n){return decodeURIComponent(a(t,e,n))},u=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},l={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.value=o(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.url=o(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(a(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(i=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,a=[],o=0;if(i.prototype.init.call(this),this.dispatchType=s.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,s,c,h;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,a.length=0),0===a.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(a.push(t),o+=t.data.byteLength,1===a.length&&(r=u(t.data.subarray(6,10)),r+=10),!(o<r)){for(e={data:new Uint8Array(r),frames:[],pts:a[0].pts,dts:a[0].dts},h=0;h<r;)e.data.set(a[0].data.subarray(0,r-h),h),h+=a[0].data.byteLength,o-=a[0].data.byteLength,a.shift();i=10,64&e.data[5]&&(i+=4,i+=u(e.data.subarray(10,14)),r-=u(e.data.subarray(16,20)));do{if((s=u(e.data.subarray(i+4,i+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),data:e.data.subarray(i+10,i+s+10)}).key=c.id,l[c.id]&&(l[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var d=c.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],c.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=c.timeStamp,e.dts=c.timeStamp),this.trigger("timestamp",c)}e.frames.push(c),i+=10,i+=s}while(i<r);this.trigger("data",e)}}}).prototype=new r,t.exports=i},KPSb:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("Ycmu"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null===t||void 0===t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var i,r,s=0,a=t.length,o=this.blocks,u=this.buffer8;s<a;){if(this.hashed&&(this.hashed=!1,o[0]=o[16],o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)if(ARRAY_BUFFER)for(r=this.start;s<a&&r<64;++s)u[r++]=t[s];else for(r=this.start;s<a&&r<64;++s)o[r>>2]|=t[s]<<SHIFT[3&r++];else if(ARRAY_BUFFER)for(r=this.start;s<a&&r<64;++s)(i=t.charCodeAt(s))<128?u[r++]=i:i<2048?(u[r++]=192|i>>6,u[r++]=128|63&i):i<55296||i>=57344?(u[r++]=224|i>>12,u[r++]=128|i>>6&63,u[r++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),u[r++]=240|i>>18,u[r++]=128|i>>12&63,u[r++]=128|i>>6&63,u[r++]=128|63&i);else for(r=this.start;s<a&&r<64;++s)(i=t.charCodeAt(s))<128?o[r>>2]|=i<<SHIFT[3&r++]:i<2048?(o[r>>2]|=(192|i>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(o[r>>2]|=(224|i>>12)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),o[r>>2]|=(240|i>>18)<<SHIFT[3&r++],o[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,i,r,s,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(i=((i=(-1732584194^2004318071&t)+a[1]-117830708)<<12|i>>>20)+t<<0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+i<<0)&(i^t))+a[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((i=this.h3)^e&(n^i))+a[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[1]-389564586)<<12|i>>>20)+t<<0)&(t^e))+a[2]+606105819)<<17|n>>>15)+i<<0)&(i^t))+a[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(i^e&(n^i))+a[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[5]+1200080426)<<12|i>>>20)+t<<0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+i<<0)&(i^t))+a[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(i^e&(n^i))+a[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[9]-1958414417)<<12|i>>>20)+t<<0)&(t^e))+a[10]-42063)<<17|n>>>15)+i<<0)&(i^t))+a[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(i^e&(n^i))+a[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(i=((i+=(n^t&(e^n))+a[13]-40341101)<<12|i>>>20)+t<<0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+i<<0)&(i^t))+a[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[1]-165796510)<<5|t>>>27)+e<<0)^e))+a[6]-1069501632)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[11]+643717713)<<14|n>>>18)+i<<0)^i))+a[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[5]-701558691)<<5|t>>>27)+e<<0)^e))+a[10]+38016083)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[15]-660478335)<<14|n>>>18)+i<<0)^i))+a[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[9]+568446438)<<5|t>>>27)+e<<0)^e))+a[14]-1019803690)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[3]-187363961)<<14|n>>>18)+i<<0)^i))+a[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((i=((i+=(e^n&((t=((t+=(n^i&(e^n))+a[13]-1444681467)<<5|t>>>27)+e<<0)^e))+a[2]-51403784)<<9|i>>>23)+t<<0)^t&((n=((n+=(t^e&(i^t))+a[7]+1735328473)<<14|n>>>18)+i<<0)^i))+a[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((s=(i=((i+=((r=e^n)^(t=((t+=(r^i)+a[5]-378558)<<4|t>>>28)+e<<0))+a[8]-2022574463)<<11|i>>>21)+t<<0)^t)^(n=((n+=(s^e)+a[11]+1839030562)<<16|n>>>16)+i<<0))+a[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((s=(i=((i+=((r=e^n)^(t=((t+=(r^i)+a[1]-1530992060)<<4|t>>>28)+e<<0))+a[4]+1272893353)<<11|i>>>21)+t<<0)^t)^(n=((n+=(s^e)+a[7]-155497632)<<16|n>>>16)+i<<0))+a[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((s=(i=((i+=((r=e^n)^(t=((t+=(r^i)+a[13]+681279174)<<4|t>>>28)+e<<0))+a[0]-358537222)<<11|i>>>21)+t<<0)^t)^(n=((n+=(s^e)+a[3]-722521979)<<16|n>>>16)+i<<0))+a[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((s=(i=((i+=((r=e^n)^(t=((t+=(r^i)+a[9]-640364487)<<4|t>>>28)+e<<0))+a[12]-421815835)<<11|i>>>21)+t<<0)^t)^(n=((n+=(s^e)+a[15]+530742520)<<16|n>>>16)+i<<0))+a[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[0]-198630844)<<6|t>>>26)+e<<0)|~n))+a[7]+1126891415)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[14]-1416354905)<<15|n>>>17)+i<<0)|~t))+a[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+a[3]-1894986606)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[10]-1051523)<<15|n>>>17)+i<<0)|~t))+a[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+a[15]-30611744)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[6]-1560198380)<<15|n>>>17)+i<<0)|~t))+a[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((i=((i+=(e^((t=((t+=(n^(e|~i))+a[4]-145523070)<<6|t>>>26)+e<<0)|~n))+a[11]-1120210379)<<10|i>>>22)+t<<0)^((n=((n+=(t^(i|~e))+a[2]+718787259)<<15|n>>>17)+i<<0)|~t))+a[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+i<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,i=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,i="",r=this.array(),s=0;s<15;)t=r[s++],e=r[s++],n=r[s++],i+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=r[s],i+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(exports,__webpack_require__("V0EG"),__webpack_require__("9AUj"))},KcYj:function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},"L/lx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("pmpl"),r=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s,a,o,u=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=(s=e.playlists,a=n.uri,o=u,function(t){var e=s.master.playlists[a],n=(0,i.isIncompatible)(e),r=(0,i.isEnabled)(e);return void 0===t?r:(t?delete e.disabled:e.disabled=!0,t===r||n||(o(),t?s.trigger("renditionenabled"):s.trigger("renditiondisabled")),t)})};e.default=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(t){return!(0,i.isIncompatible)(t)}).map(function(e,n){return new r(t,e,e.uri)})}},t.exports=e.default},LBHr:function(t,e,n){var i=n("sNHX"),r=n("/Gra");t.exports=function(t){if(!t)return{};var e={};return r(i(t).split("\n"),function(t){var n,r=t.indexOf(":"),s=i(t.slice(0,r)).toLowerCase(),a=i(t.slice(r+1));void 0===e[s]?e[s]=a:(n=e[s],"[object Array]"===Object.prototype.toString.call(n)?e[s].push(a):e[s]=[e[s],a])}),e}},LH1D:function(t,e){var n="auto",i={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function s(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function o(t,e,r){var o=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?o=document.createElement("custom"):l.enumerable=!0,o.hasBeenReset=!1;var c="",h=!1,d=t,f=e,p=r,g=null,m="",v=!0,y="auto",b="start",_=50,T="middle",S=50,w="middle";if(Object.defineProperty(o,"id",a({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(o,"pauseOnExit",a({},l,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(o,"startTime",a({},l,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",a({},l,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",a({},l,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",a({},l,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",a({},l,{get:function(){return m},set:function(t){var e=function(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",a({},l,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",a({},l,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==n)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",a({},l,{get:function(){return b},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",a({},l,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",a({},l,{get:function(){return T},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",a({},l,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",a({},l,{get:function(){return w},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),o.displayState=void 0,u)return o}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=o},Lj3X:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return q}),n.d(e,"b",function(){return z});var i=n("VBq3"),r=n.n(i),s=function(t){return!!t&&"object"==typeof t},a=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(e,n){return Object.keys(n).forEach(function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):s(e[i])&&s(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]}),e},{})},o=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},u=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},l=function(t){var e;return(e=t.reduce(function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");t[i]?(e.segments[0].discontinuity=!0,(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e;return t},{}),Object.keys(e).map(function(t){return e[t]})).map(function(t){var e,n;return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce(function(t,e,i){return e[n]&&t.push(i),t},[])),t})},c=function(t){var e,n=t.attributes,i=t.segments,r={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var h,d=(function(t,e){var n,i,r,s,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):e;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var u=i.exec(o.path);o.netLoc=u[1],o.path=u[2]}o.netLoc&&!o.path&&(o.path="/");var l={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(l.netLoc=o.netLoc,"/"!==s.path[0]))if(s.path){var c=o.path,h=c.substring(0,c.lastIndexOf("/")+1)+s.path;l.path=a.normalizePath(h)}else l.path=o.path,s.params||(l.params=o.params,s.query||(l.query=o.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(s,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}(h={exports:{}},h.exports),h.exports),f=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=d.buildAbsoluteURL(r.a.location.href,t)),d.buildAbsoluteURL(t,e))},p=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,s=t.range,a=void 0===s?"":s,o={uri:r,resolvedUri:f(n||"",r)};if(a){var u=a.split("-"),l=parseInt(u[0],10),c=parseInt(u[1],10);o.byterange={length:c-l,offset:l}}return o},g=function(t,e,n){var i=t.NOW,r=t.clientOffset,s=t.availabilityStartTime,a=t.timescale,o=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,h=(i+r)/1e3+(void 0===c?0:c)-(s+l);return Math.ceil((h*o-e)/n)},m=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,s=void 0===r?0:r,a=t.media,o=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,h=t.startNumber,d=void 0===h?1:h,f=t.periodIndex,p=[],m=-1,v=0;v<e.length;v++){var y=e[v],b=y.d,_=y.r||0,T=y.t||0;m<0&&(m=T),T&&T>m&&(m=T);var S=void 0;if(_<0){var w=v+1;S=w===e.length?"dynamic"===i&&s>0&&o.indexOf("$Number$")>0?g(t,m,b):(u*c-m)/b:(e[w].t-m)/b}else S=_+1;for(var E=d+p.length+S,C=d+p.length;C<E;)p.push({number:C,duration:b/c,time:m,timeline:f}),m+=b,C++}return p},v={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,s=void 0===r?1:r,a=t.duration,o=t.start,u=void 0===o?0:o,l=t.minimumUpdatePeriod,c=void 0===l?0:l,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+n)/1e3,p=i+u,g=f+c-p,m=Math.ceil(g*s/a),v=Math.floor((f-p-d)*s/a),y=Math.floor((f-p)*s/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},y=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.sourceDuration,o=v[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(o.start,o.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.periodIndex,o=t.startNumber;return{number:(void 0===o?1:o)+e,duration:i/s,timeline:a,time:n*i}}}(t));if("static"===n){var l=u.length-1;u[l].duration=a-i/s*l}return u},b=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_=function(t,e){return t.replace(b,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var s=""+t[n];return"RepresentationID"===n?s:(r=i?parseInt(r,10):1,s.length>=r?s:""+new Array(r-s.length+1).join("0")+s)}}(e))},T=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,s=p({baseUrl:t.baseUrl,source:_(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?y(t):m(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map(function(e){n.Number=e.number,n.Time=e.time;var i=_(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:f(t.baseUrl||"",i),map:s,number:e.number}})},S="INVALID_NUMBER_OF_PERIOD",w="DASH_EMPTY_MANIFEST",E="DASH_INVALID_XML",C="NO_BASE_URL",k="SEGMENT_TIME_UNSPECIFIED",x="UNSUPPORTED_UTC_TIMING_SCHEME",A=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(k);var s,a=r.map(function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,s=p({baseUrl:n,source:r.sourceURL,range:r.range}),a=p({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=s,a}(t,e)});return n&&(s=y(t)),e&&(s=m(t,e)),s.map(function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t})},O=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,s=t.timescale,a=void 0===s?1:s,o=t.indexRange,u=void 0===o?"":o,l=t.duration;if(!e)throw new Error(C);var c=p({baseUrl:e,source:i.sourceURL,range:i.range}),h=p({baseUrl:e,source:e,range:u});if(h.map=c,l){var d=y(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/a,h.timeline=0);return h.number=0,[h]},P=function(t){var e,n,i=t.attributes,r=t.segmentInfo;if(r.template?(n=T,e=a(i,r.template)):r.base?(n=O,e=a(i,r.base)):r.list&&(n=A,e=a(i,r.list)),!n)return{attributes:i};var s=n(e,r.timeline);if(e.duration){var o=e,u=o.duration,l=o.timescale,c=void 0===l?1:l;e.duration=u/c}else s.length?e.duration=s.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return{attributes:e,segments:s}},D=function(t,e){return u(t.childNodes).filter(function(t){return t.tagName===e})},I=function(t){return t.textContent.trim()},R=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(u||0)},L={mediaPresentationDuration:function(t){return R(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return R(t)},timeShiftBufferDepth:function(t){return R(t)},start:function(t){return R(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?R(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},F=function(t){return t&&t.attributes?u(t.attributes).reduce(function(t,e){var n=L[e.name]||L.DEFAULT;return t[e.name]=n(e.value),t},{}):{}};var B={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},M=function(t,e){return e.length?o(t.map(function(t){return e.map(function(e){return f(t,I(e))})})):t},N=function(t){var e=D(t,"SegmentTemplate")[0],n=D(t,"SegmentList")[0],i=n&&D(n,"SegmentURL").map(function(t){return a({tag:"SegmentURL"},F(t))}),r=D(t,"SegmentBase")[0],s=n||e,o=s&&D(s,"SegmentTimeline")[0],u=n||r||e,l=u&&D(u,"Initialization")[0],c=e&&F(e);c&&l?c.initialization=l&&F(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,timeline:o&&D(o,"S").map(function(t){return F(t)}),list:n&&a(F(n),{segmentUrls:i,initialization:F(l)}),base:r&&a(F(r),{initialization:F(l)})};return Object.keys(h).forEach(function(t){h[t]||delete h[t]}),h},j=function(t){return t.reduce(function(t,e){var n=F(e),i=B[n.schemeIdUri];if(i){t[i]={attributes:n};var s=D(e,"cenc:pssh")[0];if(s){var a=I(s),o=a&&function(t){for(var e=r.a.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(a);t[i].pssh=o}}return t},{})},U=function(t,e,n){return function(i){var r=F(i),s=M(e,D(i,"BaseURL")),u=D(i,"Role")[0],l={role:F(u)},c=a(t,r,l),h=j(D(i,"ContentProtection"));Object.keys(h).length&&(c=a(c,{contentProtection:h}));var d=N(i),f=D(i,"Representation"),p=a(n,d);return o(f.map(function(t,e,n){return function(i){var r=D(i,"BaseURL"),s=M(e,r),o=a(t,F(i)),u=N(i);return s.map(function(t){return{segmentInfo:a(n,u),attributes:a(o,{baseUrl:t})}})}}(c,s,p)))}},H=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,s=void 0===i?"":i,u=n.NOW,l=void 0===u?Date.now():u,c=n.clientOffset,h=void 0===c?0:c,d=D(t,"Period");if(!d.length)throw new Error(S);var f=F(t),p=M([s],D(t,"BaseURL"));return f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=l,f.clientOffset=h,o(d.map(function(t,e){return function(n,i){var s=M(e,D(n,"BaseURL")),u=F(n),l=parseInt(u.id,10),c=r.a.isNaN(l)?i:l,h=a(t,{periodIndex:c}),d=D(n,"AdaptationSet"),f=N(n);return o(d.map(U(h,s,f)))}}(f,p)))},V=function(t){if(""===t)throw new Error(w);var e=(new r.a.DOMParser).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(E);return n},q=function(t,e){return function(t){var e;if(!t.length)return{};var n=t[0].attributes,i=n.sourceDuration,r=n.minimumUpdatePeriod,s=void 0===r?0:r,a=l(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(c),o=l(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),u=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:i,playlists:a,minimumUpdatePeriod:1e3*s};return o.length&&(h.mediaGroups.AUDIO.audio=o.reduce(function(t,e){var n=e.attributes.role&&e.attributes.role.value||"main",i=e.attributes.lang||"",r="main";return i&&(r=e.attributes.lang+" ("+n+")"),t[r]&&t[r].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth?t:(t[r]={language:i,autoselect:!0,default:"main"===n,playlists:[function(t){var e,n=t.attributes,i=t.segments,r={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r}(e)],uri:""},t)},{})),u.length&&(h.mediaGroups.SUBTITLES.subs=function(t){return t.reduce(function(t,e){var n,i,r,s,a=e.attributes.lang||"text";return t[a]?t:(t[a]={language:a,default:!1,autoselect:!1,playlists:[(n=e,r=n.attributes,s=n.segments,void 0===s&&(s=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration),{attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:s,mediaSequence:s.length?s[0].number:1})],uri:""},t)},{})}(u)),h}(H(V(t),e).map(P))},z=function(t){return function(t){var e=D(t,"UTCTiming")[0];if(!e)return null;var n=F(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(x)}return n}(V(t))}}).call(e,n("9AUj"))},Lv47:function(t,e,n){"use strict";var i=n("8r5Y");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},Lvi9:function(t,e){t.exports=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]}},M9qU:function(t,e,n){"use strict";var i=n("arl9"),r=n("fEMH"),s=n("Shba"),a=n("6Ke0"),o=n("bPMW"),u=Object.assign;t.exports=!u||n("QzFD")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=r.f,h=s.f;u>l;)for(var d,f=o(arguments[l++]),p=c?i(f).concat(c(f)):i(f),g=p.length,m=0;g>m;)h.call(f,d=p[m++])&&(n[d]=f[d]);return n}:u},MGMR:function(t,e,n){var i=n("jUE6"),r=n("mhb3")("iterator"),s=n("XRq0");t.exports=n("UB+n").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||s[i(t)]}},MJPF:function(t,e,n){"use strict";var i,r,s,a=n("uUG0"),o=n("E4A/");(r=function(){var t,e,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new a,s={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(i=function(){var t,e,n,a,u,l,c,h=new r;i.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,a=t.dts,h.push(t))},h.on("data",function(i){var r={trackId:e,pts:n,dts:a,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=l(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)}),h.on("done",function(){t.trigger("done")}),this.flush=function(){h.flush()},c=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},u=function(t){for(var e,n,i=t.byteLength,r=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),n[s]=t[a];return n},l=function(t){var e,n,i,r,a,u,l,h,d,f,p,g,m,v=0,y=0,b=0,_=0,T=1;if(n=(e=new o(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),s[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==a?8:12,m=0;m<p;m++)e.readBoolean()&&c(m<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),m=0;m<l;m++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),h=e.readUnsignedExpGolomb(),d=e.readUnsignedExpGolomb(),0===(f=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}g&&(T=g[0]/g[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(h+1)-2*v-2*y)*T),height:(2-f)*(d+1)*16-2*b-2*_}}}).prototype=new a,t.exports={H264Stream:i,NalByteStream:r}},"Mb/S":function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("aPx6")),s=i(n("pmpl")),a=n("2Eis"),o=function(t,e){var n;return t&&(n=window.getComputedStyle(t))?n[e]:""},u=function(t,e){var n=t.slice();t.sort(function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r})},l=function(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),n-(i=i||window.Number.MAX_VALUE)};e.comparePlaylistBandwidth=l;e.comparePlaylistResolution=function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),n===(i=i||window.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};var c=function(t,e,n,i){var a=t.playlists.map(function(t){var e,n;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:e,height:n,playlist:t}});u(a,function(t,e){return t.bandwidth-e.bandwidth});var o=(a=a.filter(function(t){return!s.default.isIncompatible(t.playlist)})).filter(function(t){return s.default.isEnabled(t.playlist)});o.length||(o=a.filter(function(t){return!s.default.isDisabled(t.playlist)}));var l=o.filter(function(t){return t.bandwidth*r.default.BANDWIDTH_VARIANCE<e}),c=l[l.length-1],h=l.filter(function(t){return t.bandwidth===c.bandwidth})[0],d=l.filter(function(t){return t.width&&t.height});u(d,function(t,e){return t.width-e.width});var f=d.filter(function(t){return t.width===n&&t.height===i});c=f[f.length-1];var p=f.filter(function(t){return t.bandwidth===c.bandwidth})[0],g=void 0,m=void 0,v=void 0;p||(m=(g=d.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===g[0].width&&t.height===g[0].height}),c=m[m.length-1],v=m.filter(function(t){return t.bandwidth===c.bandwidth})[0]);var y=v||p||h||o[0]||a[0];return y?y.playlist:null};e.simpleSelector=c;e.lastBandwidthSelector=function(){return c(this.playlists.master,this.systemBandwidth,parseInt(o(this.tech_.el(),"width"),10),parseInt(o(this.tech_.el(),"height"),10))};e.movingAverageBandwidthSelector=function(t){var e=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return e<0&&(e=this.systemBandwidth),e=t*this.systemBandwidth+(1-t)*e,c(this.playlists.master,e,parseInt(o(this.tech_.el(),"width"),10),parseInt(o(this.tech_.el(),"height"),10))}};e.minRebufferMaxBandwidthSelector=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,o=t.timeUntilRebuffer,c=t.currentTimeline,h=t.syncController,d=e.playlists.filter(function(t){return!s.default.isIncompatible(t)}),f=d.filter(s.default.isEnabled);f.length||(f=d.filter(function(t){return!s.default.isDisabled(t)}));var p=f.filter(s.default.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=h.getSyncPoint(t,r,c,n)?1:2;return{playlist:t,rebufferingImpact:s.default.estimateSegmentRequestTime(a,i,t)*e-o}}),g=p.filter(function(t){return t.rebufferingImpact<=0});return u(g,function(t,e){return l(e.playlist,t.playlist)}),g.length?g[0]:(u(p,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),p[0]||null)};e.lowestBitrateCompatibleVariantSelector=function(){var t=this.playlists.master.playlists.filter(s.default.isEnabled);return u(t,function(t,e){return l(t,e)}),t.filter(function(t){return(0,a.parseCodecs)(t.attributes.CODECS).videoCodec})[0]||null}},Mc4G:function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},McJY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1}},{key:"trigger",value:function(t){var e=this.listeners[t],n=void 0,i=void 0,r=void 0;if(e)if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();e.default=r},Mf0i:function(t,e,n){"use strict";var i,r,s=n("0P9+").parseType,a=function(t){return new Date(1e3*t-20828448e5)},o=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:i(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=s.getUint16(i),i+=2,a.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=s.getUint16(i),i+=2,a.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:s(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(s(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:i(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:i(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:s(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=a(n.getUint32(i)),i+=8,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=a(n.getUint32(i)),i+=4,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:i(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:i(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=i(t.subarray(28))[0]),n},moof:function(t){return{boxes:i(t)}},moov:function(t){return{boxes:i(t)}},mvex:function(t){return{boxes:i(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(e.getUint32(n)),n+=8,i.modificationTime=a(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=a(e.getUint32(n)),n+=4,i.modificationTime=a(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:i(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:i(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return u.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],s=2&i.flags[2],a=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),s&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(e.getUint32(n)),n+=8,i.modificationTime=a(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=a(e.getUint32(n)),n+=4,i.modificationTime=a(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:i(t)}},trak:function(t){return{boxes:i(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],s=4&n.flags[2],a=1&n.flags[1],u=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],h=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),s&&h&&(e={flags:o(t.subarray(d,d+4))},d+=4,a&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),c&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),h--);h--;)e={},a&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),l&&(e.flags=o(t.subarray(d,d+4)),d+=4),c&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};i=function(t){for(var e,n,i,r,a,o=0,l=[],c=new ArrayBuffer(t.length),h=new Uint8Array(c),d=0;d<t.length;++d)h[d]=t[d];for(e=new DataView(c);o<t.byteLength;)n=e.getUint32(o),i=s(t.subarray(o+4,o+8)),r=n>1?o+n:t.byteLength,(a=(u[i]||function(t){return{data:t}})(t.subarray(o+8,r))).size=n,a.type=i,l.push(a),o=r;return l},r=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return s?1===s.length?i+"<"+s.join("").slice(1)+">":i+"<\n"+s.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+r(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:i,textify:r,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun}},MqD1:function(t,e,n){"use strict";var i,r=n("kxdO"),s=n("uaOX"),a=n("uBjM"),o=n("FJlU"),u=n("Cwod"),l=0,c=1,h=3,d=4,f=5,p=0,g=1,m=-2,v=-3,y=-5,b=-1,_=1,T=2,S=3,w=4,E=0,C=2,k=8,x=9,A=15,O=8,P=286,D=30,I=19,R=2*P+1,L=15,F=3,B=258,M=B+F+1,N=32,j=42,U=69,H=73,V=91,q=103,z=113,W=666,$=1,K=2,G=3,Y=4,X=3;function J(t,e){return t.msg=u[e],e}function Z(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,u=t.strstart>t.w_size-M?t.strstart-(t.w_size-M):0,l=t.window,c=t.w_mask,h=t.prev,d=t.strstart+B,f=l[s+a-1],p=l[s+a];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do{if(l[(n=e)+a]===p&&l[n+a-1]===f&&l[n]===l[s]&&l[++n]===l[s+1]){s+=2,n++;do{}while(l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&s<d);if(i=B-(d-s),s=d-B,i>a){if(t.match_start=e,a=i,i>=o)break;f=l[s+a-1],p=l[s+a]}}}while((e=h[e&c])>u&&0!=--r);return a<=t.lookahead?a:t.lookahead}function st(t){var e,n,i,s,u,l,c,h,d,f,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-M)){r.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=p?i-p:0}while(--n);e=n=p;do{i=t.prev[--e],t.prev[e]=i>=p?i-p:0}while(--n);s+=p}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,h=t.strstart+t.lookahead,d=s,f=void 0,(f=l.avail_in)>d&&(f=d),n=0===f?0:(l.avail_in-=f,r.arraySet(c,l.input,l.next_in,f,h),1===l.state.wrap?l.adler=a(l.adler,c,f,h):2===l.state.wrap&&(l.adler=o(l.adler,c,f,h)),l.next_in+=f,l.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=F)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+F-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<F)););}while(t.lookahead<M&&0!==t.strm.avail_in)}function at(t,e){for(var n,i;;){if(t.lookahead<M){if(st(t),t.lookahead<M&&e===l)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-M&&(t.match_length=rt(t,n)),t.match_length>=F)if(i=s._tr_tally(t,t.strstart-t.match_start,t.match_length-F),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=F){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=t.strstart<F-1?t.strstart:F-1,e===d?(et(t,!0),0===t.strm.avail_out?G:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:K}function ot(t,e){for(var n,i,r;;){if(t.lookahead<M){if(st(t),t.lookahead<M&&e===l)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=F-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-M&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===_||t.match_length===F&&t.strstart-t.match_start>4096)&&(t.match_length=F-1)),t.prev_length>=F&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-F,i=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-F),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=F-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return $}else if(t.match_available){if((i=s._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return $}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<F-1?t.strstart:F-1,e===d?(et(t,!0),0===t.strm.avail_out?G:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:K}function ut(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function lt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=C,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:z,t.adler=2===e.wrap?0:1,e.last_flush=l,s._tr_init(e),p):J(t,m)}function ct(t){var e,n=lt(t);return n===p&&((e=t.state).window_size=2*e.w_size,Q(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=F-1,e.match_available=0,e.ins_h=0),n}function ht(t,e,n,i,s,a){if(!t)return m;var o=1;if(e===b&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>x||n!==k||i<8||i>15||e<0||e>9||a<0||a>w)return J(t,m);8===i&&(i=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*R),this.dyn_dtree=new r.Buf16(2*(2*D+1)),this.bl_tree=new r.Buf16(2*(2*I+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*P+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*P+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+F-1)/F),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,ct(t)}i=[new ut(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),0===t.lookahead&&e===l)return $;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return $;if(t.strstart-t.block_start>=t.w_size-M&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?G:Y):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),$)}),new ut(4,4,8,4,at),new ut(4,5,16,8,at),new ut(4,6,32,32,at),new ut(4,4,16,16,ot),new ut(8,16,32,32,ot),new ut(8,16,128,128,ot),new ut(8,32,128,256,ot),new ut(32,128,258,1024,ot),new ut(32,258,258,4096,ot)],e.deflateInit=function(t,e){return ht(t,e,k,A,O,E)},e.deflateInit2=ht,e.deflateReset=ct,e.deflateResetKeep=lt,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,p):m},e.deflate=function(t,e){var n,r,a,u;if(!t||!t.state||e>f||e<0)return t?J(t,m):m;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===W&&e!==d)return J(t,0===t.avail_out?y:m);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===j)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=T||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=o(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=T||r.level<2?4:0),nt(r,X),r.status=z);else{var v=k+(r.w_bits-8<<4)<<8;v|=(r.strategy>=T||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=N),v+=31-v%31,r.status=z,it(r,v),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===U)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),0===u&&(r.gzindex=0,r.status=V)}else r.status=V;if(r.status===V)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>a&&(t.adler=o(t.adler,r.pending_buf,r.pending-a,a)),0===u&&(r.status=q)}else r.status=q;if(r.status===q&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=z)):r.status=z),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,p}else if(0===t.avail_in&&Z(e)<=Z(n)&&e!==d)return J(t,y);if(r.status===W&&0!==t.avail_in)return J(t,y);if(0!==t.avail_in||0!==r.lookahead||e!==l&&r.status!==W){var b=r.strategy===T?function(t,e){for(var n;;){if(0===t.lookahead&&(st(t),0===t.lookahead)){if(e===l)return $;break}if(t.match_length=0,n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?G:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:K}(r,e):r.strategy===S?function(t,e){for(var n,i,r,a,o=t.window;;){if(t.lookahead<=B){if(st(t),t.lookahead<=B&&e===l)return $;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=F&&t.strstart>0&&(i=o[r=t.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){a=t.strstart+B;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);t.match_length=B-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=F?(n=s._tr_tally(t,1,t.match_length-F),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===d?(et(t,!0),0===t.strm.avail_out?G:Y):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:K}(r,e):i[r.level].func(r,e);if(b!==G&&b!==Y||(r.status=W),b===$||b===G)return 0===t.avail_out&&(r.last_flush=-1),p;if(b===K&&(e===c?s._tr_align(r):e!==f&&(s._tr_stored_block(r,0,0,!1),e===h&&(Q(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,p}return e!==d?p:r.wrap<=0?g:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==j&&e!==U&&e!==H&&e!==V&&e!==q&&e!==z&&e!==W?J(t,m):(t.state=null,e===z?J(t,v):p):m},e.deflateSetDictionary=function(t,e){var n,i,s,o,u,l,c,h,d=e.length;if(!t||!t.state)return m;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==j||n.lookahead)return m;for(1===o&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===o&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,e,d-n.w_size,n.w_size,0),e=h,d=n.w_size),u=t.avail_in,l=t.next_in,c=t.input,t.avail_in=d,t.next_in=0,t.input=e,st(n);n.lookahead>=F;){i=n.strstart,s=n.lookahead-(F-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+F-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--s);n.strstart=i,n.lookahead=F-1,st(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=u,n.wrap=o,p},e.deflateInfo="pako deflate (from Nodeca project)"},Njan:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},NpOx:function(t,e,n){var i=n("ih9o");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},NqPD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n("McJY"),o=(i=a)&&i.__esModule?i:{default:i};var u=function(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=e.length,r=void 0;i--;)""!==e[i]&&((r=/([^=]*)=(.*)/.exec(e[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"]),s(e,[{key:"push",value:function(t){var e=void 0,n=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===t[0])if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var i=u(e[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var s=i.BYTERANGE.split("@"),a=r(s,2),o=a[0],l=a[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),l&&(n.byterange.offset=parseInt(l,10))}}this.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=u(e[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),h={};c[0]&&(h.width=parseInt(c[0],10)),c[1]&&(h.height=parseInt(c[1],10)),n.attributes.RESOLUTION=h}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=u(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=u(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)});else this.trigger("data",{type:"uri",uri:t})}}]),e}();e.default=l},NzvA:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},Oa1u:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},OouK:function(t,e,n){"use strict";var i=n("uUG0"),r=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},s=function(t){var e,n;s.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=r(t.dts,n),t.pts=r(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:r}},OqsU:function(t,e,n){"use strict";t.exports=function(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},OtkV:function(t,e,n){"use strict";var i=n("8r5Y"),r=n("1Rfl"),s=n("K3AH"),a=n("hN2N"),o=n("jzYM"),u=n("YDtG");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!o(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},P4iZ:function(t,e,n){"use strict";var i;t.exports=function(t){var e=i[t.byteLength%16||0],n=new Uint8Array(t.byteLength+e.length);return n.set(t),n.set(e,t.byteLength),n},i=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},QHZ7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){return t&&t.__esModule?t:{default:t}}var s=r(n("VBq3")),a=r(n("+rzy")),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e||{},this.init()}return i(t,[{key:"init",value:function(){var t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new a.default.Transmuxer(this.options),(t=this.transmuxer).on("data",function(t){s.default.postMessage({action:"data",segment:t})}),t.on("done",function(t){s.default.postMessage({action:"done"})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}();e.default=function(t){return new function(t){t.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new o(t.data.options):(this.messageHandlers||(this.messageHandlers=new o),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(t)},t.exports=e.default},QI9N:function(t,e,n){var i=n("HH4H"),r=n("UB+n"),s=n("E5ix"),a=n("72dD"),o=n("VKnT").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:a.f(t)})}},Qm5e:function(t,e,n){"use strict";var i=n("uUG0"),r=n("cCQC"),s=function(){s.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};s.prototype=new i,s.prototype.push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=r.parseSei(t.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},s.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},s.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},s.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},s.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(t){return null===t?"":(t=a[t]||t,String.fromCharCode(t))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],l=function(){for(var t=[],e=15;e--;)t.push("");return t},c=function(t,e){c.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=l();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=l();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=l()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))s=o((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=o((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=u.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,a),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),s=o(i),s+=o(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};c.prototype=new i,c.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=l(),this.nonDisplayed_=l(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},c.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},c.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},c.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},c.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},c.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},c.prototype.isNormalChar=function(t){return t>=32&&t<=127},c.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=l(),this.displayed_=l()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},c.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},c.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},c.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},c.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},c.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},c.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},t.exports={CaptionStream:s,Cea608Stream:c}},QzFD:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},R7A6:function(t,e,n){"use strict";var i,r=n("uUG0");(i=function(){var t=new Uint8Array,e=0;i.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(n){var i,r,s,a,o=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((o=this.parseAdtsSize(t,u))>t.length)break;s={type:"audio",data:t.subarray(u,u+o),pts:e,dts:e},this.trigger("data",s),u+=o}else u++;else{if(t.length-u<10)break;if((o=this.parseId3TagSize(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+o)},this.trigger("data",r),u+=o}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}}).prototype=new r,t.exports=i},R9Hr:function(t,e,n){var i=n("HH4H").document;t.exports=i&&i.documentElement},RDEB:function(t,e,n){var i=arguments[3],r=arguments[4],s=arguments[5],a=JSON.stringify,o=!1;void 0===i&&(o=!0,i=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=entryModule)},r=n.m);t.exports=function(t,e){var u;u=o?function(t,e){var s,o="string"==typeof e;s=o?{}:[],Object.keys(r).forEach(function(t){r[t]&&(s[t]=r[t].toString())});var u,l=n(e);if(!l||l!==t&&l.default!==t){var c=s[e];s[e]=c.substring(0,c.length-1)+"\n"+t.name+"();\n}"}o?(e=a(e),u="{"+Object.keys(s).map(function(t){return a(t)+":"+s[t]}).join(",")+"}"):u="["+s.join(",")+"]";return"var fn = ("+i.toString().replace("entryModule",e)+")("+u+');\n(typeof fn === "function") && fn(self);'}(t,e):function(t){for(var e,n=Object.keys(s),o=0;o<n.length;o++){var u=n[o],l=s[u].exports;if(l===t||l&&l.default===t){e=u;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(o=0;o<n.length;o++)c[u=n[o]]=u;r[e]=["function(require,module,exports){"+t+"(self); }",c]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};return d[e]=e,r[h]=["function(require,module,exports){var f = require("+a(e)+");(f.default ? f.default : f)(self);}",d],"("+i+")({"+Object.keys(r).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(h)+"])"}(t);var l=new Blob([u],{type:"text/javascript"}),c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),h=new Worker(c);return h.objectURL=c,h}},RI5v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("H800")),o=n("pmpl"),u=s(n("9SM9")),l=s(n("nwUB")),c=s(n("1qaj")),h=s(n("1n34")),d=s(n("y0by")),f=s(n("vTvk")),p=n("6XwY"),g=s(n("RDEB")),m=s(n("daEg")),v=s(n("aPx6")),y=n("2Eis"),b=n("H4Cu"),_=void 0,T={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},S=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],w=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},E=function(){var t=void 0;try{t="daEg"}catch(t){}return t},C=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return(0,p.translateLegacyCodecs)([t])[0]})};e.mapLegacyAvcCodecs_=C;var k=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},x=function(t,e){var n=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),i=function(t){var e=t.attributes||{};return e.CODECS?(0,y.parseCodecs)(e.CODECS):T}(e),r=e.attributes||{},s=!0,a=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var o=t.mediaGroups.AUDIO[r.AUDIO];if(o)for(var u in a=!0,s=!1,o)if(!o[u].uri){s=!0;break}}a&&!i.audioProfile&&(h.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=T.audioProfile);var l={};i.videoCodec&&(l.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(l.audio="mp4a.40."+i.audioProfile);var c=k("audio",n,[l.audio]),d=k("video",n,[l.video]),f=k("video",n,[l.video,l.audio]);return a?!s&&l.video?[d,c]:[f,c]:l.video?[f]:[c]};e.mimeTypesForPlaylist_=x;var A=function(t){function e(t){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i=t.url,s=t.handleManifestRedirects,o=t.withCredentials,c=t.mode,d=t.tech,p=t.bandwidth,v=t.externHls,y=t.useCueTags,T=t.blacklistDuration,C=t.enableLowInitialPlaylist;if(!i)throw new Error("A non-empty playlist URL is required");_=v,this.tech_=d,this.hls_=d.hls,this.mode_=c,this.useCueTags_=y,this.blacklistDuration=T,this.enableLowInitialPlaylist=C,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:o,handleManifestRedirects:s,timeout:null},this.mediaTypes_=(0,b.createMediaTypes)(),this.mediaSource=new h.default.MediaSource({mode:c}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=h.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new f.default(t),this.segmentMetadataTrack_=d.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,g.default)(m.default,E());var k={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:p,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new a.default(i,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new u.default(h.default.mergeOptions(k,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new u.default(h.default.mergeOptions(k,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new l.default(h.default.mergeOptions(k,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),S.forEach(function(t){n[t+"_"]=w.bind(n,t)}),this.masterPlaylistLoader_.load()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h["default"].EventTarget),i(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),(0,b.setupMediaGroups)({segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,mode:t.mode_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return h.default.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e,n=t.masterPlaylistLoader_.media();if(!n){var i=void 0;return t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,void t.masterPlaylistLoader_.media(t.initialMedia_)}t.useCueTags_&&t.updateAdCues_(n),t.mainSegmentLoader_.playlist(n,t.requestOptions_),t.updateDuration(),t.tech_.paused()||t.mainSegmentLoader_.load(),n.endList||(e=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))},t.duration()!==1/0?t.tech_.one("durationchange",function n(){t.duration()===1/0?e():t.tech_.one("durationchange",n)}):e())}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,o.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var s in n.AUDIO)for(var a in n.AUDIO[s]){n.AUDIO[s][a].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),_.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),_.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),r=i.length?i.end(i.length-1)-t.tech_.currentTime():0,s=t.bufferLowWaterLine();(!n.endList||t.duration()<v.default.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=s)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t,e=this,n=this.masterPlaylistLoader_.media();if(!n||this.tech_.paused()||this.hasPlayed_())return!1;if(!n.endList){var i=(t=e.seekable()).length?h.default.browser.IE_VERSION&&"html5"===e.mode_&&0===e.tech_.readyState()?(e.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(t.end(0)),e.hasPlayed_=function(){return!0}}),{v:!1}):(e.trigger("firstplay"),void e.tech_.setCurrentTime(t.end(0))):{v:!1};if("object"==typeof i)return i.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return h.default.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=t&&this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=_.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=c.default.SAFE_TIME_DELTA;var s=r.end(r.length-1);return s-i<=c.default.SAFE_TIME_DELTA&&n-s<=c.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(t,e){void 0===t&&(t={});var n,i=void 0;if(i=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!i){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(o.isEnabled).length;return r?(h.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),h.default.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=c.default.findRange(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length&&"flash"!==this.mode_?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:_.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=_.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=_.Playlist.seekable(n,i)).length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=h.default.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=_.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=x(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(t){var e=this.masterPlaylistLoader_.master,n=2,i=null,r=void 0;t.attributes.CODECS&&(r=(0,y.parseCodecs)(t.attributes.CODECS),i=r.videoCodec,n=r.codecCount),e.playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};if(t.attributes.CODECS){var r=t.attributes.CODECS;e=(0,y.parseCodecs)(r),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+C(r)+'"')&&(t.excludeUntil=1/0)}e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),d.default.updateAdCues(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=v.default.GOAL_BUFFER_LENGTH,n=v.default.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,v.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=v.default.BUFFER_LOW_WATER_LINE,n=v.default.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,v.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),e}();e.MasterPlaylistController=A},ROtF:function(t,e,n){var i=n("Shba"),r=n("Njan"),s=n("kZKs"),a=n("NpOx"),o=n("qozV"),u=n("z3QQ"),l=Object.getOwnPropertyDescriptor;e.f=n("5D1g")?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(o(t,e))return r(!i.f.call(t,e),t[e])}},RRl7:function(t,e){var n,i,r,s,a,o;n=function(t){return 9e4*t},i=function(t,e){return t*e},r=function(t){return t/9e4},s=function(t,e){return t/e},a=function(t,e){return n(s(t,e))},o=function(t,e){return i(r(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o}},Rb18:function(t,e,n){var i=n("VKnT"),r=n("Njan");t.exports=n("5D1g")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},RqS9:function(t,e,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},o=0,u=0;function l(t){var e="";do{e=r[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function c(){var t=l(+new Date);return t!==i?(o=0,i=t):t+"."+l(o++)}for(;u<s;u++)a[r[u]]=u;c.encode=l,c.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*s+a[t.charAt(u)];return e},t.exports=c},"S/QA":function(t,e,n){"use strict";var i=n("uALp"),r=n("V9hu"),s={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,o=Array.prototype.push,u=function(t,e){o.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,c={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,n,r,s,a,o,l,h,d,f,p,g,m){var v=e;if("function"==typeof l?v=l(n,v):v instanceof Date&&(v=f(v)),null===v){if(s)return o&&!g?o(n,c.encoder,m):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||i.isBuffer(v))return o?[p(g?n:o(n,c.encoder,m))+"="+p(o(v,c.encoder,m))]:[p(n)+"="+p(String(v))];var y,b=[];if(void 0===v)return b;if(Array.isArray(l))y=l;else{var _=Object.keys(v);y=h?_.sort(h):_}for(var T=0;T<y.length;++T){var S=y[T];a&&null===v[S]||(Array.isArray(v)?u(b,t(v[S],r(n,S),r,s,a,o,l,h,d,f,p,g,m)):u(b,t(v[S],n+(d?"."+S:"["+S+"]"),r,s,a,o,l,h,d,f,p,g,m)))}return b};t.exports=function(t,e){var n=t,a=e?i.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var o=void 0===a.delimiter?c.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:c.skipNulls,f="boolean"==typeof a.encode?a.encode:c.encode,p="function"==typeof a.encoder?a.encoder:c.encoder,g="function"==typeof a.sort?a.sort:null,m=void 0===a.allowDots?c.allowDots:!!a.allowDots,v="function"==typeof a.serializeDate?a.serializeDate:c.serializeDate,y="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly,b=a.charset||c.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===a.format)a.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,a.format))throw new TypeError("Unknown format option provided.");var _,T,S=r.formatters[a.format];"function"==typeof a.filter?n=(T=a.filter)("",n):Array.isArray(a.filter)&&(_=T=a.filter);var w,E=[];if("object"!=typeof n||null===n)return"";w=a.arrayFormat in s?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var C=s[w];_||(_=Object.keys(n)),g&&_.sort(g);for(var k=0;k<_.length;++k){var x=_[k];d&&null===n[x]||u(E,h(n[x],x,C,l,d,f?p:null,T,g,m,v,S,y,b))}var A=E.join(o),O=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&(O+="iso-8859-1"===b?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),A.length>0?O+A:""}},SFw5:function(t,e,n){var i=n("Rb18");t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},SetI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("1n34")),o=s(n("EKZz")),u=s(n("lY3j")),l=n("popd"),c=s(n("RDEB")),h=s(n("585m")),d=n("6XwY"),f=function(){var t=void 0;try{t="585m"}catch(t){}return t},p=function(t,e,n){if(!e||!t.length)return[];var i=Math.ceil(9e4*(e.currentTime()-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)};e.gopsSafeToAlignWith=p;var g=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)};e.updateGopBuffer=g;var m=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),s=Math.ceil(9e4*(n-i)),a=t.slice(),o=t.length;o--&&!(t[o].pts<=s););if(-1===o)return a;for(var u=o+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a};e.removeGopBuffer=m;var v=function(t){function e(t,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,a.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=a.default.browser.IE_VERSION>=11;var s={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(t){(0,d.isAudioCodec)(t)?i.audioCodec_=t:(0,d.isVideoCodec)(t)&&(i.videoCodec_=t)}),this.transmuxer_=(0,c.default)(h.default,f()),this.transmuxer_.postMessage({action:"init",options:s}),this.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,e=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return a.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return a.default.createTimeRange();for(var s=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,u=s.length;u--;)i.push({time:s.start(u),type:"start"}),i.push({time:s.end(u),type:"end"});for(u=o.length;u--;)i.push({time:o.start(u),type:"start"}),i.push({time:o.end(u),type:"end"});for(i.sort(function(t,e){return t.time-e.time}),u=0;u<i.length;u++)"start"===i[u].type?2===++n&&(t=i[u].time):"end"===i[u].type&&1===--n&&(e=i[u].time),null!==t&&null!==e&&(r.push([t,e]),t=null,e=null);return a.default.createTimeRanges(r)}})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"].EventTarget),i(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),(0,o.default)(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;if(t.mediaSource_[n+"Buffer_"])(i=t.mediaSource_[n+"Buffer_"]).updating=!1;else{var r=n+'/mp4;codecs="'+t[n+"Codec_"]+'"';i=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(t){"function"==typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:void 0===i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var s in n)r(s);return i}(t.mediaSource_.nativeMediaSource_,r),t.mediaSource_[n+"Buffer_"]=i}t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_)return"updateend"===r&&(t[n+"Buffer_"].updating=!1),e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(r):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:p(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=g(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=m(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),(0,u.default)(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,u.default)(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),(0,l.addTextTrackData)(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}();e.default=v},Shba:function(t,e){e.f={}.propertyIsEnumerable},SoGw:function(t,e,n){"use strict";var i=n("kxdO"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,r,s,a,o=t.length,u=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,s=0;a<u;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,s,o=e||t.length,l=new Array(2*o);for(i=0,n=0;n<o;)if((r=t[n++])<128)l[i++]=r;else if((s=a[r])>4)l[i++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&n<o;)r=r<<6|63&t[n++],s--;s>1?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return u(l,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},"T+qX":function(t,e){t.exports={clearDtsInfo:function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n},collectDtsInfo:function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}}},"TBd/":function(t,e,n){var i=n("VBq3"),r=t.exports={WebVTT:n("wJKP"),VTTCue:n("LH1D"),VTTRegion:n("+pTH")};i.vttjs=r,i.WebVTT=r.WebVTT;var s=r.VTTCue,a=r.VTTRegion,o=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=s,i.VTTRegion=a},r.restore=function(){i.VTTCue=o,i.VTTRegion=u},i.VTTCue||r.shim()},TIWX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("e3Mc")),o=s(n("1n34")),u=s(n("kb1Q")),l=s(n("yLYI")),c=n("6XwY"),h=function(t){function e(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=a.default.getElementById(e.swfId),t.player_=(0,o.default)(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"].EventTarget),i(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(t){var e=(0,c.parseContentType)(t),n=void 0;if("video/mp2t"!==e.type&&"audio/mp2t"!==e.type)throw new Error("NotSupportedError (Video.js)");return n=new u.default(this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(t){"network"===t?this.tech_.error(2):"decode"===t&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}();e.default=h;try{Object.defineProperty(h.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(t){var e=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",t),t<n)for(e=0;e<this.sourceBuffers.length;e++)this.sourceBuffers[e].remove(t,n);return t}})}catch(t){h.prototype.duration=NaN}for(var d in l.default)h[d]=l.default[d];t.exports=e.default},"Td/5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("1n34"),s=(i=r)&&i.__esModule?i:{default:i},a=n("iqvJ"),o={FAILURE:2,TIMEOUT:-101,ABORTED:-102};e.REQUEST_ERRORS=o;var u=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},l=function(t){t.forEach(function(t){t.abort()})},c=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:o.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:o.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:o.FAILURE,xhr:e}:null},h=function(t,e,n){var i=[],r=0;return function(s,o){if(s&&(l(t),i.push(s)),(r+=1)===t.length){if(o.endOfAllRequests=Date.now(),i.length>0){var u=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})}(i);return n(u,o)}return o.encryptedBytes?function(t,e,n){t.addEventListener("message",function i(r){if(r.data.source===e.requestId){t.removeEventListener("message",i);var s=r.data.decrypted;return e.bytes=new Uint8Array(s.bytes,s.byteOffset,s.byteLength),n(null,e)}}),t.postMessage((0,a.createTransferableMessage)({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])}(e,o,n):n(null,o)}}},d=function(t,e){return function(n){var i,r,a;return t.stats=s.default.mergeOptions(t.stats,(r=(i=n).target,(a={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}};e.mediaSegmentRequest=function(t,e,n,i,r,a){var f=[],p=h(f,n,a);if(i.key){var g=t(s.default.mergeOptions(e,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,s=c(n,i);if(s)return e(s,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:o.FAILURE,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(i,p));f.push(g)}if(i.map&&!i.map.bytes){var m=t(s.default.mergeOptions(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:u(i.map)}),function(t,e){return function(n,i){var r=i.response,s=c(n,i);return s?e(s,t):0===r.byteLength?e({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:o.FAILURE,xhr:i},t):(t.map.bytes=new Uint8Array(i.response),e(null,t))}}(i,p));f.push(m)}var v=t(s.default.mergeOptions(e,{uri:i.resolvedUri,responseType:"arraybuffer",headers:u(i)}),function(t,e){return function(n,i){var r=i.response,s=c(n,i);return s?e(s,t):0===r.byteLength?e({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:o.FAILURE,xhr:i},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(i.response):t.bytes=new Uint8Array(i.response),e(null,t))}}(i,p));return v.addEventListener("progress",d(i,r)),f.push(v),function(){return l(f)}}},"UB+n":function(t,e){var n=t.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},UFff:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},UKZZ:function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},Ubp5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r,s=n("1n34"),a=(r=s)&&r.__esModule?r:{default:r},o=function(){},u=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(){i.sourceBuffer_=e.addSourceBuffer(n),i.onUpdateendCallback_=function(){var t=i.pendingCallback_;i.pendingCallback_=null,t&&t(),i.runCallback_()},i.sourceBuffer_.addEventListener("updateend",i.onUpdateendCallback_),i.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",r):r()}return i(t,[{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:a.default.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(t,e)},o)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}();e.default=u,t.exports=e.default},UhE3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){
/*!
 * Vue.js v2.5.18
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function o(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function c(t){return"[object RegExp]"===u.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function f(t){var e=parseFloat(t);return isNaN(e)?t:e}function p(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}p("slot,component",!0);var g=p("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var v=Object.prototype.hasOwnProperty;function y(t,e){return v.call(t,e)}function b(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var _=/-(\w)/g,T=b(function(t){return t.replace(_,function(t,e){return e?e.toUpperCase():""})}),S=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),w=/\B([A-Z])/g,E=b(function(t){return t.replace(w,"-$1").toLowerCase()});var C=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function k(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function x(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&x(e,t[n]);return e}function O(t,e,n){}var P=function(t,e,n){return!1},D=function(t){return t};function I(t,e){if(t===e)return!0;var n=o(t),i=o(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every(function(t,n){return I(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every(function(n){return I(t[n],e[n])})}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(I(t[n],e))return n;return-1}function L(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",B=["component","directive","filter"],M=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:O,parsePlatformTagName:D,mustUseProp:P,async:!0,_lifecycleHooks:M};function j(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function U(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var H=/[^\w.$]/;var V,q="__proto__"in{},z="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,$=W&&WXEnvironment.platform.toLowerCase(),K=z&&window.navigator.userAgent.toLowerCase(),G=K&&/msie|trident/.test(K),Y=K&&K.indexOf("msie 9.0")>0,X=K&&K.indexOf("edge/")>0,J=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===$),Z=(K&&/chrome\/\d+/.test(K),{}.watch),Q=!1;if(z)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Q=!0}}),window.addEventListener("test-passive",null,tt)}catch(t){}var et=function(){return void 0===V&&(V=!z&&!W&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),V},nt=z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var rt,st="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);rt="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var at=O,ot=0,ut=function(){this.id=ot++,this.subs=[]};ut.prototype.addSub=function(t){this.subs.push(t)},ut.prototype.removeSub=function(t){m(this.subs,t)},ut.prototype.depend=function(){ut.target&&ut.target.addDep(this)},ut.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ut.target=null;var lt=[];function ct(t){lt.push(t),ut.target=t}function ht(){lt.pop(),ut.target=lt[lt.length-1]}var dt=function(t,e,n,i,r,s,a,o){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ft={child:{configurable:!0}};ft.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,ft);var pt=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function gt(t){return new dt(void 0,void 0,void 0,String(t))}function mt(t){var e=new dt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var vt=Array.prototype,yt=Object.create(vt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=vt[t];U(yt,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,s=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),s})});var bt=Object.getOwnPropertyNames(yt),_t=!0;function Tt(t){_t=t}var St=function(t){var e;this.value=t,this.dep=new ut,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t)?(q?(e=yt,t.__proto__=e):function(t,e,n){for(var i=0,r=n.length;i<r;i++){var s=n[i];U(t,s,e[s])}}(t,yt,bt),this.observeArray(t)):this.walk(t)};function wt(t,e){var n;if(o(t)&&!(t instanceof dt))return y(t,"__ob__")&&t.__ob__ instanceof St?n=t.__ob__:_t&&!et()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new St(t)),e&&n&&n.vmCount++,n}function Et(t,e,n,i,r){var s=new ut,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var o=a&&a.get,u=a&&a.set;o&&!u||2!==arguments.length||(n=t[e]);var l=!r&&wt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):n;return ut.target&&(s.depend(),l&&(l.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=o?o.call(t):n;e===i||e!=e&&i!=i||o&&!u||(u?u.call(t,e):n=e,l=!r&&wt(e),s.notify())}})}}function Ct(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Et(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function kt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}}St.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Et(t,e[n])},St.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)wt(t[e])};var xt=N.optionMergeStrategies;function At(t,e){if(!e)return t;for(var n,i,r,s=Object.keys(e),a=0;a<s.length;a++)i=t[n=s[a]],r=e[n],y(t,n)?i!==r&&l(i)&&l(r)&&At(i,r):Ct(t,n,r);return t}function Ot(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?At(i,r):r}:e?t?function(){return At("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Pt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Dt(t,e,n,i){var r=Object.create(t||null);return e?x(r,e):r}xt.data=function(t,e,n){return n?Ot(t,e,n):e&&"function"!=typeof e?t:Ot(t,e)},M.forEach(function(t){xt[t]=Pt}),B.forEach(function(t){xt[t+"s"]=Dt}),xt.watch=function(t,e,n,i){if(t===Z&&(t=void 0),e===Z&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var s in x(r,t),e){var a=r[s],o=e[s];a&&!Array.isArray(a)&&(a=[a]),r[s]=a?a.concat(o):Array.isArray(o)?o:[o]}return r},xt.props=xt.methods=xt.inject=xt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return x(r,t),e&&x(r,e),r},xt.provide=Ot;var It=function(t,e){return void 0===e?t:e};function Rt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,s={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(s[T(r)]={type:null});else if(l(n))for(var a in n)r=n[a],s[T(a)]=l(r)?r:{type:r};t.props=s}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var s in n){var a=n[s];i[s]=l(a)?x({from:s},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Rt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Rt(t,e.mixins[i],n);var s,a={};for(s in t)o(s);for(s in e)y(t,s)||o(s);function o(i){var r=xt[i]||It;a[i]=r(t[i],e[i],n,i)}return a}function Lt(t,e,n,i){if("string"==typeof n){var r=t[e];if(y(r,n))return r[n];var s=T(n);if(y(r,s))return r[s];var a=S(s);return y(r,a)?r[a]:r[n]||r[s]||r[a]}}function Ft(t,e,n,i){var r=e[t],s=!y(n,t),a=n[t],o=Nt(Boolean,r.type);if(o>-1)if(s&&!y(r,"default"))a=!1;else if(""===a||a===E(t)){var u=Nt(String,r.type);(u<0||o<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!y(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof i&&"Function"!==Bt(e.type)?i.call(t):i}(i,r,t);var l=_t;Tt(!0),wt(a),Tt(l)}return a}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Mt(t,e){return Bt(t)===Bt(e)}function Nt(t,e){if(!Array.isArray(e))return Mt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Mt(e[n],t))return n;return-1}function jt(t,e,n){if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{if(!1===r[s].call(i,t,e,n))return}catch(t){Ut(t,i,"errorCaptured hook")}}Ut(t,e,n)}function Ut(t,e,n){if(N.errorHandler)try{return N.errorHandler.call(null,t,e,n)}catch(t){Ht(t,null,"config.errorHandler")}Ht(t,e,n)}function Ht(t,e,n){if(!z&&!W||"undefined"==typeof console)throw t;console.error(t)}var Vt,qt,zt=[],Wt=!1;function $t(){Wt=!1;var t=zt.slice(0);zt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Kt=!1;if("undefined"!=typeof setImmediate&&it(setImmediate))qt=function(){setImmediate($t)};else if("undefined"==typeof MessageChannel||!it(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())qt=function(){setTimeout($t,0)};else{var Gt=new MessageChannel,Yt=Gt.port2;Gt.port1.onmessage=$t,qt=function(){Yt.postMessage(1)}}if("undefined"!=typeof Promise&&it(Promise)){var Xt=Promise.resolve();Vt=function(){Xt.then($t),J&&setTimeout(O)}}else Vt=qt;function Jt(t,e){var n;if(zt.push(function(){if(t)try{t.call(e)}catch(t){jt(t,e,"nextTick")}else n&&n(e)}),Wt||(Wt=!0,Kt?qt():Vt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var Zt=new rt;function Qt(t){!function t(e,n){var i,r;var s=Array.isArray(e);if(!s&&!o(e)||Object.isFrozen(e)||e instanceof dt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(s)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}(t,Zt),Zt.clear()}var te,ee=b(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function ne(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,t)}return e.fns=t,e}function ie(t,e,n,r,a,o){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=ee(u),i(l)||(i(c)?(i(l.fns)&&(l=t[u]=ne(l)),s(h.once)&&(l=t[u]=a(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)i(t[u])&&r((h=ee(u)).name,e[u],h.capture)}function re(t,e,n){var a;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var o=t[e];function u(){n.apply(this,arguments),m(a.fns,u)}i(o)?a=ne([u]):r(o.fns)&&s(o.merged)?(a=o).fns.push(u):a=ne([o,u]),a.merged=!0,t[e]=a}function se(t,e,n,i,s){if(r(e)){if(y(e,n))return t[n]=e[n],s||delete e[n],!0;if(y(e,i))return t[n]=e[i],s||delete e[i],!0}return!1}function ae(t){return a(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var o=[];var u,l,c,h;for(u=0;u<e.length;u++)i(l=e[u])||"boolean"==typeof l||(c=o.length-1,h=o[c],Array.isArray(l)?l.length>0&&(oe((l=t(l,(n||"")+"_"+u))[0])&&oe(h)&&(o[c]=gt(h.text+l[0].text),l.shift()),o.push.apply(o,l)):a(l)?oe(h)?o[c]=gt(h.text+l):""!==l&&o.push(gt(l)):oe(l)&&oe(h)?o[c]=gt(h.text+l.text):(s(e._isVList)&&r(l.tag)&&i(l.key)&&r(n)&&(l.key="__vlist"+n+"_"+u+"__"),o.push(l)));return o}(t):void 0}function oe(t){return r(t)&&r(t.text)&&!1===t.isComment}function ue(t,e){return(t.__esModule||st&&"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t)?e.extend(t):t}function le(t){return t.isComment&&t.asyncFactory}function ce(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||le(n)))return n}}function he(t,e){te.$on(t,e)}function de(t,e){te.$off(t,e)}function fe(t,e){var n=te;return function i(){null!==e.apply(null,arguments)&&n.$off(t,i)}}function pe(t,e,n){te=t,ie(e,n||{},he,de,fe),te=void 0}function ge(t,e){var n={};if(!t)return n;for(var i=0,r=t.length;i<r;i++){var s=t[i],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==e&&s.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(s);else{var o=a.slot,u=n[o]||(n[o]=[]);"template"===s.tag?u.push.apply(u,s.children||[]):u.push(s)}}for(var l in n)n[l].every(me)&&delete n[l];return n}function me(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ve(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?ve(t[n],e):e[t[n].key]=t[n].fn;return e}var ye=null;function be(t){var e=ye;return ye=t,function(){ye=e}}function _e(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Te(t,e){if(e){if(t._directInactive=!1,_e(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Te(t.$children[n]);Se(t,"activated")}}function Se(t,e){ct();var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(t)}catch(n){jt(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),ht()}var we=[],Ee=[],Ce={},ke=!1,xe=!1,Ae=0;function Oe(){var t,e;for(xe=!0,we.sort(function(t,e){return t.id-e.id}),Ae=0;Ae<we.length;Ae++)(t=we[Ae]).before&&t.before(),e=t.id,Ce[e]=null,t.run();var n=Ee.slice(),i=we.slice();Ae=we.length=Ee.length=0,Ce={},ke=xe=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Te(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Se(i,"updated")}}(i),nt&&N.devtools&&nt.emit("flush")}var Pe=0,De=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Pe,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new rt,this.newDepIds=new rt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};De.prototype.get=function(){var t;ct(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;jt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Qt(t),ht(),this.cleanupDeps()}return t},De.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},De.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},De.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Ce[e]){if(Ce[e]=!0,xe){for(var n=we.length-1;n>Ae&&we[n].id>t.id;)n--;we.splice(n+1,0,t)}else we.push(t);ke||(ke=!0,Jt(Oe))}}(this)},De.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||o(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){jt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},De.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},De.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},De.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Ie={enumerable:!0,configurable:!0,get:O,set:O};function Re(t,e,n){Ie.get=function(){return this[e][n]},Ie.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ie)}function Le(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],s=!t.$parent;s||Tt(!1);var a=function(s){r.push(s);var a=Ft(s,e,n,t);Et(i,s,a),s in t||Re(t,"_props",s)};for(var o in e)a(o);Tt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?O:C(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ct();try{return t.call(e,e)}catch(t){return jt(t,e,"data()"),{}}finally{ht()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);for(;r--;){var s=n[r];0,i&&y(i,s)||j(s)||Re(t,"_data",s)}wt(e,!0)}(t):wt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=et();for(var r in e){var s=e[r],a="function"==typeof s?s:s.get;0,i||(n[r]=new De(t,a||O,O,Fe)),r in t||Be(t,r,s)}}(t,e.computed),e.watch&&e.watch!==Z&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)je(t,n,i[r]);else je(t,n,i)}}(t,e.watch)}var Fe={lazy:!0};function Be(t,e,n){var i=!et();"function"==typeof n?(Ie.get=i?Me(e):Ne(n),Ie.set=O):(Ie.get=n.get?i&&!1!==n.cache?Me(e):Ne(n.get):O,Ie.set=n.set||O),Object.defineProperty(t,e,Ie)}function Me(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ut.target&&e.depend(),e.value}}function Ne(t){return function(){return t.call(this,this)}}function je(t,e,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function Ue(t,e){if(t){for(var n=Object.create(null),i=st?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<i.length;r++){for(var s=i[r],a=t[s].from,o=e;o;){if(o._provided&&y(o._provided,a)){n[s]=o._provided[a];break}o=o.$parent}if(!o)if("default"in t[s]){var u=t[s].default;n[s]="function"==typeof u?u.call(e):u}else 0}return n}}function He(t,e){var n,i,s,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,s=t.length;i<s;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(o(t))for(a=Object.keys(t),n=new Array(a.length),i=0,s=a.length;i<s;i++)u=a[i],n[i]=e(t[u],u,i);return r(n)&&(n._isVList=!0),n}function Ve(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=x(x({},i),n)),r=s(n)||e):r=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function qe(t){return Lt(this.$options,"filters",t)||D}function ze(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function We(t,e,n,i,r){var s=N.keyCodes[e]||n;return r&&i&&!N.keyCodes[e]?ze(r,i):s?ze(s,t):i?E(i)!==e:void 0}function $e(t,e,n,i,r){if(n)if(o(n)){var s;Array.isArray(n)&&(n=A(n));var a=function(a){if("class"===a||"style"===a||g(a))s=t;else{var o=t.attrs&&t.attrs.type;s=i||N.mustUseProp(e,o,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(a);a in s||u in s||(s[a]=n[a],r&&((t.on||(t.on={}))["update:"+u]=function(t){n[a]=t}))};for(var u in n)a(u)}else;return t}function Ke(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(Ye(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Ge(t,e,n){return Ye(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ye(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Xe(t[i],e+"_"+i,n);else Xe(t,e,n)}function Xe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Je(t,e){if(e)if(l(e)){var n=t.on=t.on?x({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function Ze(t){t._o=Ge,t._n=f,t._s=d,t._l=He,t._t=Ve,t._q=I,t._i=R,t._m=Ke,t._f=qe,t._k=We,t._b=$e,t._v=gt,t._e=pt,t._u=ve,t._g=Je}function Qe(t,e,i,r,a){var o,u=a.options;y(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var l=s(u._compiled),c=!l;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Ue(u.inject,r),this.slots=function(){return ge(i,r)},l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||n),u._scopeId?this._c=function(t,e,n,i){var s=ln(o,t,e,n,i,c);return s&&!Array.isArray(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(t,e,n,i){return ln(o,t,e,n,i,c)}}function tn(t,e,n,i,r){var s=mt(t);return s.fnContext=n,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function en(t,e){for(var n in e)t[T(n)]=e[n]}Ze(Qe.prototype);var nn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;nn.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,ye)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions;!function(t,e,i,r,s){var a=!!(s||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==n);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Tt(!1);for(var o=t._props,u=t.$options._propKeys||[],l=0;l<u.length;l++){var c=u[l],h=t.$options.props;o[c]=Ft(c,h,e,t)}Tt(!0),t.$options.propsData=e}i=i||n;var d=t.$options._parentListeners;t.$options._parentListeners=i,pe(t,i,d),a&&(t.$slots=ge(s,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Se(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,Ee.push(e)):Te(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,_e(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Se(e,"deactivated")}}(e,!0):e.$destroy())}},rn=Object.keys(nn);function sn(t,e,a,u,l){if(!i(t)){var c=a.$options._base;if(o(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e,n){if(s(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(s(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var a=t.contexts=[n],u=!0,l=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0)},c=L(function(n){t.resolved=ue(n,e),u||l(!0)}),h=L(function(e){r(t.errorComp)&&(t.error=!0,l(!0))}),d=t(c,h);return o(d)&&("function"==typeof d.then?i(t.resolved)&&d.then(c,h):r(d.component)&&"function"==typeof d.component.then&&(d.component.then(c,h),r(d.error)&&(t.errorComp=ue(d.error,e)),r(d.loading)&&(t.loadingComp=ue(d.loading,e),0===d.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,l(!1))},d.delay||200)),r(d.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},d.timeout))),u=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}(h=t,c,a)))return function(t,e,n,i,r){var s=pt();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}(h,e,a,u,l);e=e||{},hn(t),r(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var s=e.on||(e.on={}),a=s[i],o=e.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(o):a!==o)&&(s[i]=[o].concat(a)):s[i]=o}(t.options,e);var d=function(t,e,n){var s=e.options.props;if(!i(s)){var a={},o=t.attrs,u=t.props;if(r(o)||r(u))for(var l in s){var c=E(l);se(a,u,l,c,!0)||se(a,o,l,c,!1)}return a}}(e,t);if(s(t.options.functional))return function(t,e,i,s,a){var o=t.options,u={},l=o.props;if(r(l))for(var c in l)u[c]=Ft(c,l,e||n);else r(i.attrs)&&en(u,i.attrs),r(i.props)&&en(u,i.props);var h=new Qe(i,u,a,s,t),d=o.render.call(null,h._c,h);if(d instanceof dt)return tn(d,i,h.parent,o);if(Array.isArray(d)){for(var f=ae(d)||[],p=new Array(f.length),g=0;g<f.length;g++)p[g]=tn(f[g],i,h.parent,o);return p}}(t,d,e,a,u);var f=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<rn.length;n++){var i=rn[n],r=e[i],s=nn[i];r===s||r&&r._merged||(e[i]=r?an(s,r):s)}}(e);var g=t.options.name||l;return new dt("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:d,listeners:f,tag:l,children:u},h)}}}function an(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var on=1,un=2;function ln(t,e,n,u,l,c){return(Array.isArray(n)||a(n))&&(l=u,u=n,n=void 0),s(c)&&(l=un),function(t,e,n,a,u){if(r(n)&&r(n.__ob__))return pt();r(n)&&r(n.is)&&(e=n.is);if(!e)return pt();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);u===un?a=ae(a):u===on&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a));var l,c;if("string"==typeof e){var h;c=t.$vnode&&t.$vnode.ns||N.getTagNamespace(e),l=N.isReservedTag(e)?new dt(N.parsePlatformTagName(e),n,a,void 0,void 0,t):n&&n.pre||!r(h=Lt(t.$options,"components",e))?new dt(e,n,a,void 0,void 0,t):sn(h,n,t,a,e)}else l=sn(e,n,t,a);return Array.isArray(l)?l:r(l)?(r(c)&&function t(e,n,a){e.ns=n;"foreignObject"===e.tag&&(n=void 0,a=!0);if(r(e.children))for(var o=0,u=e.children.length;o<u;o++){var l=e.children[o];r(l.tag)&&(i(l.ns)||s(a)&&"svg"!==l.tag)&&t(l,n,a)}}(l,c),r(n)&&function(t){o(t.style)&&Qt(t.style);o(t.class)&&Qt(t.class)}(n),l):pt()}(t,e,n,u,l)}var cn=0;function hn(t){var e=t.options;if(t.super){var n=hn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.extendOptions,r=t.sealedOptions;for(var s in n)n[s]!==r[s]&&(e||(e={}),e[s]=dn(n[s],i[s],r[s]));return e}(t);i&&x(t.extendOptions,i),(e=t.options=Rt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function dn(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||n.indexOf(t[r])<0)&&i.push(t[r]);return i}return t}function fn(t){this._init(t)}function pn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Rt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)Re(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)Be(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,B.forEach(function(t){a[t]=n[t]}),s&&(a.options.components[s]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=x({},a.options),r[i]=a,a}}function gn(t){return t&&(t.Ctor.options.name||t.tag)}function mn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function vn(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var s in n){var a=n[s];if(a){var o=gn(a.componentOptions);o&&!e(o)&&yn(n,s,i,r)}}}function yn(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,m(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=cn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Rt(hn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&pe(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=ge(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return ln(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return ln(t,e,n,i,r,!0)};var s=i&&i.data;Et(t,"$attrs",s&&s.attrs||n,null,!0),Et(t,"$listeners",e._parentListeners||n,null,!0)}(e),Se(e,"beforeCreate"),function(t){var e=Ue(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach(function(n){Et(t,n,e[n])}),Tt(!0))}(e),Le(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Se(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(fn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ct,t.prototype.$delete=kt,t.prototype.$watch=function(t,e,n){if(l(e))return je(this,t,e,n);(n=n||{}).user=!0;var i=new De(this,t,e,n);if(n.immediate)try{e.call(this,i.value)}catch(t){jt(t,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(fn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;if(e)for(var a,o=s.length;o--;)if((a=s[o])===e||a.fn===e){s.splice(o,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?k(n):n;for(var i=k(arguments,1),r=0,s=n.length;r<s;r++)try{n[r].apply(e,i)}catch(n){jt(n,e,'event handler for "'+t+'"')}}return e}}(fn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=be(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Se(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Se(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(fn),function(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return Jt(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,r=i.render,s=i._parentVnode;s&&(e.$scopedSlots=s.data.scopedSlots||n),e.$vnode=s;try{t=r.call(e._renderProxy,e.$createElement)}catch(n){jt(n,e,"render"),t=e._vnode}return t instanceof dt||(t=pt()),t.parent=s,t}}(fn);var bn=[String,RegExp,Array],_n={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:bn,exclude:bn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)yn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){vn(t,function(t){return mn(e,t)})}),this.$watch("exclude",function(e){vn(t,function(t){return!mn(e,t)})})},render:function(){var t=this.$slots.default,e=ce(t),n=e&&e.componentOptions;if(n){var i=gn(n),r=this.include,s=this.exclude;if(r&&(!i||!mn(r,i))||s&&i&&mn(s,i))return e;var a=this.cache,o=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,m(o,u),o.push(u)):(a[u]=e,o.push(u),this.max&&o.length>parseInt(this.max)&&yn(a,o[0],o,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return N}};Object.defineProperty(t,"config",e),t.util={warn:at,extend:x,mergeOptions:Rt,defineReactive:Et},t.set=Ct,t.delete=kt,t.nextTick=Jt,t.options=Object.create(null),B.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,x(t.options.components,_n),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Rt(this.options,t),this}}(t),pn(t),function(t){B.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(fn),Object.defineProperty(fn.prototype,"$isServer",{get:et}),Object.defineProperty(fn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fn,"FunctionalRenderContext",{value:Qe}),fn.version="2.5.18";var Tn=p("style,class"),Sn=p("input,textarea,option,select,progress"),wn=p("contenteditable,draggable,spellcheck"),En=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Cn="http://www.w3.org/1999/xlink",kn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},xn=function(t){return kn(t)?t.slice(6,t.length):""},An=function(t){return null==t||!1===t};function On(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Pn(i.data,e));for(;r(n=n.parent);)n&&n.data&&(e=Pn(e,n.data));return function(t,e){if(r(t)||r(e))return Dn(t,In(e));return""}(e.staticClass,e.class)}function Pn(t,e){return{staticClass:Dn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Dn(t,e){return t?e?t+" "+e:t:e||""}function In(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,s=t.length;i<s;i++)r(e=In(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):o(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Rn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ln=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Fn=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Bn=function(t){return Ln(t)||Fn(t)};var Mn=Object.create(null);var Nn=p("text,number,password,search,email,tel,url");var jn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Rn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Un={create:function(t,e){Hn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Hn(t,!0),Hn(e))},destroy:function(t){Hn(t,!0)}};function Hn(t,e){var n=t.data.ref;if(r(n)){var i=t.context,s=t.componentInstance||t.elm,a=i.$refs;e?Array.isArray(a[n])?m(a[n],s):a[n]===s&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(s)<0&&a[n].push(s):a[n]=[s]:a[n]=s}}var Vn=new dt("",{},[]),qn=["create","activate","update","remove","destroy"];function zn(t){return t&&t.data&&t.data.domProps&&(t.data.domProps.innerHTML||t.data.domProps.textContent)}function Wn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&!zn(t)&&!zn(e)&&function(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,s=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===s||Nn(i)&&Nn(s)}(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function $n(t,e,n){var i,s,a={};for(i=e;i<=n;++i)r(s=t[i].key)&&(a[s]=i);return a}var Kn={create:Gn,update:Gn,destroy:function(t){Gn(t,Vn)}};function Gn(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,s=t===Vn,a=e===Vn,o=Xn(t.data.directives,t.context),u=Xn(e.data.directives,e.context),l=[],c=[];for(n in u)i=o[n],r=u[n],i?(r.oldValue=i.value,Zn(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(Zn(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var h=function(){for(var n=0;n<l.length;n++)Zn(l[n],"inserted",e,t)};s?re(e,"insert",h):h()}c.length&&re(e,"postpatch",function(){for(var n=0;n<c.length;n++)Zn(c[n],"componentUpdated",e,t)});if(!s)for(n in o)u[n]||Zn(o[n],"unbind",t,t,a)}(t,e)}var Yn=Object.create(null);function Xn(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=Yn),r[Jn(i)]=i,i.def=Lt(e.$options,"directives",i.name);return r}function Jn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Zn(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(i){jt(i,n.context,"directive "+t.name+" "+e+" hook")}}var Qn=[Un,Kn];function ti(t,e){var n=e.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var s,a,o=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(s in r(l.__ob__)&&(l=e.data.attrs=x({},l)),l)a=l[s],u[s]!==a&&ei(o,s,a);for(s in(G||X)&&l.value!==u.value&&ei(o,"value",l.value),u)i(l[s])&&(kn(s)?o.removeAttributeNS(Cn,xn(s)):wn(s)||o.removeAttribute(s))}}function ei(t,e,n){t.tagName.indexOf("-")>-1?ni(t,e,n):En(e)?An(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):wn(e)?t.setAttribute(e,An(n)||"false"===n?"false":"true"):kn(e)?An(n)?t.removeAttributeNS(Cn,xn(e)):t.setAttributeNS(Cn,e,n):ni(t,e,n)}function ni(t,e,n){if(An(n))t.removeAttribute(e);else{if(G&&!Y&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName)&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var ii={create:ti,update:ti};function ri(t,e){var n=e.elm,s=e.data,a=t.data;if(!(i(s.staticClass)&&i(s.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var o=On(e),u=n._transitionClasses;r(u)&&(o=Dn(o,In(u))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var si,ai={create:ri,update:ri},oi="__r",ui="__c";function li(t,e,n){var i=si;return function r(){null!==e.apply(null,arguments)&&hi(t,r,n,i)}}function ci(t,e,n,i){var r;e=(r=e)._withTask||(r._withTask=function(){Kt=!0;try{return r.apply(null,arguments)}finally{Kt=!1}}),si.addEventListener(t,e,Q?{capture:n,passive:i}:n)}function hi(t,e,n,i){(i||si).removeEventListener(t,e._withTask||e,n)}function di(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},s=t.data.on||{};si=e.elm,function(t){if(r(t[oi])){var e=G?"change":"input";t[e]=[].concat(t[oi],t[e]||[]),delete t[oi]}r(t[ui])&&(t.change=[].concat(t[ui],t.change||[]),delete t[ui])}(n),ie(n,s,ci,hi,li,e.context),si=void 0}}var fi={create:di,update:di};function pi(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,s,a=e.elm,o=t.data.domProps||{},u=e.data.domProps||{};for(n in r(u.__ob__)&&(u=e.data.domProps=x({},u)),o)i(u[n])&&(a[n]="");for(n in u){if(s=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),s===o[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){a._value=s;var l=i(s)?"":String(s);gi(a,l)&&(a.value=l)}else a[n]=s}}}function gi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.lazy)return!1;if(i.number)return f(n)!==f(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var mi={create:pi,update:pi},vi=b(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function yi(t){var e=bi(t.style);return t.staticStyle?x(t.staticStyle,e):e}function bi(t){return Array.isArray(t)?A(t):"string"==typeof t?vi(t):t}var _i,Ti=/^--/,Si=/\s*!important$/,wi=function(t,e,n){if(Ti.test(e))t.style.setProperty(e,n);else if(Si.test(n))t.style.setProperty(e,n.replace(Si,""),"important");else{var i=Ci(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},Ei=["Webkit","Moz","ms"],Ci=b(function(t){if(_i=_i||document.createElement("div").style,"filter"!==(t=T(t))&&t in _i)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ei.length;n++){var i=Ei[n]+e;if(i in _i)return i}});function ki(t,e){var n=e.data,s=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(s.staticStyle)&&i(s.style))){var a,o,u=e.elm,l=s.staticStyle,c=s.normalizedStyle||s.style||{},h=l||c,d=bi(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?x({},d):d;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=yi(r.data))&&x(i,n);(n=yi(t.data))&&x(i,n);for(var s=t;s=s.parent;)s.data&&(n=yi(s.data))&&x(i,n);return i}(e,!0);for(o in h)i(f[o])&&wi(u,o,"");for(o in f)(a=f[o])!==h[o]&&wi(u,o,null==a?"":a)}}var xi={create:ki,update:ki},Ai=/\s+/;function Oi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ai).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Pi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ai).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Di(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&x(e,Ii(t.name||"v")),x(e,t),e}return"string"==typeof t?Ii(t):void 0}}var Ii=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ri=z&&!Y,Li="transition",Fi="animation",Bi="transition",Mi="transitionend",Ni="animation",ji="animationend";Ri&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Bi="WebkitTransition",Mi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ni="WebkitAnimation",ji="webkitAnimationEnd"));var Ui=z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Hi(t){Ui(function(){Ui(t)})}function Vi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Oi(t,e))}function qi(t,e){t._transitionClasses&&m(t._transitionClasses,e),Pi(t,e)}function zi(t,e,n){var i=$i(t,e),r=i.type,s=i.timeout,a=i.propCount;if(!r)return n();var o=r===Li?Mi:ji,u=0,l=function(){t.removeEventListener(o,c),n()},c=function(e){e.target===t&&++u>=a&&l()};setTimeout(function(){u<a&&l()},s+1),t.addEventListener(o,c)}var Wi=/\b(transform|all)(,|$)/;function $i(t,e){var n,i=window.getComputedStyle(t),r=(i[Bi+"Delay"]||"").split(", "),s=(i[Bi+"Duration"]||"").split(", "),a=Ki(r,s),o=(i[Ni+"Delay"]||"").split(", "),u=(i[Ni+"Duration"]||"").split(", "),l=Ki(o,u),c=0,h=0;return e===Li?a>0&&(n=Li,c=a,h=s.length):e===Fi?l>0&&(n=Fi,c=l,h=u.length):h=(n=(c=Math.max(a,l))>0?a>l?Li:Fi:null)?n===Li?s.length:u.length:0,{type:n,timeout:c,propCount:h,hasTransform:n===Li&&Wi.test(i[Bi+"Property"])}}function Ki(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Gi(e)+Gi(t[n])}))}function Gi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Yi(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var s=Di(t.data.transition);if(!i(s)&&!r(n._enterCb)&&1===n.nodeType){for(var a=s.css,u=s.type,l=s.enterClass,c=s.enterToClass,h=s.enterActiveClass,d=s.appearClass,p=s.appearToClass,g=s.appearActiveClass,m=s.beforeEnter,v=s.enter,y=s.afterEnter,b=s.enterCancelled,_=s.beforeAppear,T=s.appear,S=s.afterAppear,w=s.appearCancelled,E=s.duration,C=ye,k=ye.$vnode;k&&k.parent;)C=(k=k.parent).context;var x=!C._isMounted||!t.isRootInsert;if(!x||T||""===T){var A=x&&d?d:l,O=x&&g?g:h,P=x&&p?p:c,D=x&&_||m,I=x&&"function"==typeof T?T:v,R=x&&S||y,F=x&&w||b,B=f(o(E)?E.enter:E);0;var M=!1!==a&&!Y,N=Zi(I),j=n._enterCb=L(function(){M&&(qi(n,P),qi(n,O)),j.cancelled?(M&&qi(n,A),F&&F(n)):R&&R(n),n._enterCb=null});t.data.show||re(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),I&&I(n,j)}),D&&D(n),M&&(Vi(n,A),Vi(n,O),Hi(function(){qi(n,A),j.cancelled||(Vi(n,P),N||(Ji(B)?setTimeout(j,B):zi(n,u,j)))})),t.data.show&&(e&&e(),I&&I(n,j)),M||N||j()}}}function Xi(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var s=Di(t.data.transition);if(i(s)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var a=s.css,u=s.type,l=s.leaveClass,c=s.leaveToClass,h=s.leaveActiveClass,d=s.beforeLeave,p=s.leave,g=s.afterLeave,m=s.leaveCancelled,v=s.delayLeave,y=s.duration,b=!1!==a&&!Y,_=Zi(p),T=f(o(y)?y.leave:y);0;var S=n._leaveCb=L(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(qi(n,c),qi(n,h)),S.cancelled?(b&&qi(n,l),m&&m(n)):(e(),g&&g(n)),n._leaveCb=null});v?v(w):w()}function w(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),b&&(Vi(n,l),Vi(n,h),Hi(function(){qi(n,l),S.cancelled||(Vi(n,c),_||(Ji(T)?setTimeout(S,T):zi(n,u,S)))})),p&&p(n,S),b||_||S())}}function Ji(t){return"number"==typeof t&&!isNaN(t)}function Zi(t){if(i(t))return!1;var e=t.fns;return r(e)?Zi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Qi(t,e){!0!==e.data.show&&Yi(e)}var tr=function(t){var e,n,o={},u=t.modules,l=t.nodeOps;for(e=0;e<qn.length;++e)for(o[qn[e]]=[],n=0;n<u.length;++n)r(u[n][qn[e]])&&o[qn[e]].push(u[n][qn[e]]);function c(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function h(t,e,n,i,a,u,c){if(r(t.elm)&&r(u)&&(t=u[c]=mt(t)),t.isRootInsert=!a,!function(t,e,n,i){var a=t.data;if(r(a)){var u=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return d(t,e),f(n,t.elm,i),s(u)&&function(t,e,n,i){for(var s,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](Vn,a);e.push(a);break}f(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var h=t.data,p=t.children,m=t.tag;r(m)?(t.elm=t.ns?l.createElementNS(t.ns,m):l.createElement(m,t),y(t),g(t,p,e),r(h)&&v(t,e),f(n,t.elm,i)):s(t.isComment)?(t.elm=l.createComment(t.text),f(n,t.elm,i)):(t.elm=l.createTextNode(t.text),f(n,t.elm,i))}}function d(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(v(t,e),y(t)):(Hn(t),e.push(t))}function f(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function g(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],n,t.elm,null,!0,e,i);else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function v(t,n){for(var i=0;i<o.create.length;++i)o.create[i](Vn,t);r(e=t.data.hook)&&(r(e.create)&&e.create(Vn,t),r(e.insert)&&n.push(t))}function y(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;r(e=ye)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function b(t,e,n,i,r,s){for(;i<=r;++i)h(n[i],s,t,e,!1,n,i)}function _(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function T(t,e,n,i){for(;n<=i;++n){var s=e[n];r(s)&&(r(s.tag)?(S(s),_(s)):c(s.elm))}}function S(t,e){if(r(e)||r(t.data)){var n,i=o.remove.length+1;for(r(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&S(n,e),n=0;n<o.remove.length;++n)o.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else c(t.elm)}function w(t,e,n,i){for(var s=n;s<i;s++){var a=e[s];if(r(a)&&Wn(t,a))return s}}function E(t,e,n,a,u,c){if(t!==e){r(e.elm)&&r(a)&&(e=a[u]=mt(e));var d=e.elm=t.elm;if(s(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?x(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(t,e);var g=t.children,v=e.children;if(r(p)&&m(e)){for(f=0;f<o.update.length;++f)o.update[f](t,e);r(f=p.hook)&&r(f=f.update)&&f(t,e)}i(e.text)?r(g)&&r(v)?g!==v&&function(t,e,n,s,a){for(var o,u,c,d=0,f=0,p=e.length-1,g=e[0],m=e[p],v=n.length-1,y=n[0],_=n[v],S=!a;d<=p&&f<=v;)i(g)?g=e[++d]:i(m)?m=e[--p]:Wn(g,y)?(E(g,y,s,n,f),g=e[++d],y=n[++f]):Wn(m,_)?(E(m,_,s,n,v),m=e[--p],_=n[--v]):Wn(g,_)?(E(g,_,s,n,v),S&&l.insertBefore(t,g.elm,l.nextSibling(m.elm)),g=e[++d],_=n[--v]):Wn(m,y)?(E(m,y,s,n,f),S&&l.insertBefore(t,m.elm,g.elm),m=e[--p],y=n[++f]):(i(o)&&(o=$n(e,d,p)),i(u=r(y.key)?o[y.key]:w(y,e,d,p))?h(y,s,t,g.elm,!1,n,f):Wn(c=e[u],y)?(E(c,y,s,n,f),e[u]=void 0,S&&l.insertBefore(t,c.elm,g.elm)):h(y,s,t,g.elm,!1,n,f),y=n[++f]);d>p?b(t,i(n[v+1])?null:n[v+1].elm,n,f,v,s):f>v&&T(0,e,d,p)}(d,g,v,n,c):r(v)?(r(t.text)&&l.setTextContent(d,""),b(d,null,v,0,v.length-1,n)):r(g)?T(0,g,0,g.length-1):r(t.text)&&l.setTextContent(d,""):t.text!==e.text&&l.setTextContent(d,e.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(t,e)}}}function C(t,e,n){if(s(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var k=p("attrs,class,staticClass,staticStyle,key");function x(t,e,n,i){var a,o=e.tag,u=e.data,l=e.children;if(i=i||u&&u.pre,e.elm=t,s(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(a=u.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return d(e,n),!0;if(r(o)){if(r(l))if(t.hasChildNodes())if(r(a=u)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,f=0;f<l.length;f++){if(!h||!x(h,l[f],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else g(e,l,n);if(r(u)){var p=!1;for(var m in u)if(!k(m)){p=!0,v(e,n);break}!p&&u.class&&Qt(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!i(e)){var u,c=!1,d=[];if(i(t))c=!0,h(e,d);else{var f=r(t.nodeType);if(!f&&Wn(t,e))E(t,e,d,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),s(n)&&x(t,e,d))return C(e,d,!0),t;u=t,t=new dt(l.tagName(u).toLowerCase(),{},[],void 0,u)}var p=t.elm,g=l.parentNode(p);if(h(e,d,p._leaveCb?null:g,l.nextSibling(p)),r(e.parent))for(var v=e.parent,y=m(e);v;){for(var b=0;b<o.destroy.length;++b)o.destroy[b](v);if(v.elm=e.elm,y){for(var S=0;S<o.create.length;++S)o.create[S](Vn,v);var w=v.data.hook.insert;if(w.merged)for(var k=1;k<w.fns.length;k++)w.fns[k]()}else Hn(v);v=v.parent}r(g)?T(0,[t],0,0):r(t.tag)&&_(t)}}return C(e,d,c),e.elm}r(t)&&_(t)}}({nodeOps:jn,modules:[ii,ai,fi,mi,xi,z?{create:Qi,activate:Qi,remove:function(t,e){!0!==t.data.show?Xi(t,e):e()}}:{}].concat(Qn)});Y&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&ur(t,"input")});var er={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?re(n,"postpatch",function(){er.componentUpdated(t,e,n)}):nr(t,e,n.context),t._vOptions=[].map.call(t.options,sr)):("textarea"===n.tag||Nn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ar),t.addEventListener("compositionend",or),t.addEventListener("change",or),Y&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){nr(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,sr);if(r.some(function(t,e){return!I(t,i[e])}))(t.multiple?e.value.some(function(t){return rr(t,r)}):e.value!==e.oldValue&&rr(e.value,r))&&ur(t,"change")}}};function nr(t,e,n){ir(t,e,n),(G||X)&&setTimeout(function(){ir(t,e,n)},0)}function ir(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var s,a,o=0,u=t.options.length;o<u;o++)if(a=t.options[o],r)s=R(i,sr(a))>-1,a.selected!==s&&(a.selected=s);else if(I(sr(a),i))return void(t.selectedIndex!==o&&(t.selectedIndex=o));r||(t.selectedIndex=-1)}}function rr(t,e){return e.every(function(e){return!I(e,t)})}function sr(t){return"_value"in t?t._value:t.value}function ar(t){t.target.composing=!0}function or(t){t.target.composing&&(t.target.composing=!1,ur(t.target,"input"))}function ur(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function lr(t){return!t.componentInstance||t.data&&t.data.transition?t:lr(t.componentInstance._vnode)}var cr={model:er,show:{bind:function(t,e,n){var i=e.value,r=(n=lr(n)).data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Yi(n,function(){t.style.display=s})):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=lr(n)).data&&n.data.transition?(n.data.show=!0,i?Yi(n,function(){t.style.display=t.__vOriginalDisplay}):Xi(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},hr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function dr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?dr(ce(e.children)):t}function fr(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var s in r)e[T(s)]=r[s];return e}function pr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var gr=function(t){return t.tag||le(t)},mr=function(t){return"show"===t.name},vr={name:"transition",props:hr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(gr)).length){0;var i=this.mode;0;var r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var s=dr(r);if(!s)return r;if(this._leaving)return pr(t,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var u=(s.data||(s.data={})).transition=fr(this),l=this._vnode,c=dr(l);if(s.data.directives&&s.data.directives.some(mr)&&(s.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(s,c)&&!le(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=x({},u);if("out-in"===i)return this._leaving=!0,re(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),pr(t,r);if("in-out"===i){if(le(s))return l;var d,f=function(){d()};re(u,"afterEnter",f),re(u,"enterCancelled",f),re(h,"delayLeave",function(t){d=t})}}return r}}},yr=x({tag:String,moveClass:String},hr);function br(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function _r(t){t.data.newPos=t.elm.getBoundingClientRect()}function Tr(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+i+"px,"+r+"px)",s.transitionDuration="0s"}}delete yr.mode;var Sr={Transition:vr,TransitionGroup:{props:yr,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=be(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],a=fr(this),o=0;o<r.length;o++){var u=r[o];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))s.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(i){for(var l=[],c=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?l.push(d):c.push(d)}this.kept=t(e,null,l),this.removed=c}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(br),t.forEach(_r),t.forEach(Tr),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Vi(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Mi,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Mi,t),n._moveCb=null,qi(n,e))})}}))},methods:{hasMove:function(t,e){if(!Ri)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Pi(n,t)}),Oi(n,e),n.style.display="none",this.$el.appendChild(n);var i=$i(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};fn.config.mustUseProp=function(t,e,n){return"value"===n&&Sn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},fn.config.isReservedTag=Bn,fn.config.isReservedAttr=Tn,fn.config.getTagNamespace=function(t){return Fn(t)?"svg":"math"===t?"math":void 0},fn.config.isUnknownElement=function(t){if(!z)return!0;if(Bn(t))return!1;if(t=t.toLowerCase(),null!=Mn[t])return Mn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Mn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Mn[t]=/HTMLUnknownElement/.test(e.toString())},x(fn.options.directives,cr),x(fn.options.components,Sr),fn.prototype.__patch__=z?tr:O,fn.prototype.$mount=function(t,e){return function(t,e,n){return t.$el=e,t.$options.render||(t.$options.render=pt),Se(t,"beforeMount"),new De(t,function(){t._update(t._render(),n)},O,{before:function(){t._isMounted&&Se(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Se(t,"mounted")),t}(this,t=t&&z?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},z&&setTimeout(function(){N.devtools&&nt&&nt.emit("init",fn)},0),e.default=fn}.call(e,n("9AUj"))},V0EG:function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var t=o(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},V9hu:function(t,e,n){"use strict";var i=String.prototype.replace,r=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},VBq3:function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n("9AUj"))},VDit:function(t,e,n){var i=n("HH4H").navigator;t.exports=i&&i.userAgent||""},VE3R:function(t,e){},VKnT:function(t,e,n){var i=n("6Bon"),r=n("z3QQ"),s=n("NpOx"),a=Object.defineProperty;e.f=n("5D1g")?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},ViT8:function(t,e){var n,i,r,s,a,o;n=function(t){return 9e4*t},i=function(t,e){return t*e},r=function(t){return t/9e4},s=function(t,e){return t/e},a=function(t,e){return n(s(t,e))},o=function(t,e){return i(r(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o}},VmKo:function(t,e,n){"use strict";var i,r=n("cuTx");(i=function(){var t=new Uint8Array,e=0;i.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(n){var i,r,s,a,o=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((o=this.parseAdtsSize(t,u))>t.length)break;s={type:"audio",data:t.subarray(u,u+o),pts:e,dts:e},this.trigger("data",s),u+=o}else u++;else{if(t.length-u<10)break;if((o=this.parseId3TagSize(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+o)},this.trigger("data",r),u+=o}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}}).prototype=new r,t.exports=i},W2zq:function(t,e,n){"use strict";var i,r,s,a,o,u,l,c=n("uUG0"),h=n("HzLs"),d=n("XcKL"),f=n("T+qX"),p=n("4/oY"),g=n("jBBu"),m=n("MJPF").H264Stream,v=n("R7A6"),y=n("YMfp"),b=n("ViT8"),_=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],T=["width","height","profileIdc","levelIdc","profileCompatibility"];o=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},u=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},l=function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n},(r=function(t,e){var n=[],i=0,s=0,a=0,o=1/0;e=e||{},r.prototype.init.call(this),this.push=function(e){f.collectDtsInfo(t,e),t&&_.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){s=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var r,s,a,o;0!==n.length?(r=this.trimAdtsFramesByEarliestDts_(n),t.baseMediaDecodeTime=f.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.prefixWithSilence_(t,r),t.samples=this.generateSampleTable_(r),a=h.mdat(this.concatenateFrameData_(r)),n=[],s=h.moof(i,[t]),o=new Uint8Array(s.byteLength+a.byteLength),i++,o.set(s),o.set(a,s.byteLength),f.clearDtsInfo(t),this.trigger("data",{track:t,boxes:o}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,s,u=0,l=0,c=0;if(e.length&&(n=b.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),i=Math.ceil(9e4/(t.samplerate/1024)),a&&o&&(u=n-Math.max(a,o),c=(l=Math.floor(u/i))*i),!(l<1||c>45e3))){for((r=y[t.samplerate])||(r=e[0].data),s=0;s<l;s++)e.splice(s,0,{data:r});t.baseMediaDecodeTime-=Math.floor(b.videoTsToAudioTs(c,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=s?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=s&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(l(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new c,(i=function(t,e){var n,r,s=0,a=[],o=[];e=e||{},i.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){f.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],T.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){for(var n,i,r,u,l,c;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=d.groupNalsIntoFrames(a),(r=d.groupFramesIntoGops(n))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],t))?(r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=d.extendFirstKeyFrame(r)),o.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");f.clearDtsInfo(t),r=p}f.collectDtsInfo(t,r),t.samples=d.generateSampleTable(r),l=h.mdat(d.concatenateNalData(r)),t.baseMediaDecodeTime=f.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=h.moof(s,[t]),c=new Uint8Array(u.byteLength+l.byteLength),s++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){f.clearDtsInfo(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,i,r,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)r=(s=this.gopCache_[a]).gop,t.pps&&u(t.pps[0],s.pps[0])&&t.sps&&u(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||o>n)&&(i=s,o=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,s,a,u,l;for(s=t.byteLength,a=t.nalCount,u=t.duration,e=n=0;e<o.length&&n<t.length&&(i=o[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,s-=r.byteLength,a-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=s,l.duration=u,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,s,a,u;for(e=o.length-1,n=t.length-1,s=null,a=!1;e>=0&&n>=0;){if(i=o[e],r=t[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?e--:(e===o.length-1&&(s=n),n--)}if(!a&&null===s)return null;if(0===(u=a?n:s))return t;var l=t.slice(u),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){o=t}}).prototype=new c,(a=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new c,a.prototype.flush=function(t){var e,n,i,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,T.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,_.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=h.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(s=function(t){var e,n,u=this,l=!0;s.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new p.MetadataStream,e.aacStream=new v,e.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),e.adtsStream=new g,e.coalesceStream=new a(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(i){"timed-metadata"!==i.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new p.MetadataStream,s.packetStream=new p.TransportPacketStream,s.parseStream=new p.TransportParseStream,s.elementaryStream=new p.ElementaryStream,s.videoTimestampRolloverStream=new p.TimestampRolloverStream("video"),s.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),s.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),s.adtsStream=new g,s.h264Stream=new m,s.captionStream=new p.CaptionStream,s.coalesceStream=new a(t,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream),s.elementaryStream.pipe(s.videoTimestampRolloverStream).pipe(s.h264Stream),s.elementaryStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),s.elementaryStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)e||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||((n=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(e=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime;e&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new i(e,t),s.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,s.audioSegmentStream.setEarliestDts(t.dts))}),s.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),n&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new r(n,t),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream))}}),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var i=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,f.clearDtsInfo(n),n.timelineStartInfo.baseMediaDecodeTime=t,i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,f.clearDtsInfo(e),i.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(l){var e=o(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new c,t.exports={Transmuxer:s,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:_,VIDEO_PROPERTIES:T}},W3uh:function(t,e){var n=1e3,i=60*n,r=60*i,s=24*r,a=365.25*s;function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,l=typeof t;if("string"===l&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var o=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*a;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(t);if("number"===l&&!1===isNaN(t))return e.long?o(u=t,s,"day")||o(u,r,"hour")||o(u,i,"minute")||o(u,n,"second")||u+" ms":function(t){if(t>=s)return Math.round(t/s)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},WA9S:function(t,e,n){var i=n("FOxZ"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},WgWa:function(t,e,n){n("v/d8"),t.exports=n("UB+n").Object.assign},Wn42:function(t,e,n){"use strict";var i=n("S/QA"),r=n("Y0hB"),s=n("V9hu");t.exports={formats:s,parse:r,stringify:i}},Wo2q:function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},X7Pd:function(t,e,n){n("VE3R"),n("zRHv"),n("xsjh"),n("/FkY"),n("JEr5"),n("loTH"),t.exports=n("UB+n").Promise},"XFX/":function(t,e,n){var i=n("qGv7"),r=n("djx3").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},XLru:function(t,e,n){"use strict";var i=n("MqD1"),r=n("kxdO"),s=n("SoGw"),a=n("Cwod"),o=n("UKZZ"),u=Object.prototype.toString,l=0,c=-1,h=0,d=8;function f(t){if(!(this instanceof f))return new f(t);this.options=r.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,p))!==l)throw new Error(a[n]);this._dict_set=!0}}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(t,e){var n,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===u.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new r.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=i.deflate(o,a))&&n!==l)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(o.output,o.next_out))):this.onData(r.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),o.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=p,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},XRq0:function(t,e){t.exports={}},XcKL:function(t,e){var n=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};t.exports={groupNalsIntoFrames:function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},groupFramesIntoGops:function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},generateSampleTable:function(t,e){var i,r,s,a,o,u=e||0,l=[];for(i=0;i<t.length;i++)for(a=t[i],r=0;r<a.length;r++)o=a[r],u+=(s=n(o,u)).size,l.push(s);return l},concatenateNalData:function(t){var e,n,i,r,s,a,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(s=r[n],i=0;i<s.length;i++)a=s[i],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c}}},Xdcu:function(t,e,n){"use strict";e.pad=n("P4iZ"),e.unpad=n("OqsU")},XqSp:function(t,e,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,s=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n("k9rz"),r)i.regeneratorRuntime=s;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},XsrG:function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,i,r,s=String.fromCharCode;function a(t){for(var e,n,i=[],r=0,s=t.length;r<s;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<s?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function o(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return s(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return s(t);var n="";return 0==(4294965248&t)?n=s(t>>6&31|192):0==(4294901760&t)?(o(t,e)||(t=65533),n=s(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=s(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=s(63&t|128)}function c(){if(r>=i)throw Error("Invalid byte index");var t=255&n[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,s;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(e=255&n[r],r++,0==(128&e))return e;if(192==(224&e)){if((s=(31&e)<<6|c())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if((s=(15&e)<<12|c()<<6|c())>=2048)return o(s,t)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(s=(7&e)<<18|c()<<12|c()<<6|c())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=a(t),r=i.length,s=-1,o="";++s<r;)o+=l(i[s],n);return o},decode:function(t,e){var o=!1!==(e=e||{}).strict;n=a(t),i=n.length,r=0;for(var u,l=[];!1!==(u=h(o));)l.push(u);return function(t){for(var e,n=t.length,i=-1,r="";++i<n;)(e=t[i])>65535&&(r+=s((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=s(e);return r}(l)}}},Y0hB:function(t,e,n){"use strict";var i=n("uALp"),r=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},o=function(t,e,n){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(i),o=a?i.slice(0,a.index):i,u=[];if(o){if(!n.plainObjects&&r.call(Object.prototype,o)&&!n.allowPrototypes)return;u.push(o)}for(var l=0;null!==(a=s.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+i.slice(a.index)+"]"),function(t,e,n){for(var i=e,r=t.length-1;r>=0;--r){var s,a=t[r];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(o,10);n.parseArrays||""!==o?!isNaN(u)&&a!==o&&String(u)===o&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:s[o]=i:s={0:i}}i=s}return i}(u,e,n)}};t.exports=function(t,e){var n=e?i.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:s.delimiter,n.depth="number"==typeof n.depth?n.depth:s.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:s.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:s.decoder,n.allowDots=void 0===n.allowDots?s.allowDots:!!n.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:s.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:s.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:s.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:s.strictNullHandling,void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===n.charset&&(n.charset=s.charset),""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var n,o={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,c=u.split(e.delimiter,l),h=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<c.length;++n)0===c[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[n]?d="utf-8":"utf8=%26%2310003%3B"===c[n]&&(d="iso-8859-1"),h=n,n=c.length);for(n=0;n<c.length;++n)if(n!==h){var f,p,g=c[n],m=g.indexOf("]="),v=-1===m?g.indexOf("="):m+1;-1===v?(f=e.decoder(g,s.decoder,d),p=e.strictNullHandling?null:""):(f=e.decoder(g.slice(0,v),s.decoder,d),p=e.decoder(g.slice(v+1),s.decoder,d)),p&&e.interpretNumericEntities&&"iso-8859-1"===d&&(p=a(p)),r.call(o,f)?o[f]=i.combine(o[f],p):o[f]=p}return o}(t,n):t,l=n.plainObjects?Object.create(null):{},c=Object.keys(u),h=0;h<c.length;++h){var d=c[h],f=o(d,u[d],n);l=i.merge(l,f,n)}return i.compact(l)}},YBXF:function(t,e,n){"use strict";var i=n("AelL"),r=n("UFff"),s=n("XRq0"),a=n("kZKs");t.exports=n("sswn")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},YDtG:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},YMfp:function(t,e){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],s=function(t){for(var e=[];t--;)e.push(0);return e},a={96000:[i,[227,64],s(154),[56]],88200:[i,[231],s(170),[56]],64000:[i,[248,192],s(240),[56]],48000:[i,[255,192],s(268),[55,148,128],s(54),[112]],44100:[i,[255,192],s(268),[55,163,128],s(84),[112]],32000:[i,[255,192],s(268),[55,234],s(226),[112]],24000:[i,[255,192],s(268),[55,255,128],s(268),[111,112],s(126),[224]],16000:[i,[255,192],s(268),[55,255,128],s(268),[111,255],s(269),[223,108],s(195),[1,192]],12000:[r,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,253,128],s(259),[56]],11025:[r,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,255,192],s(268),[55,175,128],s(108),[112]],8000:[r,s(268),[3,121,16],s(47),[7]]};t.exports=(n=a,Object.keys(n).reduce(function(t,e){return t[e]=new Uint8Array(n[e].reduce(function(t,e){return t.concat(e)},[])),t},{}))},Ycmu:function(t,e){(function(e){t.exports=e}).call(e,{})},Yyxk:function(t,e,n){t.exports={default:n("GYwi"),__esModule:!0}},ZtEf:function(t,e,n){var i=n("ih9o"),r=n("HH4H").document,s=i(r)&&i(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},a3Yh:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("liLe"),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,s.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},a5gc:function(t,e){t.exports=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n}},a7o1:function(t,e,n){var i=n("DxdJ"),r=n("ykTf"),s=n("Dam6"),a=n("zxol")("socket.io-client");t.exports=e=u;var o=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),u=r.source,l=r.id,c=r.path,h=o[l]&&c in o[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(a("ignoring socket cache for %s",u),n=s(u,e)):(o[l]||(a("new io instance for %s",u),o[l]=s(u,e)),n=o[l]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}e.protocol=r.protocol,e.connect=u,e.Manager=n("Dam6"),e.Socket=n("ms8w")},aA9S:function(t,e,n){t.exports={default:n("WgWa"),__esModule:!0}},aDJY:function(t,e,n){var i=n("mhb3")("iterator"),r=!1;try{var s=[7][i]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var s=[7],a=s[i]();a.next=function(){return{done:n=!0}},s[i]=function(){return a},t(s)}catch(t){}return n}},aM71:function(t,e,n){var i=n("kZKs"),r=n("WA9S"),s=n("16Nt");t.exports=function(t){return function(e,n,a){var o,u=i(e),l=r(u.length),c=s(a,l);if(t&&n!=n){for(;l>c;)if((o=u[c++])!=o)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},aPx6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=e.default},aShn:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},ad6m:function(t,e,n){"use strict";var i={};(0,n("kxdO").assign)(i,n("XLru"),n("zrcv"),n("K16g")),t.exports=i},aozt:function(t,e,n){t.exports=n("z1hY")},arl9:function(t,e,n){var i=n("qGv7"),r=n("djx3");t.exports=Object.keys||function(t){return i(t,r)}},atTG:function(t,e,n){var i=n("6Bon"),r=n("ih9o"),s=n("i3RO");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=s.f(t);return(0,n.resolve)(e),n.promise}},"b/oE":function(t,e,n){"use strict";var i,r,s,a=n("cuTx"),o=n("nWE+"),u=n("KcYj"),l=n("3faG").TimestampRolloverStream,c=n("KcYj");(i=function(){var t=new Uint8Array(188),e=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,s=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;s<i.byteLength;)71!==i[r]||71!==i[s]?(r++,s++):(this.trigger("data",i.subarray(r,s)),r+=188,s+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new a,(r=function(){var t,e,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var s=t[r],a=(31&t[r+1])<<8|t[r+2];s===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:s===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:s===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=s),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new a,r.STREAM_TYPES={h264:27,adts:15},(s=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,n,i){var r,s,a=new Uint8Array(e.size),o={type:n},u=0,l=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,u=0;u<e.data.length;u++)s=e.data[u],a.set(s.data,l),l+=s.data.byteLength;var c,h,d;c=a,(h=o).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),r="video"===n||o.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};s.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,a;switch(s.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:t=e,a="video";break;case u.ADTS_STREAM_TYPE:t=n,a="audio";break;case u.METADATA_STREAM_TYPE:t=i,a="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&r(t,a,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=s.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[s.type]()},this.flush=function(){r(e,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new a;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:s,TimestampRolloverStream:l,CaptionStream:o.CaptionStream,Cea608Stream:o.Cea608Stream,MetadataStream:n("fOcd")};for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d]);t.exports=h},b4Ps:function(t,e,n){(function(t){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyz";function n(t){return e.charAt(t)}function i(t,e){return t&e}function r(t,e){return t|e}function s(t,e){return t^e}function a(t,e){return t&~e}function o(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function u(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="=";function h(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=l.charAt(n>>6)+l.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=l.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=l.charAt(n>>2)+l.charAt((3&n)<<4));(3&i.length)>0;)i+=c;return i}function d(t){var e,i="",r=0,s=0;for(e=0;e<t.length&&t.charAt(e)!=c;++e){var a=l.indexOf(t.charAt(e));a<0||(0==r?(i+=n(a>>2),s=3&a,r=1):1==r?(i+=n(s<<2|a>>4),s=15&a,r=2):2==r?(i+=n(s),i+=n(a>>2),s=3&a,r=3):(i+=n(s<<2|a>>4),i+=n(15&a),r=0))}return 1==r&&(i+=n(s<<2)),i}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var f,p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var g,m=function(t){var e;if(void 0===f){var n="0123456789ABCDEF",i=" \f\n\r\t \u2028\u2029";for(f={},e=0;e<16;++e)f[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)f[n.charAt(e)]=e;for(e=0;e<i.length;++e)f[i.charAt(e)]=-1}var r=[],s=0,a=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(-1!=(o=f[o])){if(void 0===o)throw new Error("Illegal character at offset "+e);s|=o,++a>=2?(r[r.length]=s,s=0,a=0):s<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return r},v={decode:function(t){var e;if(void 0===g){var n="= \f\n\r\t \u2028\u2029";for(g=Object.create(null),e=0;e<64;++e)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(e=0;e<n.length;++e)g[n.charAt(e)]=-1}var i=[],r=0,s=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=g[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);r|=a,++s>=4?(i[i.length]=r>>16,i[i.length]=r>>8&255,i[i.length]=255&r,r=0,s=0):r<<=6}}switch(s){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=r>>10;break;case 3:i[i.length]=r>>16,i[i.length]=r>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=v.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return v.decode(t)}},y=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,i,r=this.buf,s=r.length;for(n=0;n<s;++n)(i=r[n]*t+e)<1e13?e=0:i-=1e13*(e=0|i/1e13),r[n]=i;e>0&&(r[n]=e)},t.prototype.sub=function(t){var e,n,i=this.buf,r=i.length;for(e=0;e<r;++e)(n=i[e]-t)<0?(n+=1e13,t=1):t=0,i[e]=n;for(;0===i[i.length-1];)i.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),i=e.length-2;i>=0;--i)n+=(1e13+e[i]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=1e13*e+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),b="…",_=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,T=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function S(t,e){return t.length>e&&(t=t.substring(0,e)+b),t}var w,E=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var i="",r=t;r<e;++r)if(i+=this.hexByte(this.get(r)),!0!==n)switch(15&r){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var i=this.get(n);if(i<32||i>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",i=t;i<e;++i)n+=String.fromCharCode(this.get(i));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",i=t;i<e;){var r=this.get(i++);n+=r<128?String.fromCharCode(r):r>191&&r<224?String.fromCharCode((31&r)<<6|63&this.get(i++)):String.fromCharCode((15&r)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,i,r="",s=t;s<e;)n=this.get(s++),i=this.get(s++),r+=String.fromCharCode(n<<8|i);return r},t.prototype.parseTime=function(t,e,n){var i=this.parseStringISO(t,e),r=(n?_:T).exec(i);return r?(n&&(r[1]=+r[1],r[1]+=+r[1]<70?2e3:1900),i=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(i+=":"+r[5],r[6]&&(i+=":"+r[6],r[7]&&(i+="."+r[7]))),r[8]&&(i+=" UTC","Z"!=r[8]&&(i+=r[8],r[9]&&(i+=":"+r[9]))),i):"Unrecognized time: "+i},t.prototype.parseInteger=function(t,e){for(var n,i=this.get(t),r=i>127,s=r?255:0,a="";i==s&&++t<e;)i=this.get(t);if(0===(n=e-t))return r?-1:0;if(n>4){for(a=i,n<<=3;0==(128&(+a^s));)a=+a<<1,--n;a="("+n+" bit)\n"}r&&(i-=256);for(var o=new y(i),u=t+1;u<e;++u)o.mulAdd(256,this.get(u));return a+o.toString()},t.prototype.parseBitString=function(t,e,n){for(var i=this.get(t),r="("+((e-t-1<<3)-i)+" bit)\n",s="",a=t+1;a<e;++a){for(var o=this.get(a),u=a==e-1?i:0,l=7;l>=u;--l)s+=o>>l&1?"1":"0";if(s.length>n)return r+S(s,n)}return r+s},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return S(this.parseStringISO(t,e),n);var i=e-t,r="("+i+" byte)\n";i>(n/=2)&&(e=t+n);for(var s=t;s<e;++s)r+=this.hexByte(this.get(s));return i>n&&(r+=b),r},t.prototype.parseOID=function(t,e,n){for(var i="",r=new y,s=0,a=t;a<e;++a){var o=this.get(a);if(r.mulAdd(128,127&o),s+=7,!(128&o)){if(""===i)if((r=r.simplify())instanceof y)r.sub(80),i="2."+r.toString();else{var u=r<80?r<40?0:1:2;i=u+"."+(r-40*u)}else i+="."+r.toString();if(i.length>n)return S(i,n);r=new y,s=0}}return s>0&&(i+=".incomplete"),i},t}(),C=function(){function t(t,e,n,i,r){if(!(i instanceof k))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=r}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return S(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return S(this.stream.parseStringISO(e,e+n),t);case 30:return S(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,i=this.sub.length;n<i;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var i=0;i<n;++i)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof E?e:new E(e,0);var i=new E(n),r=new k(n),s=t.decodeLength(n),a=n.pos,o=a-i.pos,u=null,l=function(){var e=[];if(null!==s){for(var i=a+s;n.pos<i;)e[e.length]=t.decode(n);if(n.pos!=i)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var r=t.decode(n);if(r.tag.isEOC())break;e[e.length]=r}s=a-n.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(r.tagConstructed)u=l();else if(r.isUniversal()&&(3==r.tagNumber||4==r.tagNumber))try{if(3==r.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");u=l();for(var c=0;c<u.length;++c)if(u[c].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){u=null}if(null===u){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(s)}return new t(i,o,s,r,u)},t}(),k=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new y;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],A=(1<<26)/x[x.length-1],O=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,s=!1,a="",o=this.t,u=this.DB-o*this.DB%e;if(o-- >0)for(u<this.DB&&(i=this[o]>>u)>0&&(s=!0,a=n(i));o>=0;)u<e?(i=(this[o]&(1<<u)-1)<<e-u,i|=this[--o]>>(u+=this.DB-e)):(i=this[o]>>(u-=e)&r,u<=0&&(u+=this.DB,--o)),i>0&&(s=!0),s&&(a+=n(i));return s?a:"0"},t.prototype.negate=function(){var e=L();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+H(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=L();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new D(e):new I(e),this.exp(t,n)},t.prototype.clone=function(){var t=L();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=L();return this.bitwiseTo(t,i,e),e},t.prototype.or=function(t){var e=L();return this.bitwiseTo(t,r,e),e},t.prototype.xor=function(t){var e=L();return this.bitwiseTo(t,s,e),e},t.prototype.andNot=function(t){var e=L();return this.bitwiseTo(t,a,e),e},t.prototype.not=function(){for(var t=L(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=L();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=L();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+o(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=u(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,r)},t.prototype.clearBit=function(t){return this.changeBit(t,a)},t.prototype.flipBit=function(t){return this.changeBit(t,s)},t.prototype.add=function(t){var e=L();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=L();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=L();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=L();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=L();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=L(),n=L();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,i,r=t.bitLength(),s=U(1);if(r<=0)return s;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new D(e):e.isEven()?new R(e):new I(e);var a=[],o=3,u=n-1,l=(1<<n)-1;if(a[1]=i.convert(this),n>1){var c=L();for(i.sqrTo(a[1],c);o<=l;)a[o]=L(),i.mulTo(c,a[o-2],a[o]),o+=2}var h,d,f=t.t-1,p=!0,g=L();for(r=H(t[f])-1;f>=0;){for(r>=u?h=t[f]>>r-u&l:(h=(t[f]&(1<<r+1)-1)<<u-r,f>0&&(h|=t[f-1]>>this.DB+r-u)),o=n;0==(1&h);)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--f),p)a[h].copyTo(s),p=!1;else{for(;o>1;)i.sqrTo(s,g),i.sqrTo(g,s),o-=2;o>0?i.sqrTo(s,g):(d=s,s=g,g=d),i.mulTo(g,a[h],s)}for(;f>=0&&0==(t[f]&1<<r);)i.sqrTo(s,g),d=s,s=g,g=d,--r<0&&(r=this.DB-1,--f)}return i.revert(s)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var i=e.clone(),r=this.clone(),s=U(1),a=U(0),o=U(0),u=U(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&u.isEven()||(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);i.compareTo(r)>=0?(i.subTo(r,i),n&&s.subTo(o,s),a.subTo(u,a)):(r.subTo(i,r),n&&o.subTo(s,o),u.subTo(a,u))}return 0!=r.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(t){return this.exp(t,new P)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var r=e.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return e;for(r<s&&(s=r),s>0&&(e.rShiftTo(s,e),n.rShiftTo(s,n));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=x[x.length-1]){for(e=0;e<x.length;++e)if(n[0]==x[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<x.length;){for(var i=x[e],r=e+1;r<x.length&&i<A;)i*=x[r++];for(i=n.modInt(i);e<r;)if(i%x[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(e,n);i=2}this.t=0,this.s=0;for(var r=e.length,s=!1,a=0;--r>=0;){var o=8==i?255&+e[r]:j(e,r);o<0?"-"==e.charAt(r)&&(s=!0):(s=!1,0==a?this[this.t++]=o:a+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,i=this.DB-n,r=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM,o=this.t-1;o>=0;--o)e[o+s+1]=this[o]>>i|a,a=(this[o]&r)<<n;for(o=s-1;o>=0;--o)e[o]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var i=t%this.DB,r=this.DB-i,s=(1<<i)-1;e[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&s)<<r,e[a-n]=this[a]>>i;i>0&&(e[this.t-n-1]|=(this.s&s)<<r),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var i=this.abs(),r=e.abs(),s=i.t;for(n.t=s+r.t;--s>=0;)n[s]=0;for(s=0;s<r.t;++s)n[s+i.t]=i.am(0,r[s],n,s,0,i.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,i){var r=e.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=L());var a=L(),o=this.s,u=e.s,l=this.DB-H(r[r.t-1]);l>0?(r.lShiftTo(l,a),s.lShiftTo(l,i)):(r.copyTo(a),s.copyTo(i));var c=a.t,h=a[c-1];if(0!=h){var d=h*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),f=this.FV/d,p=(1<<this.F1)/d,g=1<<this.F2,m=i.t,v=m-c,y=null==n?L():n;for(a.dlShiftTo(v,y),i.compareTo(y)>=0&&(i[i.t++]=1,i.subTo(y,i)),t.ONE.dlShiftTo(c,y),y.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--v>=0;){var b=i[--m]==h?this.DM:Math.floor(i[m]*f+(i[m-1]+g)*p);if((i[m]+=a.am(0,b,i,v,0,c))<b)for(a.dlShiftTo(v,y),i.subTo(y,i);i[m]<--b;)i.subTo(y,i)}null!=n&&(i.drShiftTo(c,n),o!=u&&t.ZERO.subTo(n,n)),i.t=c,i.clamp(),l>0&&i.rShiftTo(l,i),o<0&&t.ZERO.subTo(i,i)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var i=L(),r=L(),s=n.convert(this),a=H(e)-1;for(s.copyTo(i);--a>=0;)if(n.sqrTo(i,r),(e&1<<a)>0)n.mulTo(r,s,i);else{var o=i;i=r,r=o}return n.revert(i)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=U(n),r=L(),s=L(),a="";for(this.divRemTo(i,r,s);r.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,r.divRemTo(i,r,s);return s.intValue().toString(t)+a},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),s=!1,a=0,o=0,u=0;u<e.length;++u){var l=j(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(s=!0):(o=n*o+l,++a>=i&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(o,0)),s&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,i){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var s=[],a=7&e;s.length=1+(e>>3),n.nextBytes(s),a>0?s[0]&=(1<<a)-1:s[0]=0,this.fromString(s,256)}},t.prototype.bitwiseTo=function(t,e,n){var i,r,s=Math.min(t.t,this.t);for(i=0;i<s;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=s;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=s;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var i=t.ONE.shiftLeft(e);return this.bitwiseTo(i,n,i),i},t.prototype.addTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=this.DV+i),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(var r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var r=n.shiftRight(i);(e=e+1>>1)>x.length&&(e=x.length);for(var s=L(),a=0;a<e;++a){s.fromInt(x[Math.floor(Math.random()*x.length)]);var o=s.modPow(r,this);if(0!=o.compareTo(t.ONE)&&0!=o.compareTo(n)){for(var u=1;u++<i&&0!=o.compareTo(n);)if(0==(o=o.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=o.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=L();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var r=n;n=i,i=r}var s=n.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)e(n);else{s<a&&(a=s),a>0&&(n.rShiftTo(a,n),i.rShiftTo(a,i));var o=function(){(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(o,0):(a>0&&i.lShiftTo(a,i),setTimeout(function(){e(i)},0))};setTimeout(o,10)}},t.prototype.fromNumberAsync=function(e,n,i,s){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);var a=this,o=function(){a.dAddOffset(2,0),a.bitLength()>e&&a.subTo(t.ONE.shiftLeft(e-1),a),a.isProbablePrime(n)?setTimeout(function(){s()},0):setTimeout(o,0)};setTimeout(o,0)}else{var u=[],l=7&e;u.length=1+(e>>3),n.nextBytes(u),l>0?u[0]&=(1<<l)-1:u[0]=0,this.fromString(u,256)}},t}(),P=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),D=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),I=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=L();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(O.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=L();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),R=function(){function t(t){this.m=t,this.r2=L(),this.q3=L(),O.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=L();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function L(){return new O(null)}function F(t,e){return new O(t,e)}"Microsoft Internet Explorer"==navigator.appName?(O.prototype.am=function(t,e,n,i,r,s){for(var a=32767&e,o=e>>15;--s>=0;){var u=32767&this[t],l=this[t++]>>15,c=o*u+l*a;r=((u=a*u+((32767&c)<<15)+n[i]+(1073741823&r))>>>30)+(c>>>15)+o*l+(r>>>30),n[i++]=1073741823&u}return r},w=30):"Netscape"!=navigator.appName?(O.prototype.am=function(t,e,n,i,r,s){for(;--s>=0;){var a=e*this[t++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},w=26):(O.prototype.am=function(t,e,n,i,r,s){for(var a=16383&e,o=e>>14;--s>=0;){var u=16383&this[t],l=this[t++]>>14,c=o*u+l*a;r=((u=a*u+((16383&c)<<14)+n[i]+r)>>28)+(c>>14)+o*l,n[i++]=268435455&u}return r},w=28),O.prototype.DB=w,O.prototype.DM=(1<<w)-1,O.prototype.DV=1<<w;O.prototype.FV=Math.pow(2,52),O.prototype.F1=52-w,O.prototype.F2=2*w-52;var B,M,N=[];for(B="0".charCodeAt(0),M=0;M<=9;++M)N[B++]=M;for(B="a".charCodeAt(0),M=10;M<36;++M)N[B++]=M;for(B="A".charCodeAt(0),M=10;M<36;++M)N[B++]=M;function j(t,e){var n=N[t.charCodeAt(e)];return null==n?-1:n}function U(t){var e=L();return e.fromInt(t),e}function H(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}O.ZERO=U(0),O.ONE=U(1);var V=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,i;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var q,z,W=256,$=null;if(null==$){$=[],z=0;var K=void 0;if(window.crypto&&window.crypto.getRandomValues){var G=new Uint32Array(256);for(window.crypto.getRandomValues(G),K=0;K<G.length;++K)$[z++]=255&G[K]}var Y=function(t){if(this.count=this.count||0,this.count>=256||z>=W)window.removeEventListener?window.removeEventListener("mousemove",Y,!1):window.detachEvent&&window.detachEvent("onmousemove",Y);else try{var e=t.x+t.y;$[z++]=255&e,this.count+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",Y,!1):window.attachEvent&&window.attachEvent("onmousemove",Y)}function X(){if(null==q){for(q=new V;z<W;){var t=Math.floor(65536*Math.random());$[z++]=255&t}for(q.init($),z=0;z<$.length;++z)$[z]=0;z=0}return q.next()}var J=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=X()},t}();var Z=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=F(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);r<128?n[--e]=r:r>127&&r<2048?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var s=new J,a=[];e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new O(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=F(t,16),this.e=parseInt(e,16),this.d=F(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,i,r,s,a,o){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=F(t,16),this.e=parseInt(e,16),this.d=F(n,16),this.p=F(i,16),this.q=F(r,16),this.dmp1=F(s,16),this.dmq1=F(a,16),this.coeff=F(o,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new J,i=t>>1;this.e=parseInt(e,16);for(var r=new O(e,16);;){for(;this.p=new O(t-i,1,n),0!=this.p.subtract(O.ONE).gcd(r).compareTo(O.ONE)||!this.p.isProbablePrime(10););for(;this.q=new O(i,1,n),0!=this.q.subtract(O.ONE).gcd(r).compareTo(O.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(O.ONE),o=this.q.subtract(O.ONE),u=a.multiply(o);if(0==u.gcd(r).compareTo(O.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(o),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=F(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){var n=t.toByteArray(),i=0;for(;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;++i;for(;0!=n[i];)if(++i>=n.length)return null;var r="";for(;++i<n.length;){var s=255&n[i];s<128?r+=String.fromCharCode(s):s>191&&s<224?(r+=String.fromCharCode((31&s)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&s)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var i=new J,r=t>>1;this.e=parseInt(e,16);var s=new O(e,16),a=this,o=function(){var e=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var e=a.p.subtract(O.ONE),i=a.q.subtract(O.ONE),r=e.multiply(i);0==r.gcd(s).compareTo(O.ONE)?(a.n=a.p.multiply(a.q),a.d=s.modInverse(r),a.dmp1=a.d.mod(e),a.dmq1=a.d.mod(i),a.coeff=a.q.modInverse(a.p),setTimeout(function(){n()},0)):setTimeout(o,0)},u=function(){a.q=L(),a.q.fromNumberAsync(r,1,i,function(){a.q.subtract(O.ONE).gcda(s,function(t){0==t.compareTo(O.ONE)&&a.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(u,0)})})},l=function(){a.p=L(),a.p.fromNumberAsync(t-r,1,i,function(){a.p.subtract(O.ONE).gcda(s,function(t){0==t.compareTo(O.ONE)&&a.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(l,0)})})};setTimeout(l,0)};setTimeout(o,0)},t.prototype.sign=function(t,e,n){var i=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,i="",r=0;r<n;r+=2)i+="ff";return F("0001"+i+"00"+t,16)}((Q[n]||"")+e(t).toString(),this.n.bitLength()/4);if(null==i)return null;var r=this.doPrivate(i);if(null==r)return null;var s=r.toString(16);return 0==(1&s.length)?s:"0"+s},t.prototype.verify=function(t,e,n){var i=F(e,16),r=this.doPublic(i);return null==r?null:function(t){for(var e in Q)if(Q.hasOwnProperty(e)){var n=Q[e],i=n.length;if(t.substr(0,i)==n)return t.substr(i)}return t}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/(r.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}();var Q={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var tt={};tt.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var r;for(r in n)t.prototype[r]=n[r];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(t,e){for(r=0;r<a.length;r+=1){var n=a[r],i=e[n];"function"==typeof i&&i!=Object.prototype[n]&&(t[n]=i)}})}catch(t){}s(t.prototype,n)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var et={};void 0!==et.asn1&&et.asn1||(et.asn1={}),et.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var i="",r=0;r<n;r++)i+="f";e=new O(i,16).xor(t).add(O.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=et.asn1,n=e.DERBoolean,i=e.DERInteger,r=e.DERBitString,s=e.DEROctetString,a=e.DERNull,o=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,c=e.DERNumericString,h=e.DERPrintableString,d=e.DERTeletexString,f=e.DERIA5String,p=e.DERUTCTime,g=e.DERGeneralizedTime,m=e.DERSequence,v=e.DERSet,y=e.DERTaggedObject,b=e.ASN1Util.newObject,_=Object.keys(t);if(1!=_.length)throw"key of param shall be only one.";var T=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":"))throw"undefined key: "+T;if("bool"==T)return new n(t[T]);if("int"==T)return new i(t[T]);if("bitstr"==T)return new r(t[T]);if("octstr"==T)return new s(t[T]);if("null"==T)return new a(t[T]);if("oid"==T)return new o(t[T]);if("enum"==T)return new u(t[T]);if("utf8str"==T)return new l(t[T]);if("numstr"==T)return new c(t[T]);if("prnstr"==T)return new h(t[T]);if("telstr"==T)return new d(t[T]);if("ia5str"==T)return new f(t[T]);if("utctime"==T)return new p(t[T]);if("gentime"==T)return new g(t[T]);if("seq"==T){for(var S=t[T],w=[],E=0;E<S.length;E++){var C=b(S[E]);w.push(C)}return new m({array:w})}if("set"==T){for(S=t[T],w=[],E=0;E<S.length;E++){C=b(S[E]);w.push(C)}return new v({array:w})}if("tag"==T){var k=t[T];if("[object Array]"===Object.prototype.toString.call(k)&&3==k.length){var x=b(k[2]);return new y({tag:k[0],explicit:k[1],obj:x})}var A={};if(void 0!==k.explicit&&(A.explicit=k.explicit),void 0!==k.tag&&(A.tag=k.tag),void 0===k.obj)throw"obj shall be specified for 'tag'.";return A.obj=b(k.obj),new y(A)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},et.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),i=(e=Math.floor(n/40)+"."+n%40,""),r=2;r<t.length;r+=2){var s=("00000000"+parseInt(t.substr(r,2),16).toString(2)).slice(-8);if(i+=s.substr(1,7),"0"==s.substr(0,1))e=e+"."+new O(i,2).toString(10),i=""}return e},et.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new O(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=e(parseInt(o,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=e(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);return i},et.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},et.asn1.DERAbstractString=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},tt.lang.extend(et.asn1.DERAbstractString,et.asn1.ASN1Object),et.asn1.DERAbstractTime=function(t){et.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var i=this.zeroPadding,r=this.localDateToUTC(t),s=String(r.getFullYear());"utc"==e&&(s=s.substr(2,2));var a=s+i(String(r.getMonth()+1),2)+i(String(r.getDate()),2)+i(String(r.getHours()),2)+i(String(r.getMinutes()),2)+i(String(r.getSeconds()),2);if(!0===n){var o=r.getMilliseconds();if(0!=o){var u=i(String(o),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,i,r,s){var a=new Date(Date.UTC(t,e-1,n,i,r,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},tt.lang.extend(et.asn1.DERAbstractTime,et.asn1.ASN1Object),et.asn1.DERAbstractStructured=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},tt.lang.extend(et.asn1.DERAbstractStructured,et.asn1.ASN1Object),et.asn1.DERBoolean=function(){et.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},tt.lang.extend(et.asn1.DERBoolean,et.asn1.ASN1Object),et.asn1.DERInteger=function(t){et.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new O(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DERInteger,et.asn1.ASN1Object),et.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}et.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var i="";for(n=0;n<t.length-1;n+=8){var r=t.substr(n,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},tt.lang.extend(et.asn1.DERBitString,et.asn1.ASN1Object),et.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}et.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},tt.lang.extend(et.asn1.DEROctetString,et.asn1.DERAbstractString),et.asn1.DERNull=function(){et.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},tt.lang.extend(et.asn1.DERNull,et.asn1.ASN1Object),et.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new O(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=e(parseInt(o,2))}return n};et.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=e(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(t){var e=et.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},tt.lang.extend(et.asn1.DERObjectIdentifier,et.asn1.ASN1Object),et.asn1.DEREnumerated=function(t){et.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new O(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DEREnumerated,et.asn1.ASN1Object),et.asn1.DERUTF8String=function(t){et.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},tt.lang.extend(et.asn1.DERUTF8String,et.asn1.DERAbstractString),et.asn1.DERNumericString=function(t){et.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},tt.lang.extend(et.asn1.DERNumericString,et.asn1.DERAbstractString),et.asn1.DERPrintableString=function(t){et.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},tt.lang.extend(et.asn1.DERPrintableString,et.asn1.DERAbstractString),et.asn1.DERTeletexString=function(t){et.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},tt.lang.extend(et.asn1.DERTeletexString,et.asn1.DERAbstractString),et.asn1.DERIA5String=function(t){et.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},tt.lang.extend(et.asn1.DERIA5String,et.asn1.DERAbstractString),et.asn1.DERUTCTime=function(t){et.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},tt.lang.extend(et.asn1.DERUTCTime,et.asn1.DERAbstractTime),et.asn1.DERGeneralizedTime=function(t){et.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},tt.lang.extend(et.asn1.DERGeneralizedTime,et.asn1.DERAbstractTime),et.asn1.DERSequence=function(t){et.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},tt.lang.extend(et.asn1.DERSequence,et.asn1.DERAbstractStructured),et.asn1.DERSet=function(t){et.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},tt.lang.extend(et.asn1.DERSet,et.asn1.DERAbstractStructured),et.asn1.DERTaggedObject=function(t){et.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},tt.lang.extend(et.asn1.DERTaggedObject,et.asn1.ASN1Object);var nt=function(t){function e(n){var i=t.call(this)||this;return n&&("string"==typeof n?i.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&i.parsePropertiesFrom(n)),i}return function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,i=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?m(t):v.unarmor(t),r=C.decode(i);if(3===r.sub.length&&(r=r.sub[2].sub[0]),9===r.sub.length){e=r.sub[1].getHexStringValue(),this.n=F(e,16),n=r.sub[2].getHexStringValue(),this.e=parseInt(n,16);var s=r.sub[3].getHexStringValue();this.d=F(s,16);var a=r.sub[4].getHexStringValue();this.p=F(a,16);var o=r.sub[5].getHexStringValue();this.q=F(o,16);var u=r.sub[6].getHexStringValue();this.dmp1=F(u,16);var l=r.sub[7].getHexStringValue();this.dmq1=F(l,16);var c=r.sub[8].getHexStringValue();this.coeff=F(c,16)}else{if(2!==r.sub.length)return!1;var h=r.sub[1].sub[0];e=h.sub[0].getHexStringValue(),this.n=F(e,16),n=h.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new et.asn1.DERInteger({int:0}),new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e}),new et.asn1.DERInteger({bigint:this.d}),new et.asn1.DERInteger({bigint:this.p}),new et.asn1.DERInteger({bigint:this.q}),new et.asn1.DERInteger({bigint:this.dmp1}),new et.asn1.DERInteger({bigint:this.dmq1}),new et.asn1.DERInteger({bigint:this.coeff})]};return new et.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return h(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new et.asn1.DERSequence({array:[new et.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new et.asn1.DERNull]}),e=new et.asn1.DERSequence({array:[new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e})]}),n=new et.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new et.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return h(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(Z),it=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new nt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(d(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return h(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,n){try{return h(this.getKey().sign(t,e,n))}catch(t){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,d(e),n)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new nt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=it,t.JSEncrypt=it,t.default=it,Object.defineProperty(t,"__esModule",{value:!0})})(e)},bI8e:function(t,e,n){"use strict";var i,r=n("cuTx"),s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(i=function(){var t;i.prototype.init.call(this),this.push=function(e){var n,i,r,a,o,u,l=0,c=0;if("audio"===e.type)for(t?(a=t,(t=new Uint8Array(a.byteLength+e.data.byteLength)).set(a),t.set(e.data,a.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240==(246&t[l+1])){if(i=2*(1&~t[l+1]),n=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,u=9e4*(o=1024*(1+(3&t[l+6])))/s[(60&t[l+2])>>>2],r=l+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+c*u,dts:e.dts+c*u,sampleCount:o,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:s[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+i,r)}),t.byteLength===r)return void(t=void 0);c++,t=t.subarray(r)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new r,t.exports=i},bNZV:function(t,e,n){var i=n("VKnT").f,r=n("qozV"),s=n("mhb3")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},bPMW:function(t,e,n){var i=n("NzvA");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},bwJK:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},cCQC:function(t,e,n){"use strict";t.exports={parseSei:function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n},parseUserData:function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var n,i,r,s,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)s={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a},discardEmulationPreventionBytes:function(t){for(var e,n,i=t.byteLength,r=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),n[s]=t[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},cWHN:function(t,e,n){(function(t){var n={userAgent:!1},i={};
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
if(void 0===r)var r={};r.lang={extend:function(t,e,i){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),i){var s;for(s in i)t.prototype[s]=i[s];var a=function(){},o=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(a=function(t,e){for(s=0;s<o.length;s+=1){var n=o[s],i=e[n];"function"==typeof i&&i!=Object.prototype[n]&&(t[n]=i)}})}catch(t){}a(t.prototype,i)}}};
/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var s,a,o,u,l,c,h,d,f,p,g,m=m||(s=Math,o=(a={}).lib={},u=o.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=o.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var s=0;s<r;s++){var a=n[s>>>2]>>>24-s%4*8&255;e[i+s>>>2]|=a<<24-(i+s)%4*8}else for(s=0;s<r;s+=4)e[i+s>>>2]=n[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*s.random()|0);return new l.init(e,t)}}),c=a.enc={},h=c.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var s=e[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new l.init(n,e/2)}},d=c.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var s=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new l.init(n,e)}},f=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},p=o.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,i=e.sigBytes,r=this.blockSize,a=i/(4*r),o=(a=t?s.ceil(a):s.max((0|a)-this._minBufferSize,0))*r,u=s.min(4*o,i);if(o){for(var c=0;c<o;c+=r)this._doProcessBlock(n,c);var h=n.splice(0,o);e.sigBytes-=u}return new l.init(h,u)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),o.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),g=a.algo={},a);!function(t){var e,n=(e=m).lib,i=n.Base,r=n.WordArray;(e=e.x64={}).Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],i=0;i<e;i++){var s=t[i];n.push(s.high),n.push(s.low)}return r.create(n,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}})}(),m.lib.Cipher||function(t){var e=(f=m).lib,n=e.Base,i=e.WordArray,r=e.BufferedBlockAlgorithm,s=f.enc.Base64,a=f.algo.EvpKDF,o=e.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?p:d).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?p:d).decrypt(t,e,n,i)}}}});e.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=f.mode={},l=function(t,e,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)t[e+r]^=i[r]},c=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();c.Encryptor=c.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;l.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),c.Decryptor=c.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=t.slice(e,e+i);n.decryptBlock(t,e),l.call(this,t,e,i),this._prevBlock=r}}),u=u.CBC=c,c=(f.pad={}).Pkcs7={pad:function(t,e){for(var n,r=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(r);n=i.create(s,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=o.extend({cfg:o.cfg.extend({mode:u,padding:c}),reset:function(){o.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var h=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),d=(u=(f.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?i.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){var e=(t=s.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=i.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:n})}},e.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i);return e=r.finalize(e),r=r.cfg,h.create({ciphertext:e,key:n,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),f=(f.kdf={}).OpenSSL={execute:function(t,e,n,r){return r||(r=i.random(8)),t=a.create({keySize:e+n}).compute(t,r),n=i.create(t.words.slice(e),4*n),t.sigBytes=4*e,h.create({key:t,iv:n,salt:r})}},p=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:f}),encrypt:function(t,e,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,(t=d.encrypt.call(this,t,e,n.key,i)).mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,d.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var t=m,e=t.lib.BlockCipher,n=t.algo,i=[],r=[],s=[],a=[],o=[],u=[],l=[],c=[],h=[],d=[],f=[],p=0;256>p;p++)f[p]=128>p?p<<1:p<<1^283;var g=0,v=0;for(p=0;256>p;p++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;i[g]=y,r[y]=g;var b=f[g],_=f[b],T=f[_],S=257*f[y]^16843008*y;s[g]=S<<24|S>>>8,a[g]=S<<16|S>>>16,o[g]=S<<8|S>>>24,u[g]=S,S=16843009*T^65537*_^257*b^16843008*g,l[y]=S<<24|S>>>8,c[y]=S<<16|S>>>16,h[y]=S<<8|S>>>24,d[y]=S,g?(g=b^f[f[f[T^b]]],v^=f[f[v]]):g=v=1}var w=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),r=this._keySchedule=[],s=0;s<n;s++)if(s<e)r[s]=t[s];else{var a=r[s-1];s%e?6<e&&4==s%e&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=w[s/e|0]<<24),r[s]=r[s-e]^a}for(t=this._invKeySchedule=[],e=0;e<n;e++)s=n-e,a=e%4?r[s]:r[s-4],t[e]=4>e||4>=s?a:l[i[a>>>24]]^c[i[a>>>16&255]]^h[i[a>>>8&255]]^d[i[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,o,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,c,h,d,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,s,a,o){for(var u=this._nRounds,l=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],f=4,p=1;p<u;p++){var g=i[l>>>24]^r[c>>>16&255]^s[h>>>8&255]^a[255&d]^n[f++],m=i[c>>>24]^r[h>>>16&255]^s[d>>>8&255]^a[255&l]^n[f++],v=i[h>>>24]^r[d>>>16&255]^s[l>>>8&255]^a[255&c]^n[f++];d=i[d>>>24]^r[l>>>16&255]^s[c>>>8&255]^a[255&h]^n[f++],l=g,c=m,h=v}g=(o[l>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[f++],m=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&l])^n[f++],v=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[l>>>8&255]<<8|o[255&c])^n[f++],d=(o[d>>>24]<<24|o[l>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[f++],t[e]=g,t[e+1]=m,t[e+2]=v,t[e+3]=d},keySize:8});t.AES=e._createHelper(n)}(),function(){function t(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function e(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var n=m,i=(r=n.lib).WordArray,r=r.BlockCipher,s=n.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=r.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;56>n;n++){var i=a[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(t=this._subKeys=[],i=0;16>i;i++){var r=t[i]=[],s=u[i];for(n=0;24>n;n++)r[n/6|0]|=e[(o[n]-1+s)%28]<<31-n%6,r[4+(n/6|0)]|=e[28+(o[n+24]-1+s)%28]<<31-n%6;for(r[0]=r[0]<<1|r[0]>>>31,n=1;7>n;n++)r[n]>>>=4*(n-1)+3;r[7]=r[7]<<5|r[7]>>>27}for(e=this._invSubKeys=[],n=0;16>n;n++)e[n]=t[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(n,i,r){this._lBlock=n[i],this._rBlock=n[i+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var s=0;16>s;s++){for(var a=r[s],o=this._lBlock,u=this._rBlock,h=0,d=0;8>d;d++)h|=l[d][((u^a[d])&c[d])>>>0];this._lBlock=u,this._rBlock=o^h}r=this._lBlock,this._lBlock=this._rBlock,this._rBlock=r,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),n[i]=this._lBlock,n[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=r._createHelper(h),s=s.TripleDES=r.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(i.create(t.slice(0,2))),this._des2=h.createEncryptor(i.create(t.slice(2,4))),this._des3=h.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=r._createHelper(s)}(),function(){var t=m,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var r=0;r<n;r+=3)for(var s=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;4>a&&r+.75*a<n;a++)t.push(i.charAt(s>>>6*(3-a)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,i=this._map;(r=i.charAt(64))&&(-1!=(r=t.indexOf(r))&&(n=r));for(var r=[],s=0,a=0;a<n;a++)if(a%4){var o=i.indexOf(t.charAt(a-1))<<a%4*2,u=i.indexOf(t.charAt(a))>>>6-a%4*2;r[s>>>2]|=(o|u)<<24-s%4*8,s++}return e.create(r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,i,r,s,a){return((t=t+(e&n|~e&i)+r+a)<<s|t>>>32-s)+e}function n(t,e,n,i,r,s,a){return((t=t+(e&i|n&~i)+r+a)<<s|t>>>32-s)+e}function i(t,e,n,i,r,s,a){return((t=t+(e^n^i)+r+a)<<s|t>>>32-s)+e}function r(t,e,n,i,r,s,a){return((t=t+(n^(e|~i))+r+a)<<s|t>>>32-s)+e}for(var s=m,a=(u=s.lib).WordArray,o=u.Hasher,u=s.algo,l=[],c=0;64>c;c++)l[c]=4294967296*t.abs(t.sin(c+1))|0;u=u.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var a=0;16>a;a++){var o=t[h=s+a];t[h]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}a=this._hash.words;var u,c,h=t[s+0],d=(o=t[s+1],t[s+2]),f=t[s+3],p=t[s+4],g=t[s+5],m=t[s+6],v=t[s+7],y=t[s+8],b=t[s+9],_=t[s+10],T=t[s+11],S=t[s+12],w=t[s+13],E=t[s+14],C=t[s+15],k=a[0],x=r(x=r(x=r(x=r(x=i(x=i(x=i(x=i(x=n(x=n(x=n(x=n(x=e(x=e(x=e(x=e(x=a[1],c=e(c=a[2],u=e(u=a[3],k=e(k,x,c,u,h,7,l[0]),x,c,o,12,l[1]),k,x,d,17,l[2]),u,k,f,22,l[3]),c=e(c,u=e(u,k=e(k,x,c,u,p,7,l[4]),x,c,g,12,l[5]),k,x,m,17,l[6]),u,k,v,22,l[7]),c=e(c,u=e(u,k=e(k,x,c,u,y,7,l[8]),x,c,b,12,l[9]),k,x,_,17,l[10]),u,k,T,22,l[11]),c=e(c,u=e(u,k=e(k,x,c,u,S,7,l[12]),x,c,w,12,l[13]),k,x,E,17,l[14]),u,k,C,22,l[15]),c=n(c,u=n(u,k=n(k,x,c,u,o,5,l[16]),x,c,m,9,l[17]),k,x,T,14,l[18]),u,k,h,20,l[19]),c=n(c,u=n(u,k=n(k,x,c,u,g,5,l[20]),x,c,_,9,l[21]),k,x,C,14,l[22]),u,k,p,20,l[23]),c=n(c,u=n(u,k=n(k,x,c,u,b,5,l[24]),x,c,E,9,l[25]),k,x,f,14,l[26]),u,k,y,20,l[27]),c=n(c,u=n(u,k=n(k,x,c,u,w,5,l[28]),x,c,d,9,l[29]),k,x,v,14,l[30]),u,k,S,20,l[31]),c=i(c,u=i(u,k=i(k,x,c,u,g,4,l[32]),x,c,y,11,l[33]),k,x,T,16,l[34]),u,k,E,23,l[35]),c=i(c,u=i(u,k=i(k,x,c,u,o,4,l[36]),x,c,p,11,l[37]),k,x,v,16,l[38]),u,k,_,23,l[39]),c=i(c,u=i(u,k=i(k,x,c,u,w,4,l[40]),x,c,h,11,l[41]),k,x,f,16,l[42]),u,k,m,23,l[43]),c=i(c,u=i(u,k=i(k,x,c,u,b,4,l[44]),x,c,S,11,l[45]),k,x,C,16,l[46]),u,k,d,23,l[47]),c=r(c,u=r(u,k=r(k,x,c,u,h,6,l[48]),x,c,v,10,l[49]),k,x,E,15,l[50]),u,k,g,21,l[51]),c=r(c,u=r(u,k=r(k,x,c,u,S,6,l[52]),x,c,f,10,l[53]),k,x,_,15,l[54]),u,k,o,21,l[55]),c=r(c,u=r(u,k=r(k,x,c,u,y,6,l[56]),x,c,C,10,l[57]),k,x,m,15,l[58]),u,k,w,21,l[59]),c=r(c,u=r(u,k=r(k,x,c,u,p,6,l[60]),x,c,T,10,l[61]),k,x,d,15,l[62]),u,k,b,21,l[63]);a[0]=a[0]+k|0,a[1]=a[1]+x|0,a[2]=a[2]+c|0,a[3]=a[3]+u|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var s=t.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=o._createHelper(u),s.HmacMD5=o._createHmacHelper(u)}(Math),function(){var t=m,e=(r=t.lib).WordArray,n=r.Hasher,i=[],r=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],s=n[1],a=n[2],o=n[3],u=n[4],l=0;80>l;l++){if(16>l)i[l]=0|t[e+l];else{var c=i[l-3]^i[l-8]^i[l-14]^i[l-16];i[l]=c<<1|c>>>31}c=(r<<5|r>>>27)+u+i[l],c=20>l?c+(1518500249+(s&a|~s&o)):40>l?c+(1859775393+(s^a^o)):60>l?c+((s&a|s&o|a&o)-1894007588):c+((s^a^o)-899497514),u=o,o=a,a=s<<30|s>>>2,s=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(r),t.HmacSHA1=n._createHmacHelper(r)}(),function(t){for(var e=m,n=(r=e.lib).WordArray,i=r.Hasher,r=e.algo,s=[],a=[],o=function(t){return 4294967296*(t-(0|t))|0},u=2,l=0;64>l;){var c;t:{c=u;for(var h=t.sqrt(c),d=2;d<=h;d++)if(!(c%d)){c=!1;break t}c=!0}c&&(8>l&&(s[l]=o(t.pow(u,.5))),a[l]=o(t.pow(u,1/3)),l++),u++}var f=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],o=n[3],u=n[4],l=n[5],c=n[6],h=n[7],d=0;64>d;d++){if(16>d)f[d]=0|t[e+d];else{var p=f[d-15],g=f[d-2];f[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+f[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+f[d-16]}p=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+a[d]+f[d],g=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&s^r&s),h=c,c=l,l=u,u=o+p|0,o=s,s=r,r=i,i=p+g|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(r),e.HmacSHA256=i._createHmacHelper(r)}(Math),function(){var t=m,e=t.lib.WordArray,n=(i=t.algo).SHA256,i=i.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(i),t.HmacSHA224=n._createHmacHelper(i)}(),function(){function t(){return i.create.apply(i,arguments)}for(var e=m,n=e.lib.Hasher,i=(s=e.x64).Word,r=s.WordArray,s=e.algo,a=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],o=[],u=0;80>u;u++)o[u]=t();s=s.SHA512=n.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=(h=this._hash.words)[0],i=h[1],r=h[2],s=h[3],u=h[4],l=h[5],c=h[6],h=h[7],d=n.high,f=n.low,p=i.high,g=i.low,m=r.high,v=r.low,y=s.high,b=s.low,_=u.high,T=u.low,S=l.high,w=l.low,E=c.high,C=c.low,k=h.high,x=h.low,A=d,O=f,P=p,D=g,I=m,R=v,L=y,F=b,B=_,M=T,N=S,j=w,U=E,H=C,V=k,q=x,z=0;80>z;z++){var W=o[z];if(16>z)var $=W.high=0|t[e+2*z],K=W.low=0|t[e+2*z+1];else{$=((K=($=o[z-15]).high)>>>1|(G=$.low)<<31)^(K>>>8|G<<24)^K>>>7;var G=(G>>>1|K<<31)^(G>>>8|K<<24)^(G>>>7|K<<25),Y=((K=(Y=o[z-2]).high)>>>19|(X=Y.low)<<13)^(K<<3|X>>>29)^K>>>6,X=(X>>>19|K<<13)^(X<<3|K>>>29)^(X>>>6|K<<26),J=(K=o[z-7]).high,Z=(Q=o[z-16]).high,Q=Q.low;$=($=($=$+J+((K=G+K.low)>>>0<G>>>0?1:0))+Y+((K=K+X)>>>0<X>>>0?1:0))+Z+((K=K+Q)>>>0<Q>>>0?1:0);W.high=$,W.low=K}J=B&N^~B&U,Q=M&j^~M&H,W=A&P^A&I^P&I;var tt=O&D^O&R^D&R,et=(G=(A>>>28|O<<4)^(A<<30|O>>>2)^(A<<25|O>>>7),Y=(O>>>28|A<<4)^(O<<30|A>>>2)^(O<<25|A>>>7),(X=a[z]).high),nt=X.low;Z=(Z=(Z=(Z=V+((B>>>14|M<<18)^(B>>>18|M<<14)^(B<<23|M>>>9))+((X=q+((M>>>14|B<<18)^(M>>>18|B<<14)^(M<<23|B>>>9)))>>>0<q>>>0?1:0))+J+((X=X+Q)>>>0<Q>>>0?1:0))+et+((X=X+nt)>>>0<nt>>>0?1:0))+$+((X=X+K)>>>0<K>>>0?1:0),W=G+W+((K=Y+tt)>>>0<Y>>>0?1:0),V=U,q=H,U=N,H=j,N=B,j=M,B=L+Z+((M=F+X|0)>>>0<F>>>0?1:0)|0,L=I,F=R,I=P,R=D,P=A,D=O,A=Z+W+((O=X+K|0)>>>0<X>>>0?1:0)|0}f=n.low=f+O,n.high=d+A+(f>>>0<O>>>0?1:0),g=i.low=g+D,i.high=p+P+(g>>>0<D>>>0?1:0),v=r.low=v+R,r.high=m+I+(v>>>0<R>>>0?1:0),b=s.low=b+F,s.high=y+L+(b>>>0<F>>>0?1:0),T=u.low=T+M,u.high=_+B+(T>>>0<M>>>0?1:0),w=l.low=w+j,l.high=S+N+(w>>>0<j>>>0?1:0),C=c.low=C+H,c.high=E+U+(C>>>0<H>>>0?1:0),x=h.low=x+q,h.high=k+V+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(i+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=n._createHelper(s),e.HmacSHA512=n._createHmacHelper(s)}(),function(){var t=m,e=(r=t.x64).Word,n=r.WordArray,i=(r=t.algo).SHA512,r=r.SHA384=i.extend({_doReset:function(){this._hash=new n.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=i._createHelper(r),t.HmacSHA384=i._createHmacHelper(r)}(),function(){var t=m,e=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,r=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=e.create([0,1518500249,1859775393,2400959708,2840853838]),l=e.create([1352829926,1548603684,1836072691,2053994217,0]);i=i.RIPEMD160=n.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;16>n;n++){var i=t[_=e+n];t[_]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var c,h,d,f,p,g,m,v,y,b,_=this._hash.words,T=(i=u.words,l.words),S=r.words,w=s.words,E=a.words,C=o.words;g=c=_[0],m=h=_[1],v=d=_[2],y=f=_[3],b=p=_[4];var k;for(n=0;80>n;n+=1)k=c+t[e+S[n]]|0,k=16>n?k+((h^d^f)+i[0]):32>n?k+((h&d|~h&f)+i[1]):48>n?k+(((h|~d)^f)+i[2]):64>n?k+((h&f|d&~f)+i[3]):k+((h^(d|~f))+i[4]),k=(k=(k|=0)<<E[n]|k>>>32-E[n])+p|0,c=p,p=f,f=d<<10|d>>>22,d=h,h=k,k=g+t[e+w[n]]|0,k=16>n?k+((m^(v|~y))+T[0]):32>n?k+((m&y|v&~y)+T[1]):48>n?k+(((m|~v)^y)+T[2]):64>n?k+((m&v|~m&y)+T[3]):k+((m^v^y)+T[4]),k=(k=(k|=0)<<C[n]|k>>>32-C[n])+b|0,g=b,b=y,y=v<<10|v>>>22,v=m,m=k;k=_[1]+d+y|0,_[1]=_[2]+f+b|0,_[2]=_[3]+p+g|0,_[3]=_[4]+c+m|0,_[4]=_[0]+h+v|0,_[0]=k},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;for(e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,n=0;5>n;n++)i=e[n],e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.RIPEMD160=n._createHelper(i),t.HmacRIPEMD160=n._createHmacHelper(i)}(Math),function(){var t=m,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var i=t.blockSize,r=4*i;n.sigBytes>r&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),a=this._iKey=n.clone(),o=s.words,u=a.words,l=0;l<i;l++)o[l]^=1549556828,u[l]^=909522486;s.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,e=m,n=(t=e.lib).Base,i=t.WordArray,r=(t=e.algo).HMAC,s=t.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var n=this.cfg,s=r.create(n.hasher,t),a=i.create(),o=i.create([1]),u=a.words,l=o.words,c=n.keySize;for(n=n.iterations;u.length<c;){var h=s.update(e).finalize(o);s.reset();for(var d=h.words,f=d.length,p=h,g=1;g<n;g++){p=s.finalize(p),s.reset();for(var m=p.words,v=0;v<f;v++)d[v]^=m[v]}a.concat(h),l[0]++}return a.sigBytes=4*c,a}});e.PBKDF2=function(t,e,n){return s.create(n).compute(t,e)}}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="=";function _(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=y.charAt(n>>6)+y.charAt(63&n);if(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=y.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=y.charAt(n>>2)+y.charAt((3&n)<<4)),b)for(;(3&i.length)>0;)i+=b;return i}function T(t){var e,n,i,r="",s=0;for(e=0;e<t.length&&t.charAt(e)!=b;++e)(i=y.indexOf(t.charAt(e)))<0||(0==s?(r+=O(i>>2),n=3&i,s=1):1==s?(r+=O(n<<2|i>>4),n=15&i,s=2):2==s?(r+=O(n),r+=O(i>>2),n=3&i,s=3):(r+=O(n<<2|i>>4),r+=O(15&i),s=0));return 1==s&&(r+=O(n<<2)),r}function S(t){var e,n=T(t),i=new Array;for(e=0;2*e<n.length;++e)i[e]=parseInt(n.substring(2*e,2*e+2),16);return i}function w(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function E(){return new w(null)}"Microsoft Internet Explorer"==n.appName?(w.prototype.am=function(t,e,n,i,r,s){for(var a=32767&e,o=e>>15;--s>=0;){var u=32767&this[t],l=this[t++]>>15,c=o*u+l*a;r=((u=a*u+((32767&c)<<15)+n[i]+(1073741823&r))>>>30)+(c>>>15)+o*l+(r>>>30),n[i++]=1073741823&u}return r},v=30):"Netscape"!=n.appName?(w.prototype.am=function(t,e,n,i,r,s){for(;--s>=0;){var a=e*this[t++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},v=26):(w.prototype.am=function(t,e,n,i,r,s){for(var a=16383&e,o=e>>14;--s>=0;){var u=16383&this[t],l=this[t++]>>14,c=o*u+l*a;r=((u=a*u+((16383&c)<<14)+n[i]+r)>>28)+(c>>14)+o*l,n[i++]=268435455&u}return r},v=28),w.prototype.DB=v,w.prototype.DM=(1<<v)-1,w.prototype.DV=1<<v;w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-v,w.prototype.F2=2*v-52;var C,k,x="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array;for(C="0".charCodeAt(0),k=0;k<=9;++k)A[C++]=k;for(C="a".charCodeAt(0),k=10;k<36;++k)A[C++]=k;for(C="A".charCodeAt(0),k=10;k<36;++k)A[C++]=k;function O(t){return x.charAt(t)}function P(t,e){var n=A[t.charCodeAt(e)];return null==n?-1:n}function D(t){var e=E();return e.fromInt(t),e}function I(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function R(t){this.m=t}function L(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function F(t,e){return t&e}function B(t,e){return t|e}function M(t,e){return t^e}function N(t,e){return t&~e}function j(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function U(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function H(){}function V(t){return t}function q(t){this.r2=E(),this.q3=E(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}R.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},R.prototype.revert=function(t){return t},R.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},R.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},R.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},L.prototype.convert=function(t){var e=E();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(w.ZERO)>0&&this.m.subTo(e,e),e},L.prototype.revert=function(t){var e=E();return t.copyTo(e),this.reduce(e),e},L.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},L.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},L.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},w.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},w.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},w.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,s=0;--i>=0;){var a=8==n?255&t[i]:P(t,i);a<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},w.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},w.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},w.prototype.lShiftTo=function(t,e){var n,i=t%this.DB,r=this.DB-i,s=(1<<r)-1,a=Math.floor(t/this.DB),o=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>r|o,o=(this[n]&s)<<i;for(n=a-1;n>=0;--n)e[n]=0;e[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()},w.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var i=t%this.DB,r=this.DB-i,s=(1<<i)-1;e[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&s)<<r,e[a-n]=this[a]>>i;i>0&&(e[this.t-n-1]|=(this.s&s)<<r),e.t=this.t-n,e.clamp()}},w.prototype.subTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()},w.prototype.multiplyTo=function(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&w.ZERO.subTo(e,e)},w.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},w.prototype.divRemTo=function(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=E());var s=E(),a=this.s,o=t.s,u=this.DB-I(i[i.t-1]);u>0?(i.lShiftTo(u,s),r.lShiftTo(u,n)):(i.copyTo(s),r.copyTo(n));var l=s.t,c=s[l-1];if(0!=c){var h=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/h,f=(1<<this.F1)/h,p=1<<this.F2,g=n.t,m=g-l,v=null==e?E():e;for(s.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),w.ONE.dlShiftTo(l,v),v.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--m>=0;){var y=n[--g]==c?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*f);if((n[g]+=s.am(0,y,n,m,0,l))<y)for(s.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=e&&(n.drShiftTo(l,e),a!=o&&w.ZERO.subTo(e,e)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(t,e){if(t>4294967295||t<1)return w.ONE;var n=E(),i=E(),r=e.convert(this),s=I(t)-1;for(r.copyTo(n);--s>=0;)if(e.sqrTo(n,i),(t&1<<s)>0)e.mulTo(i,r,n);else{var a=n;n=i,i=a}return e.revert(n)},w.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0)for(o<this.DB&&(n=this[a]>>o)>0&&(r=!0,s=O(n));a>=0;)o<e?(n=(this[a]&(1<<o)-1)<<e-o,n|=this[--a]>>(o+=this.DB-e)):(n=this[a]>>(o-=e)&i,o<=0&&(o+=this.DB,--a)),n>0&&(r=!0),r&&(s+=O(n));return r?s:"0"},w.prototype.negate=function(){var t=E();return w.ZERO.subTo(this,t),t},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+I(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(t){var e=E();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(w.ZERO)>0&&t.subTo(e,e),e},w.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new R(e):new L(e),this.exp(t,n)},w.ZERO=D(0),w.ONE=D(1),H.prototype.convert=V,H.prototype.revert=V,H.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},H.prototype.sqrTo=function(t,e){t.squareTo(e)},q.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=E();return t.copyTo(e),this.reduce(e),e},q.prototype.revert=function(t){return t},q.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},q.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},q.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/z[z.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function $(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},w.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=D(n),r=E(),s=E(),a="";for(this.divRemTo(i,r,s);r.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,r.divRemTo(i,r,s);return s.intValue().toString(t)+a},w.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),r=!1,s=0,a=0,o=0;o<t.length;++o){var u=P(t,o);u<0?"-"==t.charAt(o)&&0==this.signum()&&(r=!0):(a=e*a+u,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),r&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),B,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(w.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=1+(t>>3),e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}},w.prototype.bitwiseTo=function(t,e,n){var i,r,s=Math.min(t.t,this.t);for(i=0;i<s;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=s;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=s;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},w.prototype.changeBit=function(t,e){var n=w.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},w.prototype.addTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=this.DV+i),e.t=n,e.clamp()},w.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},w.prototype.multiplyLowerTo=function(t,e,n){var i,r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},w.prototype.multiplyUpperTo=function(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n},w.prototype.millerRabin=function(t){var e=this.subtract(w.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var i=e.shiftRight(n);(t=t+1>>1)>z.length&&(t=z.length);for(var r=E(),s=0;s<t;++s){r.fromInt(z[Math.floor(Math.random()*z.length)]);var a=r.modPow(i,this);if(0!=a.compareTo(w.ONE)&&0!=a.compareTo(e)){for(var o=1;o++<n&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},w.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var t=E();return this.copyTo(t),t},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e},w.prototype.equals=function(t){return 0==this.compareTo(t)},w.prototype.min=function(t){return this.compareTo(t)<0?this:t},w.prototype.max=function(t){return this.compareTo(t)>0?this:t},w.prototype.and=function(t){var e=E();return this.bitwiseTo(t,F,e),e},w.prototype.or=function(t){var e=E();return this.bitwiseTo(t,B,e),e},w.prototype.xor=function(t){var e=E();return this.bitwiseTo(t,M,e),e},w.prototype.andNot=function(t){var e=E();return this.bitwiseTo(t,N,e),e},w.prototype.not=function(){for(var t=E(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},w.prototype.shiftLeft=function(t){var e=E();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},w.prototype.shiftRight=function(t){var e=E();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},w.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+j(this[t]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=U(this[n]^e);return t},w.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},w.prototype.setBit=function(t){return this.changeBit(t,B)},w.prototype.clearBit=function(t){return this.changeBit(t,N)},w.prototype.flipBit=function(t){return this.changeBit(t,M)},w.prototype.add=function(t){var e=E();return this.addTo(t,e),e},w.prototype.subtract=function(t){var e=E();return this.subTo(t,e),e},w.prototype.multiply=function(t){var e=E();return this.multiplyTo(t,e),e},w.prototype.divide=function(t){var e=E();return this.divRemTo(t,e,null),e},w.prototype.remainder=function(t){var e=E();return this.divRemTo(t,null,e),e},w.prototype.divideAndRemainder=function(t){var e=E(),n=E();return this.divRemTo(t,e,n),new Array(e,n)},w.prototype.modPow=function(t,e){var n,i,r=t.bitLength(),s=D(1);if(r<=0)return s;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new R(e):e.isEven()?new q(e):new L(e);var a=new Array,o=3,u=n-1,l=(1<<n)-1;if(a[1]=i.convert(this),n>1){var c=E();for(i.sqrTo(a[1],c);o<=l;)a[o]=E(),i.mulTo(c,a[o-2],a[o]),o+=2}var h,d,f=t.t-1,p=!0,g=E();for(r=I(t[f])-1;f>=0;){for(r>=u?h=t[f]>>r-u&l:(h=(t[f]&(1<<r+1)-1)<<u-r,f>0&&(h|=t[f-1]>>this.DB+r-u)),o=n;0==(1&h);)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--f),p)a[h].copyTo(s),p=!1;else{for(;o>1;)i.sqrTo(s,g),i.sqrTo(g,s),o-=2;o>0?i.sqrTo(s,g):(d=s,s=g,g=d),i.mulTo(g,a[h],s)}for(;f>=0&&0==(t[f]&1<<r);)i.sqrTo(s,g),d=s,s=g,g=d,--r<0&&(r=this.DB-1,--f)}return i.revert(s)},w.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return w.ZERO;for(var n=t.clone(),i=this.clone(),r=D(1),s=D(0),a=D(0),o=D(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);n.compareTo(i)>=0?(n.subTo(i,n),e&&r.subTo(a,r),s.subTo(o,s)):(i.subTo(n,i),e&&a.subTo(r,a),o.subTo(s,o))}return 0!=i.compareTo(w.ONE)?w.ZERO:o.compareTo(t)>=0?o.subtract(t):o.signum()<0?(o.addTo(t,o),o.signum()<0?o.add(t):o):o},w.prototype.pow=function(t){return this.exp(t,new H)},w.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var r=e.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return e;for(r<s&&(s=r),s>0&&(e.rShiftTo(s,e),n.rShiftTo(s,n));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},w.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=z[z.length-1]){for(e=0;e<z.length;++e)if(n[0]==z[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<z.length;){for(var i=z[e],r=e+1;r<z.length&&i<W;)i*=z[r++];for(i=n.modInt(i);e<r;)if(i%z[e++]==0)return!1}return n.millerRabin(t)},w.prototype.square=function(){var t=E();return this.squareTo(t),t},$.prototype.init=function(t){var e,n,i;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0},$.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var K,G,Y,X=256;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function J(){var t;t=(new Date).getTime(),G[Y++]^=255&t,G[Y++]^=t>>8&255,G[Y++]^=t>>16&255,G[Y++]^=t>>24&255,Y>=X&&(Y-=X)}if(null==G){var Z;if(G=new Array,Y=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Q=i.crypto||i.msCrypto;if(Q.getRandomValues){var tt=new Uint8Array(32);for(Q.getRandomValues(tt),Z=0;Z<32;++Z)G[Y++]=tt[Z]}else if("Netscape"==n.appName&&n.appVersion<"5"){var et=i.crypto.random(32);for(Z=0;Z<et.length;++Z)G[Y++]=255&et.charCodeAt(Z)}}for(;Y<X;)Z=Math.floor(65536*Math.random()),G[Y++]=Z>>>8,G[Y++]=255&Z;Y=0,J()}function nt(){if(null==K){for(J(),(K=new $).init(G),Y=0;Y<G.length;++Y)G[Y]=0;Y=0}return K.next()}function it(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function rt(t,e){return new w(t,e)}function st(t,e,n){for(var i="",r=0;i.length<e;)i+=n(String.fromCharCode.apply(String,t.concat([(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r]))),r+=1;return i}function at(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ot(t,e,n){for(var i="",r=0;i.length<e;)i+=n(t+String.fromCharCode.apply(String,[(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r])),r+=1;return i}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function ut(t,e){this.x=e,this.q=t}function lt(t,e,n,i){this.curve=t,this.x=e,this.y=n,this.z=null==i?w.ONE:i,this.zinv=null}function ct(t,e,n){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(n),this.infinity=new lt(this,null,null)}it.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=nt()},at.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},at.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=rt(t,16),this.e=parseInt(e,16)}},at.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var n=new Array,i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);r<128?n[--e]=r:r>127&&r<2048?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var s=new it,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new w(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},at.prototype.encryptOAEP=function(t,e,n){var i=function(t,e,n,i){var r=dt.crypto.MessageDigest,s=dt.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=r.getCanonicalAlgName(n),i=r.getHashLength(a),n=function(t){return kt(s.hashHex(xt(t),a))}),t.length+2*i+2>e)throw"Message too long for RSA";var o,u="";for(o=0;o<e-t.length-2*i-2;o+=1)u+="\0";var l=n("")+u+""+t,c=new Array(i);(new it).nextBytes(c);var h=st(c,l.length,n),d=[];for(o=0;o<l.length;o+=1)d[o]=l.charCodeAt(o)^h.charCodeAt(o);var f=st(d,c.length,n),p=[0];for(o=0;o<c.length;o+=1)p[o+1]=c[o]^f.charCodeAt(o);return new w(p.concat(d))}(t,this.n.bitLength()+7>>3,e,n);if(null==i)return null;var r=this.doPublic(i);if(null==r)return null;var s=r.toString(16);return 0==(1&s.length)?s:"0"+s},at.prototype.type="RSA",at.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},at.prototype.setPrivate=function(t,e,n){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=n;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key";this.n=rt(t,16),this.e=parseInt(e,16),this.d=rt(n,16)}},at.prototype.setPrivateEx=function(t,e,n,i,r,s,a,o){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=rt(t,16),this.e=parseInt(e,16),this.d=rt(n,16),this.p=rt(i,16),this.q=rt(r,16),this.dmp1=rt(s,16),this.dmq1=rt(a,16),this.coeff=rt(o,16)},at.prototype.generate=function(t,e){var n=new it,i=t>>1;this.e=parseInt(e,16);for(var r=new w(e,16);;){for(;this.p=new w(t-i,1,n),0!=this.p.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(i,1,n),0!=this.q.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(w.ONE),o=this.q.subtract(w.ONE),u=a.multiply(o);if(0==u.gcd(r).compareTo(w.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(o),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},at.prototype.decrypt=function(t){var e=rt(t,16),n=this.doPrivate(e);return null==n?null:
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var s=255&n[i];s<128?r+=String.fromCharCode(s):s>191&&s<224?(r+=String.fromCharCode((31&s)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&s)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.bitLength()+7>>3)},at.prototype.decryptOAEP=function(t,e,n){var i=rt(t,16),r=this.doPrivate(i);return null==r?null:function(t,e,n,i){var r=dt.crypto.MessageDigest,s=dt.crypto.Util,a=null;for(n||(n="sha1"),"string"==typeof n&&(a=r.getCanonicalAlgName(n),i=r.getHashLength(a),n=function(t){return kt(s.hashHex(xt(t),a))}),t=t.toByteArray(),o=0;o<t.length;o+=1)t[o]&=255;for(;t.length<e;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*i+2)throw"Cipher too short";var o,u=t.substr(1,i),l=t.substr(i+1),c=ot(l,i,n),h=[];for(o=0;o<u.length;o+=1)h[o]=u.charCodeAt(o)^c.charCodeAt(o);var d=ot(String.fromCharCode.apply(String,h),t.length-i,n),f=[];for(o=0;o<l.length;o+=1)f[o]=l.charCodeAt(o)^d.charCodeAt(o);if((f=String.fromCharCode.apply(String,f)).substr(0,i)!==n(""))throw"Hash mismatch";var p=(f=f.substr(i)).indexOf("");if((-1!=p?f.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return f.substr(p+1)}(r,this.n.bitLength()+7>>3,e,n)},ut.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},ut.prototype.toBigInteger=function(){return this.x},ut.prototype.negate=function(){return new ut(this.q,this.x.negate().mod(this.q))},ut.prototype.add=function(t){return new ut(this.q,this.x.add(t.toBigInteger()).mod(this.q))},ut.prototype.subtract=function(t){return new ut(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},ut.prototype.multiply=function(t){return new ut(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},ut.prototype.square=function(){return new ut(this.q,this.x.square().mod(this.q))},ut.prototype.divide=function(t){return new ut(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},lt.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},lt.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},lt.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(w.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(w.ZERO))},lt.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},lt.prototype.negate=function(){return new lt(this.curve,this.x,this.y.negate(),this.z)},lt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(e)?this.twice():this.curve.getInfinity();var i=new w("3"),r=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(t.x.toBigInteger(),t.y.toBigInteger(),n.square()),o=a.multiply(n),u=r.multiply(a),l=e.square().multiply(this.z),c=l.subtract(u.shiftLeft(1)).multiply(t.z).subtract(o).multiply(n).mod(this.curve.q),h=u.multiply(i).multiply(e).subtract(s.multiply(o)).subtract(l.multiply(e)).multiply(t.z).add(e.multiply(o)).mod(this.curve.q),d=o.multiply(this.z).multiply(t.z).mod(this.curve.q);return new lt(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),d)},lt.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new w("3"),e=this.x.toBigInteger(),n=this.y.toBigInteger(),i=n.multiply(this.z),r=i.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=e.square().multiply(t);w.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s)));var o=(a=a.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(r)).shiftLeft(1).multiply(i).mod(this.curve.q),u=a.multiply(t).multiply(e).subtract(r.shiftLeft(1)).shiftLeft(2).multiply(r).subtract(a.square().multiply(a)).mod(this.curve.q),l=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new lt(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(u),l)},lt.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,i=n.multiply(new w("3")),r=this.negate(),s=this;for(e=i.bitLength()-2;e>0;--e){s=s.twice();var a=i.testBit(e);a!=n.testBit(e)&&(s=s.add(a?this:r))}return s},lt.prototype.multiplyTwo=function(t,e,n){var i;i=t.bitLength()>n.bitLength()?t.bitLength()-1:n.bitLength()-1;for(var r=this.curve.getInfinity(),s=this.add(e);i>=0;)r=r.twice(),t.testBit(i)?r=n.testBit(i)?r.add(s):r.add(this):n.testBit(i)&&(r=r.add(e)),--i;return r},ct.prototype.getQ=function(){return this.q},ct.prototype.getA=function(){return this.a},ct.prototype.getB=function(){return this.b},ct.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},ct.prototype.getInfinity=function(){return this.infinity},ct.prototype.fromBigInteger=function(t){return new ut(this.q,t)},ct.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,n=t.substr(2,e),i=t.substr(e+2,e);return new lt(this,this.fromBigInteger(new w(n,16)),this.fromBigInteger(new w(i,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
ut.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},lt.prototype.getEncoded=function(t){var e=function(t,e){var n=t.toByteArrayUnsigned();if(e<n.length)n=n.slice(n.length-e);else for(;e>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),i=this.getY().toBigInteger(),r=e(n,32);return t?i.isEven()?r.unshift(2):r.unshift(3):(r.unshift(4),r=r.concat(e(i,32))),r},lt.decodeFrom=function(t,e){e[0];var n=e.length-1,i=e.slice(1,1+n/2),r=e.slice(1+n/2,1+n);i.unshift(0),r.unshift(0);var s=new w(i),a=new w(r);return new lt(t,t.fromBigInteger(s),t.fromBigInteger(a))},lt.decodeFromHex=function(t,e){e.substr(0,2);var n=e.length-2,i=e.substr(2,n/2),r=e.substr(2+n/2,n/2),s=new w(i,16),a=new w(r,16);return new lt(t,t.fromBigInteger(s),t.fromBigInteger(a))},lt.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),n=t.y.subtract(this.y).divide(e),i=n.square().subtract(this.x).subtract(t.x),r=n.multiply(this.x.subtract(i)).subtract(this.y);return new lt(this.curve,i,r)},lt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(w.valueOf(2)),e=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),i=n.square().subtract(this.x.multiply(t)),r=n.multiply(this.x.subtract(i)).subtract(this.y);return new lt(this.curve,i,r)},lt.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,i=n.multiply(new w("3")),r=this.negate(),s=this;for(e=i.bitLength()-2;e>0;--e){s=s.twice();var a=i.testBit(e);a!=n.testBit(e)&&(s=s.add2D(a?this:r))}return s},lt.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),i=this.curve.getB().toBigInteger(),r=this.curve.getQ(),s=e.multiply(e).mod(r),a=t.multiply(t).multiply(t).add(n.multiply(t)).add(i).mod(r);return s.equals(a)},lt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},lt.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(e.compareTo(w.ONE)<0||e.compareTo(t.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(t.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var ht=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(t,e,i){return e?n[e]:String.fromCharCode(parseInt(i,16))}var r=new String(""),s=(Object,Array,Object.hasOwnProperty);return function(n,a){var o,u,l=n.match(t),c=l[0],h=!1;"{"===c?o={}:"["===c?o=[]:(o=[],h=!0);for(var d=[o],f=1-h,p=l.length;f<p;++f){var g;switch((c=l[f]).charCodeAt(0)){default:(g=d[0])[u||g.length]=+c,u=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(e,i)),g=d[0],!u){if(!(g instanceof Array)){u=c||r;break}u=g.length}g[u]=c,u=void 0;break;case 91:g=d[0],d.unshift(g[u||g.length]=[]),u=void 0;break;case 93:d.shift();break;case 102:(g=d[0])[u||g.length]=!1,u=void 0;break;case 110:(g=d[0])[u||g.length]=null,u=void 0;break;case 116:(g=d[0])[u||g.length]=!0,u=void 0;break;case 123:g=d[0],d.unshift(g[u||g.length]={}),u=void 0;break;case 125:d.shift()}}if(h){if(1!==d.length)throw new Error;o=o[0]}else if(d.length)throw new Error;if(a){var m=function(t,e){var n=t[e];if(n&&"object"==typeof n){var i=null;for(var r in n)if(s.call(n,r)&&n!==t){var o=m(n,r);void 0!==o?n[r]=o:(i||(i=[]),i.push(r))}if(i)for(var u=i.length;--u>=0;)delete n[i[u]]}return a.call(t,e,n)};o=m({"":o},"")}return o}}();void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),dt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var i="",r=0;r<n;r++)i+="f";e=new w(i,16).xor(t).add(w.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return Dt(t,e)},this.newObject=function(t){var e=dt.asn1,n=e.DERBoolean,i=e.DERInteger,r=e.DERBitString,s=e.DEROctetString,a=e.DERNull,o=e.DERObjectIdentifier,u=e.DEREnumerated,l=e.DERUTF8String,c=e.DERNumericString,h=e.DERPrintableString,d=e.DERTeletexString,f=e.DERIA5String,p=e.DERUTCTime,g=e.DERGeneralizedTime,m=e.DERSequence,v=e.DERSet,y=e.DERTaggedObject,b=e.ASN1Util.newObject,_=Object.keys(t);if(1!=_.length)throw"key of param shall be only one.";var T=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":"))throw"undefined key: "+T;if("bool"==T)return new n(t[T]);if("int"==T)return new i(t[T]);if("bitstr"==T)return new r(t[T]);if("octstr"==T)return new s(t[T]);if("null"==T)return new a(t[T]);if("oid"==T)return new o(t[T]);if("enum"==T)return new u(t[T]);if("utf8str"==T)return new l(t[T]);if("numstr"==T)return new c(t[T]);if("prnstr"==T)return new h(t[T]);if("telstr"==T)return new d(t[T]);if("ia5str"==T)return new f(t[T]);if("utctime"==T)return new p(t[T]);if("gentime"==T)return new g(t[T]);if("seq"==T){for(var S=t[T],w=[],E=0;E<S.length;E++){var C=b(S[E]);w.push(C)}return new m({array:w})}if("set"==T){for(S=t[T],w=[],E=0;E<S.length;E++){C=b(S[E]);w.push(C)}return new v({array:w})}if("tag"==T){var k=t[T];if("[object Array]"===Object.prototype.toString.call(k)&&3==k.length){var x=b(k[2]);return new y({tag:k[0],explicit:k[1],obj:x})}var A={};if(void 0!==k.explicit&&(A.explicit=k.explicit),void 0!==k.tag&&(A.tag=k.tag),void 0===k.obj)throw"obj shall be specified for 'tag'.";return A.obj=b(k.obj),new y(A)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},dt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),i=(e=Math.floor(n/40)+"."+n%40,""),r=2;r<t.length;r+=2){var s=("00000000"+parseInt(t.substr(r,2),16).toString(2)).slice(-8);if(i+=s.substr(1,7),"0"==s.substr(0,1))e=e+"."+new w(i,2).toString(10),i=""}return e},dt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new w(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=e(parseInt(o,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=e(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);return i},dt.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},dt.asn1.DERAbstractString=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Et(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},r.lang.extend(dt.asn1.DERAbstractString,dt.asn1.ASN1Object),dt.asn1.DERAbstractTime=function(t){dt.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var i=this.zeroPadding,r=this.localDateToUTC(t),s=String(r.getFullYear());"utc"==e&&(s=s.substr(2,2));var a=s+i(String(r.getMonth()+1),2)+i(String(r.getDate()),2)+i(String(r.getHours()),2)+i(String(r.getMinutes()),2)+i(String(r.getSeconds()),2);if(!0===n){var o=r.getMilliseconds();if(0!=o){var u=i(String(o),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=bt(t)},this.setByDateValue=function(t,e,n,i,r,s){var a=new Date(Date.UTC(t,e-1,n,i,r,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},r.lang.extend(dt.asn1.DERAbstractTime,dt.asn1.ASN1Object),dt.asn1.DERAbstractStructured=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},r.lang.extend(dt.asn1.DERAbstractStructured,dt.asn1.ASN1Object),dt.asn1.DERBoolean=function(){dt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},r.lang.extend(dt.asn1.DERBoolean,dt.asn1.ASN1Object),dt.asn1.DERInteger=function(t){dt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=dt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new w(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},r.lang.extend(dt.asn1.DERInteger,dt.asn1.ASN1Object),dt.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}dt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var i="";for(n=0;n<t.length-1;n+=8){var r=t.substr(n,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},r.lang.extend(dt.asn1.DERBitString,dt.asn1.ASN1Object),dt.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}dt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},r.lang.extend(dt.asn1.DEROctetString,dt.asn1.DERAbstractString),dt.asn1.DERNull=function(){dt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},r.lang.extend(dt.asn1.DERNull,dt.asn1.ASN1Object),dt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new w(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=e(parseInt(o,2))}return n};dt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=e(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(t){var e=dt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},r.lang.extend(dt.asn1.DERObjectIdentifier,dt.asn1.ASN1Object),dt.asn1.DEREnumerated=function(t){dt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=dt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new w(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},r.lang.extend(dt.asn1.DEREnumerated,dt.asn1.ASN1Object),dt.asn1.DERUTF8String=function(t){dt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},r.lang.extend(dt.asn1.DERUTF8String,dt.asn1.DERAbstractString),dt.asn1.DERNumericString=function(t){dt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},r.lang.extend(dt.asn1.DERNumericString,dt.asn1.DERAbstractString),dt.asn1.DERPrintableString=function(t){dt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},r.lang.extend(dt.asn1.DERPrintableString,dt.asn1.DERAbstractString),dt.asn1.DERTeletexString=function(t){dt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},r.lang.extend(dt.asn1.DERTeletexString,dt.asn1.DERAbstractString),dt.asn1.DERIA5String=function(t){dt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},r.lang.extend(dt.asn1.DERIA5String,dt.asn1.DERAbstractString),dt.asn1.DERUTCTime=function(t){dt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=bt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=bt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},r.lang.extend(dt.asn1.DERUTCTime,dt.asn1.DERAbstractTime),dt.asn1.DERGeneralizedTime=function(t){dt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},r.lang.extend(dt.asn1.DERGeneralizedTime,dt.asn1.DERAbstractTime),dt.asn1.DERSequence=function(t){dt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},r.lang.extend(dt.asn1.DERSequence,dt.asn1.DERAbstractStructured),dt.asn1.DERSet=function(t){dt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},r.lang.extend(dt.asn1.DERSet,dt.asn1.DERAbstractStructured),dt.asn1.DERTaggedObject=function(t){dt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},r.lang.extend(dt.asn1.DERTaggedObject,dt.asn1.ASN1Object);var dt,ft,pt,gt=new function(){};function mt(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function vt(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function yt(t){for(var e="",n=0;n<t.length;n++){var i=t[n].toString(16);1==i.length&&(i="0"+i),e+=i}return e}function bt(t){return yt(mt(t))}function _t(t){return t=(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Tt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),t=(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function St(t){return t.length%2==1&&(t="0"+t),_t(_(t))}function wt(t){return T(Tt(t))}function Et(t){return Ft(Ut(t))}function Ct(t){return decodeURIComponent(Bt(t))}function kt(t){for(var e="",n=0;n<t.length-1;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function xt(t){for(var e="",n=0;n<t.length;n++)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e}function At(t){return _(t)}function Ot(t){var e=At(t).replace(/(.{64})/g,"$1\r\n");return e=e.replace(/\r\n$/,"")}function Pt(t){return T(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Dt(t,e){return"-----BEGIN "+e+"-----\r\n"+Ot(t)+"\r\n-----END "+e+"-----\r\n"}function It(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return Pt(t=void 0!==e?(t=t.replace("-----BEGIN "+e+"-----","")).replace("-----END "+e+"-----",""):(t=t.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function Rt(t){var e,n,i,r,s,a,o,u,l,c,h;if(h=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=h[1],e=parseInt(u),2===u.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),n=parseInt(h[2])-1,i=parseInt(h[3]),r=parseInt(h[4]),s=parseInt(h[5]),a=parseInt(h[6]),o=0,""!==(l=h[7])&&(c=(l.substr(1)+"00").substr(0,3),o=parseInt(c)),Date.UTC(e,n,i,r,s,a,o);throw"unsupported zulu format: "+t}function Lt(t){return~~(Rt(t)/1e3)}function Ft(t){return t.replace(/%/g,"")}function Bt(t){return t.replace(/(..)/g,"%$1")}function Mt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var n=(t=t.toLowerCase()).split(":").length-1;if(n<2)throw e;var i=":".repeat(7-n+2),r=(t=t.replace("::",i)).split(":");if(8!=r.length)throw e;for(var s=0;s<8;s++)r[s]=("0000"+r[s]).slice(-4);return r.join("")}function Nt(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)e[n]=e[n].replace(/^0+/,""),""==e[n]&&(e[n]="0");var i=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===i)return t.slice(1,-1);var r="";for(n=0;n<i.length;n++)i[n].length>r.length&&(r=i[n]);return(t=t.replace(r,"::")).slice(1,-1)}function jt(t){var e="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Nt(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Ut(t){for(var e=encodeURIComponent(t),n="",i=0;i<e.length;i++)"%"==e[i]?(n+=e.substr(i,3),i+=2):n=n+"%"+bt(e[i]);return n}function Ht(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}function Vt(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(t,e,n){var i=parseInt(t);if(i<0||255<i)throw"integer not in range 0-255";return("00"+i.toString(16)).slice(-2)}).join("")}catch(t){throw"malformed integer array string: "+t}}gt.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var n=parseInt(t.substr(e+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},gt.getL=function(t,e){var n=gt.getLblen(t,e);return n<1?"":t.substr(e+2,2*n)},gt.getVblen=function(t,e){var n;return""==(n=gt.getL(t,e))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},gt.getVidx=function(t,e){var n=gt.getLblen(t,e);return n<0?n:e+2*(n+1)},gt.getV=function(t,e){var n=gt.getVidx(t,e),i=gt.getVblen(t,e);return t.substr(n,2*i)},gt.getTLV=function(t,e){return t.substr(e,2)+gt.getL(t,e)+gt.getV(t,e)},gt.getNextSiblingIdx=function(t,e){return gt.getVidx(t,e)+2*gt.getVblen(t,e)},gt.getChildIdx=function(t,e){var n=gt,i=new Array,r=n.getVidx(t,e);"03"==t.substr(e,2)?i.push(r+2):i.push(r);for(var s=n.getVblen(t,e),a=r,o=0;;){var u=n.getNextSiblingIdx(t,a);if(null==u||u-r>=2*s)break;if(o>=200)break;i.push(u),a=u,o++}return i},gt.getNthChildIdx=function(t,e,n){return gt.getChildIdx(t,e)[n]},gt.getIdxbyList=function(t,e,n,i){var r,s,a=gt;if(0==n.length){if(void 0!==i&&t.substr(e,2)!==i)throw"checking tag doesn't match: "+t.substr(e,2)+"!="+i;return e}return r=n.shift(),s=a.getChildIdx(t,e),a.getIdxbyList(t,s[r],n,i)},gt.getTLVbyList=function(t,e,n,i){var r=gt,s=r.getIdxbyList(t,e,n);if(void 0===s)throw"can't find nthList object";if(void 0!==i&&t.substr(s,2)!=i)throw"checking tag doesn't match: "+t.substr(s,2)+"!="+i;return r.getTLV(t,s)},gt.getVbyList=function(t,e,n,i,r){var s,a,o=gt;if(void 0===(s=o.getIdxbyList(t,e,n,i)))throw"can't find nthList object";return a=o.getV(t,s),!0===r&&(a=a.substr(2)),a},gt.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},n=[],i=t.substr(0,2),r=parseInt(i,16);n[0]=new String(Math.floor(r/40)),n[1]=new String(r%40);for(var s=t.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(2*o,2),16));var u=[],l="";for(o=0;o<a.length;o++)128&a[o]?l+=e((127&a[o]).toString(2),7):(l+=e((127&a[o]).toString(2),7),u.push(new String(parseInt(l,2))),l="");var c=n.join(".");return u.length>0&&(c=c+"."+u.join(".")),c},gt.dump=function(t,e,n,i){var r=gt,s=r.getV,a=r.dump,o=r.getChildIdx,u=t;t instanceof dt.asn1.ASN1Object&&(u=t.getEncodedHex());var l=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===n&&(n=0),void 0===i&&(i="");var c=e.ommit_long_octet;if("01"==u.substr(n,2))return"00"==(h=s(u,n))?i+"BOOLEAN FALSE\n":i+"BOOLEAN TRUE\n";if("02"==u.substr(n,2))return i+"INTEGER "+l(h=s(u,n),c)+"\n";if("03"==u.substr(n,2))return i+"BITSTRING "+l(h=s(u,n),c)+"\n";if("04"==u.substr(n,2)){var h=s(u,n);if(r.isASN1HEX(h)){var d=i+"OCTETSTRING, encapsulates\n";return d+=a(h,e,0,i+"  ")}return i+"OCTETSTRING "+l(h,c)+"\n"}if("05"==u.substr(n,2))return i+"NULL\n";if("06"==u.substr(n,2)){var f=s(u,n),p=dt.asn1.ASN1Util.oidHexToInt(f),g=dt.asn1.x509.OID.oid2name(p),m=p.replace(/\./g," ");return""!=g?i+"ObjectIdentifier "+g+" ("+m+")\n":i+"ObjectIdentifier ("+m+")\n"}if("0c"==u.substr(n,2))return i+"UTF8String '"+Ct(s(u,n))+"'\n";if("13"==u.substr(n,2))return i+"PrintableString '"+Ct(s(u,n))+"'\n";if("14"==u.substr(n,2))return i+"TeletexString '"+Ct(s(u,n))+"'\n";if("16"==u.substr(n,2))return i+"IA5String '"+Ct(s(u,n))+"'\n";if("17"==u.substr(n,2))return i+"UTCTime "+Ct(s(u,n))+"\n";if("18"==u.substr(n,2))return i+"GeneralizedTime "+Ct(s(u,n))+"\n";if("30"==u.substr(n,2)){if("3000"==u.substr(n,4))return i+"SEQUENCE {}\n";d=i+"SEQUENCE\n";var v=e;if((2==(_=o(u,n)).length||3==_.length)&&"06"==u.substr(_[0],2)&&"04"==u.substr(_[_.length-1],2)){g=r.oidname(s(u,_[0]));var y=JSON.parse(JSON.stringify(e));y.x509ExtName=g,v=y}for(var b=0;b<_.length;b++)d+=a(u,v,_[b],i+"  ");return d}if("31"==u.substr(n,2)){d=i+"SET\n";var _=o(u,n);for(b=0;b<_.length;b++)d+=a(u,e,_[b],i+"  ");return d}var T=parseInt(u.substr(n,2),16);if(0!=(128&T)){var S=31&T;if(0!=(32&T)){var d=i+"["+S+"]\n";for(_=o(u,n),b=0;b<_.length;b++)d+=a(u,e,_[b],i+"  ");return d}return"68747470"==(h=s(u,n)).substr(0,8)&&(h=Ct(h)),"subjectAltName"===e.x509ExtName&&2==S&&(h=Ct(h)),d=i+"["+S+"] "+h+"\n"}return i+"UNKNOWN("+u.substr(n,2)+") "+s(u,n)+"\n"},gt.isASN1HEX=function(t){var e=gt;if(t.length%2==1)return!1;var n=e.getVblen(t,0),i=t.substr(0,2),r=e.getL(t,0);return t.length-i.length-r.length==2*n},gt.oidname=function(t){var e=dt.asn1;dt.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var n=e.x509.OID.oid2name(t);return""===n&&(n=t),n},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.x509&&dt.asn1.x509||(dt.asn1.x509={}),dt.asn1.x509.Certificate=function(t){dt.asn1.x509.Certificate.superclass.constructor.call(this);var e=dt,n=(e.crypto,e.asn1),i=n.DERSequence,r=n.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var t=new dt.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});t.init(this.prvKey),t.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=t.sign(),this.asn1Sig=new r({hex:"00"+this.hexSig});var e=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(t){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=t,this.asn1Sig=new r({hex:"00"+this.hexSig});var e=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Ot(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==t&&(void 0!==t.tbscertobj&&(this.asn1TBSCert=t.tbscertobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},r.lang.extend(dt.asn1.x509.Certificate,dt.asn1.ASN1Object),dt.asn1.x509.TBSCertificate=function(t){dt.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=dt.asn1,n=e.DERSequence,i=e.DERInteger,r=e.DERTaggedObject,s=e.x509,a=s.Time,o=s.X500Name,u=s.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new r({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(t){this.asn1SerialNumber=new i(t)},this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new s.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new o(t)},this.setNotBeforeByParam=function(t){this.asn1NotBefore=new a(t)},this.setNotAfterByParam=function(t){this.asn1NotAfter=new a(t)},this.setSubjectByParam=function(t){this.asn1Subject=new o(t)},this.setSubjectPublicKey=function(t){this.asn1SubjPKey=new u(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=qt.getKey(t);this.asn1SubjPKey=new u(e)},this.appendExtension=function(t){this.extensionsArray.push(t)},this.appendExtensionByName=function(t,e){dt.asn1.x509.Extension.appendByNameToArray(t,e,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var t=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(t),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new n({array:this.extensionsArray}),i=new r({explicit:!0,tag:"a3",obj:e});this.asn1Array.push(i)}var s=new n({array:this.asn1Array});return this.hTLV=s.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},r.lang.extend(dt.asn1.x509.TBSCertificate,dt.asn1.ASN1Object),dt.asn1.x509.Extension=function(t){dt.asn1.x509.Extension.superclass.constructor.call(this);var e=dt.asn1,n=e.DERObjectIdentifier,i=e.DEROctetString,r=(e.DERBitString,e.DERBoolean),s=e.DERSequence;this.getEncodedHex=function(){var t=new n({oid:this.oid}),e=new i({hex:this.getExtnValueHex()}),a=new Array;return a.push(t),this.critical&&a.push(new r),a.push(e),new s({array:a}).getEncodedHex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},r.lang.extend(dt.asn1.x509.Extension,dt.asn1.ASN1Object),dt.asn1.x509.Extension.appendByNameToArray=function(t,e,n){var i=t.toLowerCase(),r=dt.asn1.x509;if("basicconstraints"==i){var s=new r.BasicConstraints(e);n.push(s)}else if("keyusage"==i){s=new r.KeyUsage(e);n.push(s)}else if("crldistributionpoints"==i){s=new r.CRLDistributionPoints(e);n.push(s)}else if("extkeyusage"==i){s=new r.ExtKeyUsage(e);n.push(s)}else if("authoritykeyidentifier"==i){s=new r.AuthorityKeyIdentifier(e);n.push(s)}else if("authorityinfoaccess"==i){s=new r.AuthorityInfoAccess(e);n.push(s)}else if("subjectaltname"==i){s=new r.SubjectAltName(e);n.push(s)}else{if("issueraltname"!=i)throw"unsupported extension name: "+t;s=new r.IssuerAltName(e);n.push(s)}},dt.asn1.x509.KeyUsage=function(t){dt.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Gt.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==t&&(void 0!==t.bin&&(this.asn1ExtnValue=new dt.asn1.DERBitString(t)),void 0!==t.names&&void 0!==t.names.length)){for(var n=t.names,i="000000000",r=0;r<n.length;r++)for(var s=0;s<e.length;s++)n[r]===e[s]&&(i=i.substring(0,s)+"1"+i.substring(s+1,i.length));this.asn1ExtnValue=new dt.asn1.DERBitString({bin:i})}},r.lang.extend(dt.asn1.x509.KeyUsage,dt.asn1.x509.Extension),dt.asn1.x509.BasicConstraints=function(t){dt.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new dt.asn1.DERBoolean),this.pathLen>-1&&t.push(new dt.asn1.DERInteger({int:this.pathLen}));var e=new dt.asn1.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},r.lang.extend(dt.asn1.x509.BasicConstraints,dt.asn1.x509.Extension),dt.asn1.x509.CRLDistributionPoints=function(t){dt.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=dt.asn1,n=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(t){this.asn1ExtnValue=new e.DERSequence({array:t})},this.setByOneURI=function(t){var e=new n.GeneralNames([{uri:t}]),i=new n.DistributionPointName(e),r=new n.DistributionPoint({dpobj:i});this.setByDPArray([r])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},r.lang.extend(dt.asn1.x509.CRLDistributionPoints,dt.asn1.x509.Extension),dt.asn1.x509.ExtKeyUsage=function(t){dt.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=dt.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new e.DERSequence;for(var n=0;n<t.length;n++){var i=new e.DERObjectIdentifier(t[n]);this.asn1ExtnValue.appendASN1Object(i)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},r.lang.extend(dt.asn1.x509.ExtKeyUsage,dt.asn1.x509.Extension),dt.asn1.x509.AuthorityKeyIdentifier=function(t){dt.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=dt.asn1,n=e.DERTaggedObject;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new n({explicit:!1,tag:"a1",obj:this.asn1CertIssuer})),this.asn1CertSN&&t.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var i=new e.DERSequence({array:t});return this.asn1ExtnValue=i,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(t){this.asn1KID=new dt.asn1.DEROctetString(t)},this.setCertIssuerByParam=function(t){this.asn1CertIssuer=new dt.asn1.x509.X500Name(t)},this.setCertSNByParam=function(t){this.asn1CertSN=new dt.asn1.DERInteger(t)},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn))},r.lang.extend(dt.asn1.x509.AuthorityKeyIdentifier,dt.asn1.x509.Extension),dt.asn1.x509.AuthorityInfoAccess=function(t){dt.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=new Array,n=dt.asn1,i=n.DERSequence,r=0;r<t.length;r++){var s=new i({array:[new n.DERObjectIdentifier(t[r].accessMethod),new n.x509.GeneralName(t[r].accessLocation)]});e.push(s)}this.asn1ExtnValue=new i({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},r.lang.extend(dt.asn1.x509.AuthorityInfoAccess,dt.asn1.x509.Extension),dt.asn1.x509.SubjectAltName=function(t){dt.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new dt.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},r.lang.extend(dt.asn1.x509.SubjectAltName,dt.asn1.x509.Extension),dt.asn1.x509.IssuerAltName=function(t){dt.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new dt.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},r.lang.extend(dt.asn1.x509.IssuerAltName,dt.asn1.x509.Extension),dt.asn1.x509.CRL=function(t){dt.asn1.x509.CRL.superclass.constructor.call(this);this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new dt.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new dt.asn1.DERBitString({hex:"00"+this.hexSig});var t=new dt.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Ot(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==t&&(void 0!==t.tbsobj&&(this.asn1TBSCertList=t.tbsobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},r.lang.extend(dt.asn1.x509.CRL,dt.asn1.ASN1Object),dt.asn1.x509.TBSCertList=function(t){dt.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=dt.asn1,n=e.DERSequence,i=e.x509,r=i.Time;this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new i.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new i.X500Name(t)},this.setThisUpdateByParam=function(t){this.asn1ThisUpdate=new r(t)},this.setNextUpdateByParam=function(t){this.asn1NextUpdate=new r(t)},this.addRevokedCert=function(t,e){var n={};void 0!=t&&null!=t&&(n.sn=t),void 0!=e&&null!=e&&(n.time=e);var r=new i.CRLEntry(n);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var t=new n({array:this.aRevokedCert});this.asn1Array.push(t)}var e=new n({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},r.lang.extend(dt.asn1.x509.TBSCertList,dt.asn1.ASN1Object),dt.asn1.x509.CRLEntry=function(t){dt.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=dt.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},r.lang.extend(dt.asn1.x509.CRLEntry,dt.asn1.ASN1Object),dt.asn1.x509.X500Name=function(t){dt.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var e=dt.asn1,n=e.x509,i=It;if(this.setByString=function(t){var e=t.split("/");e.shift();for(var i=[],r=0;r<e.length;r++)if(e[r].match(/^[^=]+=.+$/))i.push(e[r]);else{var s=i.length-1;i[s]=i[s]+"/"+e[r]}for(r=0;r<i.length;r++)this.asn1Array.push(new n.RDN({str:i[r]}))},this.setByLdapString=function(t){var e=n.X500Name.ldapToOneline(t);this.setByString(e)},this.setByObject=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=new dt.asn1.x509.RDN({str:e+"="+t[e]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new e.DERSequence({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t){var r;if(void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):"object"==typeof t&&this.setByObject(t),void 0!==t.certissuer)(r=new Gt).hex=i(t.certissuer),this.hTLV=r.getIssuerHex();if(void 0!==t.certsubject)(r=new Gt).hex=i(t.certsubject),this.hTLV=r.getSubjectHex()}},r.lang.extend(dt.asn1.x509.X500Name,dt.asn1.ASN1Object),dt.asn1.x509.X500Name.onelineToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),(e=e.map(function(t){return t.replace(/,/,"\\,")})).join(",")},dt.asn1.x509.X500Name.ldapToOneline=function(t){for(var e=t.split(","),n=!1,i=[],r=0;e.length>0;r++){var s=e.shift();if(!0===n){var a=(i.pop()+","+s).replace(/\\,/g,",");i.push(a),n=!1}else i.push(s);"\\"===s.substr(-1,1)&&(n=!0)}return(i=i.map(function(t){return t.replace("/","\\/")})).reverse(),"/"+i.join("/")},dt.asn1.x509.RDN=function(t){dt.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(t){this.asn1Array.push(new dt.asn1.x509.AttributeTypeAndValue({str:t}))},this.addByMultiValuedString=function(t){for(var e=dt.asn1.x509.RDN.parseString(t),n=0;n<e.length;n++)this.addByString(e[n])},this.getEncodedHex=function(){var t=new dt.asn1.DERSet({array:this.asn1Array});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.addByMultiValuedString(t.str)},r.lang.extend(dt.asn1.x509.RDN,dt.asn1.ASN1Object),dt.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),n=!1,i=[],r=0;e.length>0;r++){var s=e.shift();if(!0===n){var a=(i.pop()+"+"+s).replace(/\\\+/g,"+");i.push(a),n=!1}else i.push(s);"\\"===s.substr(-1,1)&&(n=!0)}var o=!1,u=[];for(r=0;i.length>0;r++){s=i.shift();if(!0===o){var l=u.pop();if(s.match(/"$/)){a=(l+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(a),o=!1}else u.push(l+"+"+s)}else u.push(s);s.match(/^[^=]+="/)&&(o=!0)}return u},dt.asn1.x509.AttributeTypeAndValue=function(t){dt.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var e=dt.asn1;this.setByString=function(t){var e=t.match(/^([^=]+)=(.+)$/);if(!e)throw"malformed attrTypeAndValueStr: "+t;this.setByAttrTypeAndValueStr(e[1],e[2])},this.setByAttrTypeAndValueStr=function(t,e){this.typeObj=dt.asn1.x509.OID.atype2obj(t);var n="utf8";"C"==t&&(n="prn"),this.valueObj=this.getValueObj(n,e)},this.getValueObj=function(t,n){if("utf8"==t)return new e.DERUTF8String({str:n});if("prn"==t)return new e.DERPrintableString({str:n});if("tel"==t)return new e.DERTeletexString({str:n});if("ia5"==t)return new e.DERIA5String({str:n});throw"unsupported directory string type: type="+t+" value="+n},this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.setByString(t.str)},r.lang.extend(dt.asn1.x509.AttributeTypeAndValue,dt.asn1.ASN1Object),dt.asn1.x509.SubjectPublicKeyInfo=function(t){dt.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=dt,n=e.asn1,i=n.DERInteger,r=n.DERBitString,s=n.DERObjectIdentifier,a=n.DERSequence,o=n.ASN1Util.newObject,u=n.x509.AlgorithmIdentifier,l=e.crypto;l.ECDSA,l.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new a({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var t=this.getASN1Object();return this.hTLV=t.getEncodedHex(),this.hTLV},this.setPubKey=function(t){try{if(t instanceof at){var e=o({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).getEncodedHex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new r({hex:"00"+e})}}catch(t){}try{if(t instanceof dt.crypto.ECDSA){var n=new s({name:t.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new r({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof dt.crypto.DSA){n=new o({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:n});var a=new i({bigint:t.y});this.asn1SubjPKey=new r({hex:"00"+a.getEncodedHex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},r.lang.extend(dt.asn1.x509.SubjectPublicKeyInfo,dt.asn1.ASN1Object),dt.asn1.x509.Time=function(t){dt.asn1.x509.Time.superclass.constructor.call(this);var e=dt.asn1,n=e.DERUTCTime,i=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.getEncodedHex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new i(this.timeParams):"utc"==this.type?new n:new i,this.TLV=t.getEncodedHex(),this.TLV},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},r.lang.extend(dt.asn1.x509.Time,dt.asn1.ASN1Object),dt.asn1.x509.AlgorithmIdentifier=function(t){dt.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=dt.asn1;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw"algorithm not specified";null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var t=[this.asn1Alg];null!==this.asn1Params&&t.push(this.asn1Params);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},r.lang.extend(dt.asn1.x509.AlgorithmIdentifier,dt.asn1.ASN1Object),dt.asn1.x509.GeneralName=function(t){dt.asn1.x509.GeneralName.superclass.constructor.call(this);var e={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},n=dt.asn1,i=(n.DERSequence,n.DEROctetString),r=n.DERIA5String,s=n.DERTaggedObject,a=n.ASN1Object,o=n.x509.X500Name,u=It;this.explicit=!1,this.setByParam=function(t){var n=null;if(void 0!==t){if(void 0!==t.rfc822&&(this.type="rfc822",n=new r({str:t[this.type]})),void 0!==t.dns&&(this.type="dns",n=new r({str:t[this.type]})),void 0!==t.uri&&(this.type="uri",n=new r({str:t[this.type]})),void 0!==t.dn&&(this.type="dn",this.explicit=!0,n=new o({str:t.dn})),void 0!==t.ldapdn&&(this.type="dn",this.explicit=!0,n=new o({ldapstr:t.ldapdn})),void 0!==t.certissuer){this.type="dn",this.explicit=!0;var l=null;if((h=t.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(l=u(h)),null==l)throw"certissuer param not cert";(d=new Gt).hex=l;var c=d.getIssuerHex();(n=new a).hTLV=c}if(void 0!==t.certsubj){this.type="dn",this.explicit=!0;var h,d;l=null;if((h=t.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(l=u(h)),null==l)throw"certsubj param not cert";(d=new Gt).hex=l;c=d.getSubjectHex();(n=new a).hTLV=c}if(void 0!==t.ip){this.type="ip",this.explicit=!1;var f,p=t.ip,g="malformed IP address";if(p.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(f=Vt("["+p.split(".").join(",")+"]")).length)throw g}else if(p.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))f=Mt(p);else{if(!p.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw g;f=p}n=new i({hex:f})}if(null==this.type)throw"unsupported type in params="+t;this.asn1Obj=new s({explicit:this.explicit,tag:e[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==t&&this.setByParam(t)},r.lang.extend(dt.asn1.x509.GeneralName,dt.asn1.ASN1Object),dt.asn1.x509.GeneralNames=function(t){dt.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=dt.asn1;this.setByParamArray=function(t){for(var n=0;n<t.length;n++){var i=new e.x509.GeneralName(t[n]);this.asn1Array.push(i)}},this.getEncodedHex=function(){return new e.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==t&&this.setByParamArray(t)},r.lang.extend(dt.asn1.x509.GeneralNames,dt.asn1.ASN1Object),dt.asn1.x509.DistributionPointName=function(t){dt.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=dt.asn1,n=e.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==t){if(!e.x509.GeneralNames.prototype.isPrototypeOf(t))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=t}},r.lang.extend(dt.asn1.x509.DistributionPointName,dt.asn1.ASN1Object),dt.asn1.x509.DistributionPoint=function(t){dt.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=dt.asn1;this.getEncodedHex=function(){var t=new e.DERSequence;if(null!=this.asn1DP){var n=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(n)}return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.dpobj&&(this.asn1DP=t.dpobj)},r.lang.extend(dt.asn1.x509.DistributionPoint,dt.asn1.ASN1Object),dt.asn1.x509.OID=new function(t){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var e=this.name2oidList[t],n=new dt.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=n,n},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.atype2oidList[t])throw"AttributeType name undefined: "+t;var e=this.atype2oidList[t],n=new dt.asn1.DERObjectIdentifier({oid:e});return this.objCache[t]=n,n}},dt.asn1.x509.OID.oid2name=function(t){var e=dt.asn1.x509.OID.name2oidList;for(var n in e)if(e[n]==t)return n;return""},dt.asn1.x509.OID.oid2atype=function(t){var e=dt.asn1.x509.OID.atype2oidList;for(var n in e)if(e[n]==t)return n;return t},dt.asn1.x509.OID.name2oid=function(t){var e=dt.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},dt.asn1.x509.X509Util={},dt.asn1.x509.X509Util.newCertPEM=function(t){var e=dt.asn1.x509,n=e.TBSCertificate,i=e.Certificate,r=new n;if(void 0===t.serial)throw"serial number undefined.";if(r.setSerialNumberByParam(t.serial),"string"!=typeof t.sigalg.name)throw"unproper signature algorithm name";if(r.setSignatureAlgByParam(t.sigalg),void 0===t.issuer)throw"issuer name undefined.";if(r.setIssuerByParam(t.issuer),void 0===t.notbefore)throw"notbefore undefined.";if(r.setNotBeforeByParam(t.notbefore),void 0===t.notafter)throw"notafter undefined.";if(r.setNotAfterByParam(t.notafter),void 0===t.subject)throw"subject name undefined.";if(r.setSubjectByParam(t.subject),void 0===t.sbjpubkey)throw"subject public key undefined.";if(r.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var s=0;s<t.ext.length;s++)for(key in t.ext[s])r.appendExtensionByName(key,t.ext[s][key]);if(void 0===t.cakey&&void 0===t.sighex)throw"param cakey and sighex undefined.";var a=null;return t.cakey&&(a=new i({tbscertobj:r,prvkeyobj:!0===t.cakey.isPrivate?t.cakey:qt.getKey.apply(null,t.cakey)})).sign(),t.sighex&&(a=new i({tbscertobj:r})).setSignatureHex(t.sighex),a.getPEMString()},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.cms&&dt.asn1.cms||(dt.asn1.cms={}),dt.asn1.cms.Attribute=function(t){var e=dt.asn1;e.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var t,n,i;t=new e.DERObjectIdentifier({oid:this.attrTypeOid}),n=new e.DERSet({array:this.valueList});try{n.getEncodedHex()}catch(t){throw"fail valueSet.getEncodedHex in Attribute(1)/"+t}i=new e.DERSequence({array:[t,n]});try{this.hTLV=i.getEncodedHex()}catch(t){throw"failed seq.getEncodedHex in Attribute(2)/"+t}return this.hTLV}},r.lang.extend(dt.asn1.cms.Attribute,dt.asn1.ASN1Object),dt.asn1.cms.ContentType=function(t){var e=dt.asn1;e.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var n=null;if(void 0!==t){n=new e.DERObjectIdentifier(t);this.valueList=[n]}},r.lang.extend(dt.asn1.cms.ContentType,dt.asn1.cms.Attribute),dt.asn1.cms.MessageDigest=function(t){var e=dt,n=e.asn1,i=n.DEROctetString,r=n.cms;if(r.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==t)if(t.eciObj instanceof r.EncapsulatedContentInfo&&"string"==typeof t.hashAlg){var s=t.eciObj.eContentValueHex,a=t.hashAlg;(o=new i({hex:e.crypto.Util.hashHex(s,a)})).getEncodedHex(),this.valueList=[o]}else{var o;(o=new i(t)).getEncodedHex(),this.valueList=[o]}},r.lang.extend(dt.asn1.cms.MessageDigest,dt.asn1.cms.Attribute),dt.asn1.cms.SigningTime=function(t){var e=dt.asn1;if(e.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==t){var n=new e.x509.Time(t);try{n.getEncodedHex()}catch(t){throw"SigningTime.getEncodedHex() failed/"+t}this.valueList=[n]}},r.lang.extend(dt.asn1.cms.SigningTime,dt.asn1.cms.Attribute),dt.asn1.cms.SigningCertificate=function(t){var e=dt,n=e.asn1,i=n.DERSequence,r=n.cms;e.crypto;r.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(t){for(var s=[],a=0;a<t.length;a++){var o=It(t[a]),u=e.crypto.Util.hashHex(o,"sha1"),l=new n.DEROctetString({hex:u});l.getEncodedHex();var c=new r.IssuerAndSerialNumber({cert:t[a]});c.getEncodedHex();var h=new i({array:[l,c]});h.getEncodedHex(),s.push(h)}var d=new i({array:s});d.getEncodedHex(),this.valueList=[d]},void 0!==t&&"object"==typeof t.array&&this.setCerts(t.array)},r.lang.extend(dt.asn1.cms.SigningCertificate,dt.asn1.cms.Attribute),dt.asn1.cms.SigningCertificateV2=function(t){var e=dt,n=e.asn1,i=n.DERSequence,r=n.x509,s=n.cms,a=e.crypto;if(s.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(t,e){for(var o=[],u=0;u<t.length;u++){var l=It(t[u]),c=[];"sha256"!==e&&c.push(new r.AlgorithmIdentifier({name:e}));var h=a.Util.hashHex(l,e),d=new n.DEROctetString({hex:h});d.getEncodedHex(),c.push(d);var f=new s.IssuerAndSerialNumber({cert:t[u]});f.getEncodedHex(),c.push(f);var p=new i({array:c});p.getEncodedHex(),o.push(p)}var g=new i({array:o});g.getEncodedHex(),this.valueList=[g]},void 0!==t&&"object"==typeof t.array){var o="sha256";"string"==typeof t.hashAlg&&(o=t.hashAlg),this.setCerts(t.array,o)}},r.lang.extend(dt.asn1.cms.SigningCertificateV2,dt.asn1.cms.Attribute),dt.asn1.cms.IssuerAndSerialNumber=function(t){var e=dt.asn1,n=e.DERInteger,i=e.cms,r=e.x509.X500Name,s=Gt;i.IssuerAndSerialNumber.superclass.constructor.call(this);this.setByCertPEM=function(t){var e=It(t),i=new s;i.hex=e;var a=i.getIssuerHex();this.dIssuer=new r,this.dIssuer.hTLV=a;var o=i.getSerialNumberHex();this.dSerial=new n({hex:o})},this.getEncodedHex=function(){var t=new e.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),t.issuer&&t.serial&&(t.issuer instanceof r?this.dIssuer=t.issuer:this.dIssuer=new r(t.issuer),t.serial instanceof n?this.dSerial=t.serial:this.dSerial=new n(t.serial)),"string"==typeof t.cert&&this.setByCertPEM(t.cert))},r.lang.extend(dt.asn1.cms.IssuerAndSerialNumber,dt.asn1.ASN1Object),dt.asn1.cms.AttributeList=function(t){var e=dt.asn1,n=e.cms;n.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(t){t instanceof n.Attribute&&this.list.push(t)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new e.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},r.lang.extend(dt.asn1.cms.AttributeList,dt.asn1.ASN1Object),dt.asn1.cms.SignerInfo=function(t){var e=dt,n=e.asn1,i=n.DERTaggedObject,r=n.cms,s=r.AttributeList,a=r.ContentType,o=r.EncapsulatedContentInfo,u=r.MessageDigest,l=r.SignedData,c=n.x509.AlgorithmIdentifier,h=e.crypto,d=qt;r.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new n.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new s,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new s,this.setSignerIdentifier=function(t){if("string"==typeof t&&-1!=t.indexOf("CERTIFICATE")&&-1!=t.indexOf("BEGIN")&&-1!=t.indexOf("END")){this.dSignerIdentifier=new r.IssuerAndSerialNumber({cert:t})}},this.setForContentAndHash=function(t){void 0!==t&&(t.eciObj instanceof o&&(this.dSignedAttrs.add(new a({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new u({eciObj:t.eciObj,hashAlg:t.hashAlg}))),void 0!==t.sdObj&&t.sdObj instanceof l&&-1==t.sdObj.digestAlgNameList.join(":").indexOf(t.hashAlg)&&t.sdObj.digestAlgNameList.push(t.hashAlg),"string"==typeof t.hashAlg&&(this.dDigestAlgorithm=new c({name:t.hashAlg})))},this.sign=function(t,e){this.dSigAlg=new c({name:e});var i=this.dSignedAttrs.getEncodedHex(),r=d.getKey(t),s=new h.Signature({alg:e});s.init(r),s.updateHex(i);var a=s.sign();this.dSig=new n.DEROctetString({hex:a})},this.addUnsigned=function(t){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(t)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var t=new i({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),e=null;this.dUnsignedAttrs.length()>0&&(e=new i({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,t,this.dSigAlg,this.dSig];null!=e&&r.push(e);var a=new n.DERSequence({array:r});return this.hTLV=a.getEncodedHex(),this.hTLV}},r.lang.extend(dt.asn1.cms.SignerInfo,dt.asn1.ASN1Object),dt.asn1.cms.EncapsulatedContentInfo=function(t){var e=dt.asn1,n=e.DERTaggedObject,i=e.DERSequence,r=e.DERObjectIdentifier,s=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new r({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(t){t.match(/^[0-2][.][0-9.]+$/)?this.dEContentType=new r({oid:t}):this.dEContentType=new r({name:t})},this.setContentValue=function(t){void 0!==t&&("string"==typeof t.hex?this.eContentValueHex=t.hex:"string"==typeof t.str&&(this.eContentValueHex=Et(t.str)))},this.setContentValueHex=function(t){this.eContentValueHex=t},this.setContentValueStr=function(t){this.eContentValueHex=Et(t)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var t=new s({hex:this.eContentValueHex});this.dEContent=new n({obj:t,tag:"a0",explicit:!0});var e=[this.dEContentType];this.isDetached||e.push(this.dEContent);var r=new i({array:e});return this.hTLV=r.getEncodedHex(),this.hTLV}},r.lang.extend(dt.asn1.cms.EncapsulatedContentInfo,dt.asn1.ASN1Object),dt.asn1.cms.ContentInfo=function(t){var e=dt.asn1,n=e.DERTaggedObject,i=e.DERSequence,r=e.x509;dt.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(t){"string"==typeof t&&(this.dContentType=r.OID.name2obj(t))},this.getEncodedHex=function(){var t=new n({obj:this.dContent,tag:"a0",explicit:!0}),e=new i({array:[this.dContentType,t]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&(t.type&&this.setContentType(t.type),t.obj&&t.obj instanceof e.ASN1Object&&(this.dContent=t.obj))},r.lang.extend(dt.asn1.cms.ContentInfo,dt.asn1.ASN1Object),dt.asn1.cms.SignedData=function(t){var e=dt.asn1,n=e.ASN1Object,i=e.DERInteger,r=e.DERSet,s=e.DERSequence,a=e.DERTaggedObject,o=e.cms,u=o.EncapsulatedContentInfo,l=o.SignerInfo,c=o.ContentInfo,h=e.x509.AlgorithmIdentifier;dt.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new u,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new l],this.addCertificatesByPEM=function(t){var e=It(t),i=new n;i.hTLV=e,this.certificateList.push(i)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var t=[],e=0;e<this.digestAlgNameList.length;e++){var n=this.digestAlgNameList[e],i=new h({name:n});t.push(i)}this.dDigestAlgs=new r({array:t})}var o=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var u=new r({array:this.certificateList});this.dCerts=new a({obj:u,tag:"a0",explicit:!1})}null!=this.dCerts&&o.push(this.dCerts);var l=new r({array:this.signerInfoList});o.push(l);var c=new s({array:o});return this.hTLV=c.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Dt(this.getContentInfoEncodedHex(),"CMS")}},r.lang.extend(dt.asn1.cms.SignedData,dt.asn1.ASN1Object),dt.asn1.cms.CMSUtil=new function(){},dt.asn1.cms.CMSUtil.newSignedData=function(t){var e=dt.asn1,n=e.cms,i=n.SignerInfo,r=n.SignedData,s=n.SigningTime,a=n.SigningCertificate,o=n.SigningCertificateV2,u=e.cades.SignaturePolicyIdentifier,l=new r;if(l.dEncapContentInfo.setContentValue(t.content),"object"==typeof t.certs)for(var c=0;c<t.certs.length;c++)l.addCertificatesByPEM(t.certs[c]);l.signerInfoList=[];for(c=0;c<t.signerInfos.length;c++){var h=t.signerInfos[c],d=new i;for(attrName in d.setSignerIdentifier(h.signerCert),d.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:h.hashAlg}),h.sAttr){var f=h.sAttr[attrName];if("SigningTime"==attrName){var p=new s(f);d.dSignedAttrs.add(p)}if("SigningCertificate"==attrName){p=new a(f);d.dSignedAttrs.add(p)}if("SigningCertificateV2"==attrName){p=new o(f);d.dSignedAttrs.add(p)}if("SignaturePolicyIdentifier"==attrName){p=new u(f);d.dSignedAttrs.add(p)}}d.sign(h.signerPrvKey,h.sigAlg),l.signerInfoList.push(d)}return l},dt.asn1.cms.CMSUtil.verifySignedData=function(t){var e=dt,n=e.asn1,i=n.cms,r=(i.SignerInfo,i.SignedData,i.SigningTime,i.SigningCertificate,i.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,e.lang.String.isHex),s=gt,a=s.getVbyList,o=s.getTLVbyList,u=s.getIdxbyList,l=s.getChildIdx,c=s.getTLV,h=s.oidname,d=e.crypto.Util.hashHex;void 0===t.cms&&r(t.cms);var f=t.cms,p=function(t,e){var n=e.idx;e.signerid_issuer1=o(t,n,[1,0],"30"),e.signerid_serial1=a(t,n,[1,1],"02"),e.hashalg=h(a(t,n,[2,0],"06"));var i=u(t,n,[3],"a0");e.idxSignedAttrs=i,g(t,e,i);var r=l(t,n).length;if(r<6)throw"malformed SignerInfo";e.sigalg=h(a(t,n,[r-2,0],"06")),e.sigval=a(t,n,[r-1],"04")},g=function(t,e,n){var i=l(t,n);e.signedAttrIdxList=i;for(var r=0;r<i.length;r++){var s,o=i[r],u=a(t,o,[0],"06");"2a864886f70d010905"===u?(s=Ct(a(t,o,[1,0])),e.saSigningTime=s):"2a864886f70d010904"===u&&(s=a(t,o,[1,0],"04"),e.saMessageDigest=s)}},m=function(t,e,n,i){n.verifyDetail={};var r=n.verifyDetail,s=e.parse.econtent,a=n.hashalg,o=n.saMessageDigest;r.validMessageDigest=!1,d(s,a)===o&&(r.validMessageDigest=!0),function(t,e,n,i){var r,s=e.parse.certsIdx;if(void 0===e.certs){r=[],e.certkeys=[];for(var a=l(t,s),o=0;o<a.length;o++){var u=c(t,a[o]),h=new Gt;h.readCertHex(u),r[o]=h,e.certkeys[o]=h.getPublicKey()}e.certs=r}else r=e.certs;e.cccc=r.length,e.cccci=a.length;for(o=0;o<r.length;o++){var d=h.getIssuerHex(),f=h.getSerialNumberHex();n.signerid_issuer1===d&&n.signerid_serial1===f&&(n.certkey_idx=o)}}(t,e,n),r.validSignatureValue=!1;var u=n.sigalg,h="31"+c(t,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var f=e.certs[n.certkey_idx].getPublicKey(),p=new dt.crypto.Signature({alg:u});p.init(f),p.updateHex(h);var g=p.verify(n.sigval);r.validSignatureValue_isValid=g,!0===g&&(r.validSignatureValue=!0),n.isValid=!1,r.validMessageDigest&&r.validSignatureValue&&(n.isValid=!0)},v={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==a(t,0,[0],"06"))return e;e.cmsType="signedData",e.econtent=a(t,0,[1,0,2,1,0]),function(t,e){for(var n,i=3;i<6;i++)if(void 0!==(n=u(t,0,[1,0,i]))){var r=t.substr(n,2);"a0"===r&&(e.certsIdx=n),"a1"===r&&(e.revinfosIdx=n),"31"===r&&(e.signerinfosIdx=n)}}(t,e),e.signerInfos=[],function(t,e){var n=e.signerinfosIdx;if(void 0!==n){var i=l(t,n);e.signerInfoIdxList=i;for(var r=0;r<i.length;r++){var s={idx:i[r]};p(t,s),e.signerInfos.push(s)}}}(t,e)}(f,v.parse),function(t,e){for(var n=e.parse.signerInfos,i=n.length,r=!0,s=0;s<i;s++){var a=n[s];m(t,e,a,s),a.isValid||(r=!1)}e.isValid=r}(f,v),v},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.tsp&&dt.asn1.tsp||(dt.asn1.tsp={}),dt.asn1.tsp.Accuracy=function(t){var e=dt.asn1,n=e.DERInteger,i=e.DERSequence,r=e.DERTaggedObject;e.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var t=null,e=null,s=null,a=[];if(null!=this.seconds&&(t=new n({int:this.seconds}),a.push(t)),null!=this.millis){var o=new n({int:this.millis});e=new r({obj:o,tag:"80",explicit:!1}),a.push(e)}if(null!=this.micros){var u=new n({int:this.micros});s=new r({obj:u,tag:"81",explicit:!1}),a.push(s)}var l=new i({array:a});return this.hTLV=l.getEncodedHex(),this.hTLV},void 0!==t&&("number"==typeof t.seconds&&(this.seconds=t.seconds),"number"==typeof t.millis&&(this.millis=t.millis),"number"==typeof t.micros&&(this.micros=t.micros))},r.lang.extend(dt.asn1.tsp.Accuracy,dt.asn1.ASN1Object),dt.asn1.tsp.MessageImprint=function(t){var e=dt.asn1,n=e.DERSequence,i=e.DEROctetString,r=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new n({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==t&&("string"==typeof t.hashAlg&&(this.dHashAlg=new r({name:t.hashAlg})),"string"==typeof t.hashValue&&(this.dHashValue=new i({hex:t.hashValue})))},r.lang.extend(dt.asn1.tsp.MessageImprint,dt.asn1.ASN1Object),dt.asn1.tsp.TimeStampReq=function(t){var e=dt.asn1,n=e.DERSequence,i=e.DERInteger,r=e.DERBoolean,s=e.DERObjectIdentifier,a=e.tsp,o=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(t){t instanceof o?this.dMessageImprint=t:"object"==typeof t&&(this.dMessageImprint=new o(t))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var t=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&t.push(this.dPolicy),null!=this.dNonce&&t.push(this.dNonce),this.certReq&&t.push(new r);var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.mi&&this.setMessageImprint(t.mi),"object"==typeof t.policy&&(this.dPolicy=new s(t.policy)),"object"==typeof t.nonce&&(this.dNonce=new i(t.nonce)),"boolean"==typeof t.certreq&&(this.certReq=t.certreq))},r.lang.extend(dt.asn1.tsp.TimeStampReq,dt.asn1.ASN1Object),dt.asn1.tsp.TSTInfo=function(t){var e=dt.asn1,n=e.DERSequence,i=e.DERInteger,r=e.DERBoolean,s=e.DERGeneralizedTime,a=e.DERObjectIdentifier,o=e.tsp,u=o.MessageImprint,l=o.Accuracy,c=e.x509.X500Name;if(o.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(t.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(t.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(t.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new u(t.messageImprint)),void 0!==t.serialNumber&&(this.dSerialNumber=new i(t.serialNumber)),void 0!==t.genTime&&(this.dGenTime=new s(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new l(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new r),void 0!==t.nonce&&(this.dNonce=new i(t.nonce)),void 0!==t.tsa&&(this.dTsa=new c(t.tsa))}},r.lang.extend(dt.asn1.tsp.TSTInfo,dt.asn1.ASN1Object),dt.asn1.tsp.TimeStampResp=function(t){var e=dt.asn1,n=e.DERSequence,i=e.ASN1Object,r=e.tsp,s=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dTST&&t.push(this.dTST);var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new s(t.status)),void 0!==t.tst&&t.tst instanceof i&&(this.dTST=t.tst.getContentInfo()))},r.lang.extend(dt.asn1.tsp.TimeStampResp,dt.asn1.ASN1Object),dt.asn1.tsp.PKIStatusInfo=function(t){var e=dt.asn1,n=e.DERSequence,i=e.tsp,r=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dStatusString&&t.push(this.dStatusString),null!=this.dFailureInfo&&t.push(this.dFailureInfo);var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new r(t.status)),"object"==typeof t.statstr&&(this.dStatusString=new s({array:t.statstr})),"object"==typeof t.failinfo&&(this.dFailureInfo=new a(t.failinfo)))},r.lang.extend(dt.asn1.tsp.PKIStatusInfo,dt.asn1.ASN1Object),dt.asn1.tsp.PKIStatus=function(t){var e=dt.asn1,n=e.DERInteger,i=e.tsp,r=i.PKIStatus;i.PKIStatus.superclass.constructor.call(this);if(this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==t)if(void 0!==t.name){var s=r.valueList;if(void 0===s[t.name])throw"name undefined: "+t.name;this.dStatus=new n({int:s[t.name]})}else this.dStatus=new n(t)},r.lang.extend(dt.asn1.tsp.PKIStatus,dt.asn1.ASN1Object),dt.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},dt.asn1.tsp.PKIFreeText=function(t){var e=dt.asn1,n=e.DERSequence,i=e.DERUTF8String;e.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var t=[],e=0;e<this.textList.length;e++)t.push(new i({str:this.textList[e]}));var r=new n({array:t});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==t&&"object"==typeof t.array&&(this.textList=t.array)},r.lang.extend(dt.asn1.tsp.PKIFreeText,dt.asn1.ASN1Object),dt.asn1.tsp.PKIFailureInfo=function(t){var e=dt.asn1,n=e.DERBitString,i=e.tsp.PKIFailureInfo;if(i.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var t=new Number(this.value).toString(2),e=new n;return e.setByBinaryString(t),this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t)if("string"==typeof t.name){var r=i.valueList;if(void 0===r[t.name])throw"name undefined: "+t.name;this.value=r[t.name]}else"number"==typeof t.int&&(this.value=t.int)},r.lang.extend(dt.asn1.tsp.PKIFailureInfo,dt.asn1.ASN1Object),dt.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},dt.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},dt.asn1.tsp.SimpleTSAAdapter=function(t){var e=dt,n=e.asn1.tsp,i=e.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var r=i(t,e);this.params.tstInfo.messageImprint={hashAlg:e,hashValue:r},this.params.tstInfo.serialNumber={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:s},n.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},r.lang.extend(dt.asn1.tsp.SimpleTSAAdapter,dt.asn1.tsp.AbstractTSAAdapter),dt.asn1.tsp.FixedTSAAdapter=function(t){var e=dt,n=e.asn1.tsp,i=e.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var r=i(t,e);return this.params.tstInfo.messageImprint={hashAlg:e,hashValue:r},n.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},r.lang.extend(dt.asn1.tsp.FixedTSAAdapter,dt.asn1.tsp.AbstractTSAAdapter),dt.asn1.tsp.TSPUtil=new function(){},dt.asn1.tsp.TSPUtil.newTimeStampToken=function(t){var e=dt.asn1,n=e.cms,i=(e.tsp,e.tsp.TSTInfo),r=new n.SignedData,s=new i(t.tstInfo).getEncodedHex();if(r.dEncapContentInfo.setContentValue({hex:s}),r.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof t.certs)for(var a=0;a<t.certs.length;a++)r.addCertificatesByPEM(t.certs[a]);var o=r.signerInfoList[0];o.setSignerIdentifier(t.signerCert),o.setForContentAndHash({sdObj:r,eciObj:r.dEncapContentInfo,hashAlg:t.hashAlg});var u=new n.SigningCertificate({array:[t.signerCert]});return o.dSignedAttrs.add(u),o.sign(t.signerPrvKey,t.sigAlg),r},dt.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){var e=gt,n=e.getChildIdx,i=e.getV,r=e.getTLV,s={certreq:!1},a=n(t,0);if(a.length<2)throw"TimeStampReq must have at least 2 items";var o=r(t,a[1]);s.mi=dt.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var u=2;u<a.length;u++){var l=a[u],c=t.substr(l,2);if("06"==c){var h=i(t,l);s.policy=e.hextooidstr(h)}"02"==c&&(s.nonce=i(t,l)),"01"==c&&(s.certreq=!0)}return s},dt.asn1.tsp.TSPUtil.parseMessageImprint=function(t){var e=gt,n=e.getChildIdx,i=e.getV,r=e.getIdxbyList,s={};if("30"!=t.substr(0,2))throw"head of messageImprint hex shall be '30'";n(t,0);var a=i(t,r(t,0,[0,0])),o=e.hextooidstr(a),u=dt.asn1.x509.OID.oid2name(o);if(""==u)throw"hashAlg name undefined: "+o;var l=u,c=r(t,0,[1]);return s.hashAlg=l,s.hashValue=i(t,c),s},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.cades&&dt.asn1.cades||(dt.asn1.cades={}),dt.asn1.cades.SignaturePolicyIdentifier=function(t){var e=dt.asn1,n=e.DERObjectIdentifier,i=e.DERSequence,r=e.cades,s=r.OtherHashAlgAndValue;if(r.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==t&&"string"==typeof t.oid&&"object"==typeof t.hash){var a=new i({array:[new n({oid:t.oid}),new s(t.hash)]});this.valueList=[a]}},r.lang.extend(dt.asn1.cades.SignaturePolicyIdentifier,dt.asn1.cms.Attribute),dt.asn1.cades.OtherHashAlgAndValue=function(t){var e=dt.asn1,n=e.DERSequence,i=e.DEROctetString,r=e.x509.AlgorithmIdentifier;e.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var t=new n({array:[this.dAlg,this.dHash]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&"string"==typeof t.alg&&"string"==typeof t.hash&&(this.dAlg=new r({name:t.alg}),this.dHash=new i({hex:t.hash}))},r.lang.extend(dt.asn1.cades.OtherHashAlgAndValue,dt.asn1.ASN1Object),dt.asn1.cades.SignatureTimeStamp=function(t){var e=dt.asn1,n=e.ASN1Object;e.x509;if(e.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==t){if(void 0!==t.res)if("string"==typeof t.res&&t.res.match(/^[0-9A-Fa-f]+$/));else if(!(t.res instanceof n))throw"res param shall be ASN1Object or hex string";if(void 0!==t.tst)if("string"==typeof t.tst&&t.tst.match(/^[0-9A-Fa-f]+$/)){var i=new n;this.tstHex=t.tst,i.hTLV=this.tstHex,i.getEncodedHex(),this.valueList=[i]}else if(!(t.tst instanceof n))throw"tst param shall be ASN1Object or hex string"}},r.lang.extend(dt.asn1.cades.SignatureTimeStamp,dt.asn1.cms.Attribute),dt.asn1.cades.CompleteCertificateRefs=function(t){var e=dt.asn1.cades;e.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(t){this.valueList=[];for(var n=0;n<t.length;n++){var i=new e.OtherCertID(t[n]);this.valueList.push(i)}},void 0!==t&&"object"==typeof t&&"number"==typeof t.length&&this.setByArray(t)},r.lang.extend(dt.asn1.cades.CompleteCertificateRefs,dt.asn1.cms.Attribute),dt.asn1.cades.OtherCertID=function(t){var e=dt.asn1,n=e.cms,i=e.cades;i.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(t){this.dOtherCertHash=new i.OtherHash(t),this.hasIssuerSerial&&(this.dIssuerSerial=new n.IssuerAndSerialNumber(t))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var t=[this.dOtherCertHash];null!=this.dIssuerSerial&&t.push(this.dIssuerSerial);var n=new e.DERSequence({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),"object"==typeof t&&(!1===t.hasis&&(this.hasIssuerSerial=!1),"string"==typeof t.cert&&this.setByCertPEM(t.cert)))},r.lang.extend(dt.asn1.cades.OtherCertID,dt.asn1.ASN1Object),dt.asn1.cades.OtherHash=function(t){var e=dt,n=e.asn1,i=(n.cms,n.cades),r=i.OtherHashAlgAndValue,s=e.crypto.Util.hashHex;if(i.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(t){if(-1==t.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var e=It(t),n=s(e,this.alg);this.dOtherHash=new r({alg:this.alg,hash:n})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==t)if("string"==typeof t)if(-1!=t.indexOf("-----BEGIN "))this.setByCertPEM(t);else{if(!t.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new n.DEROctetString({hex:t})}else"object"==typeof t&&("string"==typeof t.cert?("string"==typeof t.alg&&(this.alg=t.alg),this.setByCertPEM(t.cert)):this.dOtherHash=new r(t))},r.lang.extend(dt.asn1.cades.OtherHash,dt.asn1.ASN1Object),dt.asn1.cades.CAdESUtil=new function(){},dt.asn1.cades.CAdESUtil.addSigTS=function(t,e,n){},dt.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){var e=gt,n=e.getChildIdx,i=e.getTLV,r=e.getTLVbyList,s=e.getIdxbyList,a=dt.asn1,o=a.ASN1Object,u=a.cms.SignedData,l=a.cades.CAdESUtil,c={};if("06092a864886f70d010702"!=r(t,0,[0]))throw"hex is not CMS SignedData";var h=n(t,s(t,0,[1,0]));if(h.length<4)throw"num of SignedData elem shall be 4 at least";var d=h.shift();c.version=i(t,d);var f=h.shift();c.algs=i(t,f);var p=h.shift();c.encapcontent=i(t,p),c.certs=null,c.revs=null,c.si=[];var g=h.shift();"a0"==t.substr(g,2)&&(c.certs=i(t,g),g=h.shift()),"a1"==t.substr(g,2)&&(c.revs=i(t,g),g=h.shift());var m=g;if("31"!=t.substr(m,2))throw"Can't find signerInfos";for(var v=n(t,m),y=0;y<v.length;y++){var b=v[y],_=l.parseSignerInfoForAddingUnsigned(t,b,y);c.si[y]=_}var T=null;c.obj=new u,(T=new o).hTLV=c.version,c.obj.dCMSVersion=T,(T=new o).hTLV=c.algs,c.obj.dDigestAlgs=T,(T=new o).hTLV=c.encapcontent,c.obj.dEncapContentInfo=T,(T=new o).hTLV=c.certs,c.obj.dCerts=T,c.obj.signerInfoList=[];for(y=0;y<c.si.length;y++)c.obj.signerInfoList.push(c.si[y].obj);return c},dt.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,n){var i=gt,r=i.getChildIdx,s=i.getTLV,a=i.getV,o=dt.asn1,u=o.ASN1Object,l=o.cms,c=l.AttributeList,h=l.SignerInfo,d={},f=r(t,e);if(6!=f.length)throw"not supported items for SignerInfo (!=6)";var p=f.shift();d.version=s(t,p);var g=f.shift();d.si=s(t,g);var m=f.shift();d.digalg=s(t,m);var v=f.shift();d.sattrs=s(t,v);var y=f.shift();d.sigalg=s(t,y);var b=f.shift();d.sig=s(t,b),d.sigval=a(t,b);var _=null;return d.obj=new h,(_=new u).hTLV=d.version,d.obj.dCMSVersion=_,(_=new u).hTLV=d.si,d.obj.dSignerIdentifier=_,(_=new u).hTLV=d.digalg,d.obj.dDigestAlgorithm=_,(_=new u).hTLV=d.sattrs,d.obj.dSignedAttrs=_,(_=new u).hTLV=d.sigalg,d.obj.dSigAlg=_,(_=new u).hTLV=d.sig,d.obj.dSig=_,d.obj.dUnsignedAttrs=new c,d},void 0!==dt.asn1.csr&&dt.asn1.csr||(dt.asn1.csr={}),dt.asn1.csr.CertificationRequest=function(t){var e=dt,n=e.asn1,i=n.DERBitString,r=n.DERSequence,s=n.csr,a=n.x509;s.CertificationRequest.superclass.constructor.call(this);this.sign=function(t,n){null==this.prvKey&&(this.prvKey=n),this.asn1SignatureAlg=new a.AlgorithmIdentifier({name:t}),sig=new e.crypto.Signature({alg:t}),sig.init(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var s=new r({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=s.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Dt(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==t&&void 0!==t.csrinfo&&(this.asn1CSRInfo=t.csrinfo)},r.lang.extend(dt.asn1.csr.CertificationRequest,dt.asn1.ASN1Object),dt.asn1.csr.CertificationRequestInfo=function(t){var e=dt.asn1,n=e.DERInteger,i=e.DERSequence,r=e.DERSet,s=e.DERNull,a=e.DERTaggedObject,o=e.DERObjectIdentifier,u=e.csr,l=e.x509,c=l.X500Name,h=l.Extension,d=qt;u.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new n({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(t){this.asn1Subject=new c(t)},this.setSubjectPublicKeyByGetKey=function(t){var e=d.getKey(t);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(e)},this.appendExtensionByName=function(t,e){h.appendByNameToArray(t,e,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new i({array:this.extensionsArray}),e=new r({array:[t]}),n=new i({array:[new o({oid:"1.2.840.113549.1.9.14"}),e]}),u=new a({explicit:!0,tag:"a0",obj:n});this.asn1Array.push(u)}else{u=new a({explicit:!1,tag:"a0",obj:new s});this.asn1Array.push(u)}var l=new i({array:this.asn1Array});return this.hTLV=l.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},r.lang.extend(dt.asn1.csr.CertificationRequestInfo,dt.asn1.ASN1Object),dt.asn1.csr.CSRUtil=new function(){},dt.asn1.csr.CSRUtil.newCSRPEM=function(t){var e=qt,n=dt.asn1.csr;if(void 0===t.subject)throw"parameter subject undefined";if(void 0===t.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===t.sigalg)throw"parameter sigalg undefined";if(void 0===t.sbjprvkey)throw"parameter sbjpubkey undefined";var i=new n.CertificationRequestInfo;if(i.setSubjectByParam(t.subject),i.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var r=0;r<t.ext.length;r++)for(key in t.ext[r])i.appendExtensionByName(key,t.ext[r][key]);var s=new n.CertificationRequest({csrinfo:i}),a=e.getKey(t.sbjprvkey);return s.sign(t.sigalg,a),s.getPEMString()},dt.asn1.csr.CSRUtil.getInfo=function(t){var e=gt.getTLVbyList,n={subject:{},pubkey:{}};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var i=It(t,"CERTIFICATE REQUEST");return n.subject.hex=e(i,0,[0,1]),n.subject.name=Gt.hex2dn(n.subject.hex),n.pubkey.hex=e(i,0,[0,2]),n.pubkey.obj=qt.getKey(n.pubkey.hex,null,"pkcs8pub"),n},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.ocsp&&dt.asn1.ocsp||(dt.asn1.ocsp={}),dt.asn1.ocsp.DEFAULT_HASH="sha1",dt.asn1.ocsp.CertID=function(t){var e=dt,n=e.asn1,i=n.DEROctetString,r=n.DERInteger,s=n.DERSequence,a=n.x509.AlgorithmIdentifier,o=n.ocsp,u=o.DEFAULT_HASH,l=e.crypto.Util.hashHex,c=Gt,h=gt;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(t,e,n,s){void 0===s&&(s=u),this.dHashAlg=new a({name:s}),this.dIssuerNameHash=new i({hex:t}),this.dIssuerKeyHash=new i({hex:e}),this.dSerialNumber=new r({hex:n})},this.setByCert=function(t,e,n){void 0===n&&(n=u);var i=new c;i.readCertPEM(e);var r=new c;r.readCertPEM(t);var s=r.getPublicKeyHex(),a=h.getTLVbyList(s,0,[1,0],"30"),o=i.getSerialNumberHex(),d=l(r.getSubjectHex(),n),f=l(a,n);this.setByValue(d,f,o,n),this.hoge=i.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var t=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],e=new s({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){var d=t;if(void 0!==d.issuerCert&&void 0!==d.subjectCert){var f=u;void 0===d.alg&&(f=void 0),this.setByCert(d.issuerCert,d.subjectCert,f)}else{if(void 0===d.namehash||void 0===d.keyhash||void 0===d.serial)throw"invalid constructor arguments";f=u;void 0===d.alg&&(f=void 0),this.setByValue(d.namehash,d.keyhash,d.serial,f)}}},r.lang.extend(dt.asn1.ocsp.CertID,dt.asn1.ASN1Object),dt.asn1.ocsp.Request=function(t){var e=dt.asn1,n=e.DERSequence,i=e.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t){var r=new i.CertID(t);this.dReqCert=r}},r.lang.extend(dt.asn1.ocsp.Request,dt.asn1.ASN1Object),dt.asn1.ocsp.TBSRequest=function(t){var e=dt.asn1,n=e.DERSequence,i=e.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],n=0;n<t.length;n++){var r=new i.Request(t[0]);e.push(r)}this.dRequestList=e},this.getEncodedHex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new n({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var i=new n({array:t});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},r.lang.extend(dt.asn1.ocsp.TBSRequest,dt.asn1.ASN1Object),dt.asn1.ocsp.OCSPRequest=function(t){var e=dt.asn1,n=e.DERSequence,i=e.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new n({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList){var r=new i.TBSRequest(t);this.dTbsRequest=r}},r.lang.extend(dt.asn1.ocsp.OCSPRequest,dt.asn1.ASN1Object),dt.asn1.ocsp.OCSPUtil={},dt.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,n){var i=dt.asn1.ocsp;void 0===n&&(n=i.DEFAULT_HASH);var r={alg:n,issuerCert:t,subjectCert:e};return new i.OCSPRequest({reqList:[r]}).getEncodedHex()},dt.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=gt,n=e.getVbyList,i=e.getIdxbyList,r=(n=e.getVbyList,e.getV),s={};try{var a=n(t,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(t){}if(0!==s.responseStatus)return s;try{var o=i(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(o,2)?s.certStatus="good":"a1"===t.substr(o,2)?(s.certStatus="revoked",s.revocationTime=Ct(n(t,o,[0]))):"82"===t.substr(o,2)&&(s.certStatus="unknown")}catch(t){}try{var u=i(t,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=Ct(r(t,u))}catch(t){}try{var l=i(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(l,2)&&(s.nextUpdate=Ct(n(t,l,[0])))}catch(t){}return s},void 0!==dt&&dt||(dt={}),void 0!==dt.lang&&dt.lang||(dt.lang={}),dt.lang.String=function(){},"function"==typeof t?(ft=function(e){return _t(new t(e,"utf8").toString("base64"))},pt=function(e){return new t(Tt(e),"base64").toString("utf8")}):(ft=function(t){return St(Ft(Ut(t)))},pt=function(t){return decodeURIComponent(Bt(wt(t)))}),dt.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},dt.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},dt.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},dt.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=Tt(t),dt.lang.String.isBase64(t))},dt.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)};void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var i=this.getDigestInfoHex(t,e),r=n/4;if(i.length+22>r)throw"key is too short for SigAlg: keylen="+n+","+e;for(var s="0001",a="00"+i,o="",u=r-s.length-a.length,l=0;l<u;l+=2)o+="ff";return s+o+a},this.hashString=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return new dt.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new dt.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new dt.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new dt.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new dt.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)}},dt.crypto.Util.md5=function(t){return new dt.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.ripemd160=function(t){return new dt.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.SECURERANDOMGEN=new it,dt.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(e),yt(e)},dt.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new w(dt.crypto.Util.getRandomHexOfNbytes(t),16)},dt.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,n=new Array((t-e)/8+1);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<e&255^255)&n[0],yt(n)},dt.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new w(dt.crypto.Util.getRandomHexOfNbits(t),16)},dt.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var n=dt.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(n))return n}},dt.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var n=t.compareTo(e);if(1==n)throw"biMin is greater than biMax";if(0==n)return t;var i=e.subtract(t);return dt.crypto.Util.getRandomBigIntegerZeroToMax(i).add(t)},dt.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=dt.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=m.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},dt.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},dt.crypto.MessageDigest.getHashLength=function(t){var e=dt.crypto.MessageDigest,n=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[n])throw"not supported algorithm: "+t;return e.HASHLENGTH[n]},dt.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},dt.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{var i=dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=m.algo.HMAC.create(i,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=m.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=xt(t)),void(this.pass=m.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Et(t.utf8)),void 0!==t.rstr&&(e=xt(t.rstr)),void 0!==t.b64&&(e=T(t.b64)),void 0!==t.b64u&&(e=wt(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=m.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},dt.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var n="",i=e/4-t.length,r=0;r<i;r++)n+="0";return n+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new dt.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,e){var n=null;try{n=void 0===e?qt.getKey(t):qt.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new dt.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof at&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof at&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof dt.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof dt.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new dt.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof at&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof at&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.ECDSA&&this.pubKey instanceof dt.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.DSA&&this.pubKey instanceof dt.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=qt.getKey(t.prvkeypem);this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},dt.crypto.Cipher=function(t){},dt.crypto.Cipher.encrypt=function(t,e,n){if(e instanceof at&&e.isPublic){var i=dt.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===i)return e.encrypt(t);if("RSAOAEP"===i)return e.encryptOAEP(t,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(null!==r)return e.encryptOAEP(t,"sha"+r[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},dt.crypto.Cipher.decrypt=function(t,e,n){if(e instanceof at&&e.isPrivate){var i=dt.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===i)return e.decrypt(t);if("RSAOAEP"===i)return e.decryptOAEP(t,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(null!==r)return e.decryptOAEP(t,"sha"+r[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},dt.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof at){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null===e||void 0===e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},dt.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECDSA=function(t){var e=new it;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new w(t.bitLength(),e).mod(t.subtract(w.ONE)).add(w.ONE)},this.setNamedCurve=function(t){this.ecparams=dt.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw"malformed public key hex length";var n={};return n.x=t.substr(2,e),n.y=t.substr(2+e),n},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),n=this.ecparams.G.multiply(e),i=n.getX().toBigInteger(),r=n.getY().toBigInteger(),s=this.ecparams.keylen/4,a=("0000000000"+e.toString(16)).slice(-s),o="04"+("0000000000"+i.toString(16)).slice(-s)+("0000000000"+r.toString(16)).slice(-s);return this.setPrivateKeyHex(a),this.setPublicKeyHex(o),{ecprvhex:a,ecpubhex:o}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new w(e,16),i=this.ecparams.n,r=new w(t,16);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var o=s.modInverse(i).multiply(r.add(n.multiply(a))).mod(i);return dt.crypto.ECDSA.biRSSigToASN1Sig(a,o)},this.sign=function(t,e){var n=e,i=this.ecparams.n,r=w.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var o=s.modInverse(i).multiply(r.add(n.multiply(a))).mod(i);return this.serializeSig(a,o)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,n){var i,r,s,a=dt.crypto.ECDSA.parseSigHex(e);i=a.r,r=a.s,s=lt.decodeFromHex(this.ecparams.curve,n);var o=new w(t,16);return this.verifyRaw(o,i,r,s)},this.verify=function(t,e,n){var i,r,s;if(Bitcoin.Util.isArray(e)){var a=this.parseSig(e);i=a.r,r=a.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";i=e.r,r=e.s}if(n instanceof lt)s=n;else{if(!Bitcoin.Util.isArray(n))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=lt.decodeFrom(this.ecparams.curve,n)}var o=w.fromByteArrayUnsigned(t);return this.verifyRaw(o,i,r,s)},this.verifyRaw=function(t,e,n,i){var r=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(w.ONE)<0||e.compareTo(r)>=0)return!1;if(n.compareTo(w.ONE)<0||n.compareTo(r)>=0)return!1;var a=n.modInverse(r),o=t.multiply(a).mod(r),u=e.multiply(a).mod(r);return s.multiply(o).add(i.multiply(u)).getX().toBigInteger().mod(r).equals(e)},this.serializeSig=function(t,e){var n=t.toByteArraySigned(),i=e.toByteArraySigned(),r=[];return r.push(2),r.push(n.length),(r=r.concat(n)).push(2),r.push(i.length),(r=r.concat(i)).unshift(r.length),r.unshift(48),r},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var i=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:w.fromByteArrayUnsigned(n),s:w.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:w.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:w.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){var e,n,i,r=gt,s=dt.crypto.ECDSA.getName,a=r.getVbyList;if(!1===r.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[2,0],"06"),n=a(t,0,[1],"04");try{i=a(t,0,[3,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=s(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var e,n,i,r=gt,s=dt.crypto.ECDSA.getName,a=r.getVbyList;if(!1===r.isASN1HEX(t))throw"not ASN.1 hex string";try{a(t,0,[1,0],"06"),e=a(t,0,[1,1],"06"),n=a(t,0,[2,0,1],"04");try{i=a(t,0,[2,0,2,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=s(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var e,n,i=gt,r=dt.crypto.ECDSA.getName,s=i.getVbyList;if(!1===i.isASN1HEX(t))throw"not ASN.1 hex string";try{s(t,0,[0,0],"06"),e=s(t,0,[0,1],"06"),n=s(t,0,[1],"03").substr(2)}catch(t){throw"malformed PKCS#8 ECC public key"}if(this.curveName=r(e),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,e){5!==e&&(e=6);var n,i,r=gt,s=dt.crypto.ECDSA.getName,a=r.getVbyList;if(!1===r.isASN1HEX(t))throw"not ASN.1 hex string";try{n=a(t,0,[0,e,0,1],"06"),i=a(t,0,[0,e,1],"03").substr(2)}catch(t){throw"malformed X.509 certificate ECC public key"}if(this.curveName=s(n),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},dt.crypto.ECDSA.parseSigHex=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new w(e.r,16),s:new w(e.s,16)}},dt.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=gt,n=e.getChildIdx,i=e.getV;if("30"!=t.substr(0,2))throw"signature is not a ASN.1 sequence";var r=n(t,0);if(2!=r.length)throw"number of signature ASN.1 sequence elements seem wrong";var s=r[0],a=r[1];if("02"!=t.substr(s,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=t.substr(a,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:i(t,s),s:i(t,a)}},dt.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t),n=e.r,i=e.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),n.length%32==30&&(n="00"+n),i.length%32==30&&(i="00"+i),n.length%32!=0)throw"unknown ECDSA sig r length error";if(i.length%32!=0)throw"unknown ECDSA sig s length error";return n+i},dt.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=t.substr(0,t.length/2),n=t.substr(t.length/2);return dt.crypto.ECDSA.hexRSSigToASN1Sig(e,n)},dt.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var n=new w(t,16),i=new w(e,16);return dt.crypto.ECDSA.biRSSigToASN1Sig(n,i)},dt.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var n=dt.asn1,i=new n.DERInteger({bigint:t}),r=new n.DERInteger({bigint:e});return new n.DERSequence({array:[i,r]}).getEncodedHex()},dt.crypto.ECDSA.getName=function(t){return"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECParameterDB=new function(){var t={},e={};function n(t){return new w(t,16)}this.getByName=function(n){var i=n;if(void 0!==e[i]&&(i=e[n]),void 0!==t[i])return t[i];throw"unregistered EC curve name: "+i},this.regist=function(i,r,s,a,o,u,l,c,h,d,f,p){t[i]={};var g=n(s),m=n(a),v=n(o),y=n(u),b=n(l),_=new ct(g,m,v),T=_.decodePointHex("04"+c+h);t[i].name=i,t[i].keylen=r,t[i].curve=_,t[i].G=T,t[i].n=y,t[i].h=b,t[i].oid=f,t[i].info=p;for(var S=0;S<d.length;S++)e[d[S]]=i}},dt.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),dt.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),dt.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),dt.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),dt.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),dt.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),dt.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),dt.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.DSA=function(){this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,n,i,r){this.isPrivate=!0,this.p=t,this.q=e,this.g=n,this.y=i,this.x=r},this.setPrivateHex=function(t,e,n,i,r){var s,a,o,u,l;s=new w(t,16),a=new w(e,16),o=new w(n,16),u="string"==typeof i&&i.length>1?new w(i,16):null,l=new w(r,16),this.setPrivate(s,a,o,u,l)},this.setPublic=function(t,e,n,i){this.isPublic=!0,this.p=t,this.q=e,this.g=n,this.y=i,this.x=null},this.setPublicHex=function(t,e,n,i){var r,s,a,o;r=new w(t,16),s=new w(e,16),a=new w(n,16),o=new w(i,16),this.setPublic(r,s,a,o)},this.signWithMessageHash=function(t){var e=this.p,n=this.q,i=this.g,r=(this.y,this.x),s=dt.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),a=new w(t.substr(0,n.bitLength()/4),16),o=i.modPow(s,e).mod(n),u=s.modInverse(n).multiply(a.add(r.multiply(o))).mod(n);return dt.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:o}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(t,e){var n=this.p,i=this.q,r=this.g,s=this.y,a=this.parseASN1Signature(e),o=a[0],u=a[1],l=new w(t.substr(0,i.bitLength()/4),16);if(w.ZERO.compareTo(o)>0||o.compareTo(i)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(u)>=0||u.compareTo(i)>0)throw"invalid DSA signature";var c=u.modInverse(i),h=l.multiply(c).mod(i),d=o.multiply(c).mod(i);return 0==r.modPow(h,n).multiply(s.modPow(d,n)).mod(n).mod(i).compareTo(o)},this.parseASN1Signature=function(t){try{return[new w(gt.getVbyList(t,0,[0],"02"),16),new w(gt.getVbyList(t,0,[1],"02"),16)]}catch(t){throw"malformed ASN.1 DSA signature"}},this.readPKCS5PrvKeyHex=function(t){var e,n,i,r,s,a=gt,o=a.getVbyList;if(!1===a.isASN1HEX(t))throw"not ASN.1 hex string";try{e=o(t,0,[1],"02"),n=o(t,0,[2],"02"),i=o(t,0,[3],"02"),r=o(t,0,[4],"02"),s=o(t,0,[5],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(e,n,i,r,s)},this.readPKCS8PrvKeyHex=function(t){var e,n,i,r,s=gt,a=s.getVbyList;if(!1===s.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[1,1,0],"02"),n=a(t,0,[1,1,1],"02"),i=a(t,0,[1,1,2],"02"),r=a(t,0,[2,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(e,n,i,null,r)},this.readPKCS8PubKeyHex=function(t){var e,n,i,r,s=gt,a=s.getVbyList;if(!1===s.isASN1HEX(t))throw"not ASN.1 hex string";try{e=a(t,0,[0,1,0],"02"),n=a(t,0,[0,1,1],"02"),i=a(t,0,[0,1,2],"02"),r=a(t,0,[1,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#8 DSA public key"}this.setPublicHex(e,n,i,r)},this.readCertPubKeyHex=function(t,e){var n,i,r,s;5!==e&&(e=6);var a=gt,o=a.getVbyList;if(!1===a.isASN1HEX(t))throw"not ASN.1 hex string";try{n=o(t,0,[0,e,0,1,0],"02"),i=o(t,0,[0,e,0,1,1],"02"),r=o(t,0,[0,e,0,1,2],"02"),s=o(t,0,[0,e,1,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed X.509 certificate DSA public key"}this.setPublicHex(n,i,r,s)}};var qt=function(){var t=function(t,n,i){return e(m.AES,t,n,i)},e=function(t,e,n,i){var r=m.enc.Hex.parse(e),s=m.enc.Hex.parse(n),a=m.enc.Hex.parse(i),o={};o.key=s,o.iv=a,o.ciphertext=r;var u=t.decrypt(o,s,{iv:a});return m.enc.Hex.stringify(u)},n=function(t,e,n){return i(m.AES,t,e,n)},i=function(t,e,n,i){var r=m.enc.Hex.parse(e),s=m.enc.Hex.parse(n),a=m.enc.Hex.parse(i),o=t.encrypt(r,s,{iv:a}),u=m.enc.Hex.parse(o.toString());return m.enc.Base64.stringify(u)},r={"AES-256-CBC":{proc:t,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,n,i){return e(m.TripleDES,t,n,i)},eproc:function(t,e,n){return i(m.TripleDES,t,e,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,n,i){return e(m.DES,t,n,i)},eproc:function(t,e,n){return i(m.DES,t,e,n)},keylen:8,ivlen:8}},s=function(t){var e={},n=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(e.cipher=n[1],e.ivsalt=n[2]);var i=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));i&&(e.type=i[1]);var r=-1,s=0;-1!=t.indexOf("\r\n\r\n")&&(r=t.indexOf("\r\n\r\n"),s=2),-1!=t.indexOf("\n\n")&&(r=t.indexOf("\n\n"),s=1);var a=t.indexOf("-----END");if(-1!=r&&-1!=a){var o=t.substring(r+2*s,a-s);o=o.replace(/\s+/g,""),e.data=o}return e},a=function(t,e,n){for(var i=n.substring(0,16),s=m.enc.Hex.parse(i),a=m.enc.Utf8.parse(e),o=r[t].keylen+r[t].ivlen,u="",l=null;;){var c=m.algo.MD5.create();if(null!=l&&c.update(l),c.update(a),c.update(s),l=c.finalize(),(u+=m.enc.Hex.stringify(l)).length>=2*o)break}var h={};return h.keyhex=u.substr(0,2*r[t].keylen),h.ivhex=u.substr(2*r[t].keylen,2*r[t].ivlen),h},o=function(t,e,n,i){var s=m.enc.Base64.parse(t),a=m.enc.Hex.stringify(s);return(0,r[e].proc)(a,n,i)};return{version:"1.0.0",parsePKCS5PEM:function(t){return s(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return a(t,e,n)},decryptKeyB64:function(t,e,n,i){return o(t,e,n,i)},getDecryptedKeyHex:function(t,e){var n=s(t),i=(n.type,n.cipher),r=n.ivsalt,u=n.data,l=a(i,e,r).keyhex;return o(u,i,l,r)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,i,s){var o="";if(void 0!==i&&null!=i||(i="AES-256-CBC"),void 0===r[i])throw"KEYUTIL unsupported algorithm: "+i;void 0!==s&&null!=s||(s=function(t){var e=m.lib.WordArray.random(t);return m.enc.Hex.stringify(e)}(r[i].ivlen).toUpperCase());var u=function(t,e,n,i){return(0,r[e].eproc)(t,n,i)}(e,i,a(i,n,s).keyhex,s);o="-----BEGIN "+t+" PRIVATE KEY-----\r\n";return o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+i+","+s+"\r\n",o+="\r\n",o+=u.replace(/(.{64})/g,"$1\r\n"),o+="\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var e=gt,n=e.getChildIdx,i=e.getV,r={},s=n(t,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;r.ciphertext=i(t,s[1]);var a=n(t,s[0]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+a.length;if("2a864886f70d01050d"!=i(t,a[0]))throw"this only supports pkcs5PBES2";var o=n(t,a[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var u=n(t,o[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=i(t,u[0]))throw"this only supports TripleDES";r.encryptionSchemeAlg="TripleDES",r.encryptionSchemeIV=i(t,u[1]);var l=n(t,o[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(t,l[0]))throw"this only supports pkcs5PBKDF2";var c=n(t,l[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;r.pbkdf2Salt=i(t,c[0]);var h=i(t,c[1]);try{r.pbkdf2Iter=parseInt(h,16)}catch(t){throw"malformed format pbkdf2Iter: "+h}return r},getPBKDF2KeyHexFromParam:function(t,e){var n=m.enc.Hex.parse(t.pbkdf2Salt),i=t.pbkdf2Iter,r=m.PBKDF2(e,n,{keySize:6,iterations:i});return m.enc.Hex.stringify(r)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=It(t,"ENCRYPTED PRIVATE KEY"),i=this.parseHexOfEncryptedPKCS8(n),r=qt.getPBKDF2KeyHexFromParam(i,e),s={};s.ciphertext=m.enc.Hex.parse(i.ciphertext);var a=m.enc.Hex.parse(r),o=m.enc.Hex.parse(i.encryptionSchemeIV),u=m.TripleDES.decrypt(s,a,{iv:o});return m.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(t){var e=gt,n=e.getChildIdx,i=e.getV,r={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=n(t,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var a=n(t,s[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(r.algoid=i(t,a[0]),"06"==t.substr(a[1],2)&&(r.algparam=i(t,a[1])),"04"!=t.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return r.keyidx=e.getVidx(t,s[2]),r},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=It(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,n=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==n.algoid)e=new at;else if("2a8648ce380401"==n.algoid)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";e=new dt.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,n=gt.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===n)e=new at;else if("2a8648ce380401"===n)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";e=new dt.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=gt,n=e.getChildIdx,i=e.getV,r={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var s=n(t,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(s[0],2))throw"malformed RSA key(code:003)";if(r.n=i(t,s[0]),"02"!=t.substr(s[1],2))throw"malformed RSA key(code:004)";return r.e=i(t,s[1]),r},parsePublicPKCS8Hex:function(t){var e=gt,n=e.getChildIdx,i=e.getV,r={algparam:null},s=n(t,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var a=s[0];if("30"!=t.substr(a,2))throw"malformed PKCS8 public key(code:001)";var o=n(t,a);if(2!=o.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(o[0],2))throw"malformed PKCS8 public key(code:003)";if(r.algoid=i(t,o[0]),"06"==t.substr(o[1],2)?r.algparam=i(t,o[1]):"30"==t.substr(o[1],2)&&(r.algparam={},r.algparam.p=e.getVbyList(t,o[1],[0],"02"),r.algparam.q=e.getVbyList(t,o[1],[1],"02"),r.algparam.g=e.getVbyList(t,o[1],[2],"02")),"03"!=t.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return r.key=i(t,s[1]).substr(2),r}}}();qt.getKey=function(t,e,n){var i=(m=gt).getChildIdx,r=(m.getV,m.getVbyList),s=dt.crypto,a=s.ECDSA,o=s.DSA,u=at,l=It,c=qt;if(void 0!==u&&t instanceof u)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==o&&t instanceof o)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(A=new u).setPublic(t.n,t.e),A;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(A=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),A;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(A=new u).setPrivate(t.n,t.e,t.d),A;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(A=new o).setPublic(t.p,t.q,t.g,t.y),A;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(A=new o).setPrivate(t.p,t.q,t.g,t.y,t.x),A;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(A=new u).setPublic(wt(t.n),wt(t.e)),A;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(A=new u).setPrivateEx(wt(t.n),wt(t.e),wt(t.d),wt(t.p),wt(t.q),wt(t.dp),wt(t.dq),wt(t.qi)),A;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(A=new u).setPrivate(wt(t.n),wt(t.e),wt(t.d)),A;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var h=(x=new a({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+wt(t.x)).slice(-h)+("0000000000"+wt(t.y)).slice(-h);return x.setPublicKeyHex(d),x}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){h=(x=new a({curve:t.crv})).ecparams.keylen/4,d="04"+("0000000000"+wt(t.x)).slice(-h)+("0000000000"+wt(t.y)).slice(-h);var f=("0000000000"+wt(t.d)).slice(-h);return x.setPublicKeyHex(d),x.setPrivateKeyHex(f),x}if("pkcs5prv"===n){var p,g=t,m=gt;if(9===(p=i(g,0)).length)(A=new u).readPKCS5PrvKeyHex(g);else if(6===p.length)(A=new o).readPKCS5PrvKeyHex(g);else{if(!(p.length>2&&"04"===g.substr(p[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(A=new a).readPKCS5PrvKeyHex(g)}return A}if("pkcs8prv"===n)return A=c.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===n)return c._getKeyFromPublicPKCS8Hex(t);if("x509pub"===n)return Gt.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return Gt.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var v=It(t,"PUBLIC KEY");return c._getKeyFromPublicPKCS8Hex(v)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var y=l(t,"RSA PRIVATE KEY");return c.getKey(y,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=r(D=l(t,"DSA PRIVATE KEY"),0,[1],"02"),_=r(D,0,[2],"02"),T=r(D,0,[3],"02"),S=r(D,0,[4],"02"),E=r(D,0,[5],"02");return(A=new o).setPrivate(new w(b,16),new w(_,16),new w(T,16),new w(S,16),new w(E,16)),A}if(-1!=t.indexOf("-END PRIVATE KEY-"))return c.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var C=c.getDecryptedKeyHex(t,e),k=new at;return k.readPKCS5PrvKeyHex(C),k}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var x,A=r(D=c.getDecryptedKeyHex(t,e),0,[1],"04"),O=r(D,0,[2,0],"06"),P=r(D,0,[3,0],"03").substr(2);if(void 0===dt.crypto.OID.oidhex2name[O])throw"undefined OID(hex) in KJUR.crypto.OID: "+O;return(x=new a({curve:dt.crypto.OID.oidhex2name[O]})).setPublicKeyHex(P),x.setPrivateKeyHex(A),x.isPublic=!1,x}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var D;b=r(D=c.getDecryptedKeyHex(t,e),0,[1],"02"),_=r(D,0,[2],"02"),T=r(D,0,[3],"02"),S=r(D,0,[4],"02"),E=r(D,0,[5],"02");return(A=new o).setPrivate(new w(b,16),new w(_,16),new w(T,16),new w(S,16),new w(E,16)),A}if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return c.getKeyFromEncryptedPKCS8PEM(t,e);throw"not supported argument"},qt.generateKeypair=function(t,e){if("RSA"==t){var n=e;(a=new at).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var i=new at,r=a.n.toString(16),s=a.e.toString(16);return i.setPublic(r,s),i.isPrivate=!1,i.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=i,o}if("EC"==t){var a,o,u=e,l=new dt.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new dt.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),a.setPrivateKeyHex(l.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(i=new dt.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),i.isPrivate=!1,i.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=i,o}throw"unknown algorithm: "+t},qt.getPEM=function(t,e,n,i,r,s){var a=dt,o=a.asn1,u=o.DERObjectIdentifier,l=o.DERInteger,c=o.ASN1Util.newObject,h=o.x509.SubjectPublicKeyInfo,d=a.crypto,f=d.DSA,p=d.ECDSA,g=at;function v(t){return c({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function y(t){return c({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function b(t){return c({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==g&&t instanceof g||void 0!==f&&t instanceof f||void 0!==p&&t instanceof p)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Dt(w=new h(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==g&&t instanceof g&&(void 0===n||null==n)&&1==t.isPrivate)return Dt(w=v(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===n||null==n)&&1==t.isPrivate){var _=new u({name:t.curveName}).getEncodedHex(),T=y(t).getEncodedHex(),S="";return S+=Dt(_,"EC PARAMETERS"),S+=Dt(T,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==f&&t instanceof f&&(void 0===n||null==n)&&1==t.isPrivate)return Dt(w=b(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==g&&t instanceof g&&void 0!==n&&null!=n&&1==t.isPrivate){var w=v(t).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,i,s)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==n&&null!=n&&1==t.isPrivate){w=y(t).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,i,s)}if("PKCS5PRV"==e&&void 0!==f&&t instanceof f&&void 0!==n&&null!=n&&1==t.isPrivate){w=b(t).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,i,s)}var E=function(t,e){var n=C(t,e);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(t,e){var n=m.lib.WordArray.random(8),i=m.lib.WordArray.random(8),r=m.PBKDF2(e,n,{keySize:6,iterations:100}),s=m.enc.Hex.parse(t),a=m.TripleDES.encrypt(s,r,{iv:i})+"",o={};return o.ciphertext=a,o.pbkdf2Salt=m.enc.Hex.stringify(n),o.pbkdf2Iter=100,o.encryptionSchemeAlg="DES-EDE3-CBC",o.encryptionSchemeIV=m.enc.Hex.stringify(i),o};if("PKCS8PRV"==e&&void 0!=g&&t instanceof g&&1==t.isPrivate){var k=v(t).getEncodedHex();w=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===n||null==n?Dt(w,"PRIVATE KEY"):Dt(T=E(w,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate){k=new c({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),w=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===n||null==n?Dt(w,"PRIVATE KEY"):Dt(T=E(w,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==f&&t instanceof f&&1==t.isPrivate){k=new l({bigint:t.x}).getEncodedHex(),w=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===n||null==n?Dt(w,"PRIVATE KEY"):Dt(T=E(w,n),"ENCRYPTED PRIVATE KEY")}throw"unsupported object nor format"},qt.getKeyFromCSRPEM=function(t){var e=It(t,"CERTIFICATE REQUEST");return qt.getKeyFromCSRHex(e)},qt.getKeyFromCSRHex=function(t){var e=qt.parseCSRHex(t);return qt.getKey(e.p8pubkeyhex,null,"pkcs8pub")},qt.parseCSRHex=function(t){var e=gt,n=e.getChildIdx,i=e.getTLV,r={},s=t;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var a=n(s,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(a[0],2))throw"malformed CSR(code:003)";var o=n(s,a[0]);if(o.length<3)throw"malformed CSR(code:004)";return r.p8pubkeyhex=i(s,o[2]),r},qt.getJWKFromKey=function(t){var e={};if(t instanceof at&&t.isPrivate)return e.kty="RSA",e.n=St(t.n.toString(16)),e.e=St(t.e.toString(16)),e.d=St(t.d.toString(16)),e.p=St(t.p.toString(16)),e.q=St(t.q.toString(16)),e.dp=St(t.dmp1.toString(16)),e.dq=St(t.dmq1.toString(16)),e.qi=St(t.coeff.toString(16)),e;if(t instanceof at&&t.isPublic)return e.kty="RSA",e.n=St(t.n.toString(16)),e.e=St(t.e.toString(16)),e;if(t instanceof dt.crypto.ECDSA&&t.isPrivate){if("P-256"!==(i=t.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;var n=t.getPublicKeyXYHex();return e.kty="EC",e.crv=i,e.x=St(n.x),e.y=St(n.y),e.d=St(t.prvKeyHex),e}if(t instanceof dt.crypto.ECDSA&&t.isPublic){var i;if("P-256"!==(i=t.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;n=t.getPublicKeyXYHex();return e.kty="EC",e.crv=i,e.x=St(n.x),e.y=St(n.y),e}throw"not supported key object"},at.getPosArrayOfChildrenFromHex=function(t){return gt.getChildIdx(t,0)},at.getHexValueArrayOfChildrenFromHex=function(t){var e,n=gt.getV,i=n(t,(e=at.getPosArrayOfChildrenFromHex(t))[0]),r=n(t,e[1]),s=n(t,e[2]),a=n(t,e[3]),o=n(t,e[4]),u=n(t,e[5]),l=n(t,e[6]),c=n(t,e[7]),h=n(t,e[8]);return(e=new Array).push(i,r,s,a,o,u,l,c,h),e},at.prototype.readPrivateKeyFromPEMString=function(t){var e=It(t),n=at.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},at.prototype.readPKCS5PrvKeyHex=function(t){var e=at.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},at.prototype.readPKCS8PrvKeyHex=function(t){var e,n,i,r,s,a,o,u,l=gt,c=l.getVbyList;if(!1===l.isASN1HEX(t))throw"not ASN.1 hex string";try{e=c(t,0,[2,0,1],"02"),n=c(t,0,[2,0,2],"02"),i=c(t,0,[2,0,3],"02"),r=c(t,0,[2,0,4],"02"),s=c(t,0,[2,0,5],"02"),a=c(t,0,[2,0,6],"02"),o=c(t,0,[2,0,7],"02"),u=c(t,0,[2,0,8],"02")}catch(t){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(e,n,i,r,s,a,o,u)},at.prototype.readPKCS5PubKeyHex=function(t){var e=gt,n=e.getV;if(!1===e.isASN1HEX(t))throw"keyHex is not ASN.1 hex string";var i=e.getChildIdx(t,0);if(2!==i.length||"02"!==t.substr(i[0],2)||"02"!==t.substr(i[1],2))throw"wrong hex for PKCS#5 public key";var r=n(t,i[0]),s=n(t,i[1]);this.setPublic(r,s)},at.prototype.readPKCS8PubKeyHex=function(t){var e=gt;if(!1===e.isASN1HEX(t))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==e.getTLVbyList(t,0,[0,0]))throw"not PKCS8 RSA public key";var n=e.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(n)},at.prototype.readCertPubKeyHex=function(t,e){var n,i;(n=new Gt).readCertHex(t),i=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var zt=new RegExp("");function Wt(t,e){for(var n="",i=e/4-t.length,r=0;r<i;r++)n+="0";return n+t}function $t(t,e,n){for(var i="",r=0;i.length<e;)i+=kt(n(xt(t+String.fromCharCode.apply(String,[(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r])))),r+=1;return i}function Kt(t){for(var e in dt.crypto.Util.DIGESTINFOHEAD){var n=dt.crypto.Util.DIGESTINFOHEAD[e],i=n.length;if(t.substring(0,i)==n)return[e,t.substring(i)]}return[]}function Gt(){var t=gt,e=t.getChildIdx,n=t.getV,i=t.getTLV,r=t.getVbyList,s=t.getTLVbyList,a=t.getIdxbyList,o=t.getVidx,u=t.oidname,l=Gt,c=It;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==s(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return r(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return u(r(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return l.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return l.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=r(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=r(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return a(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return a(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return qt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return u(r(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return r(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),i=s(this.hex,0,[0],"30"),r=new dt.crypto.Signature({alg:e});return r.init(t),r.updateHex(i),r.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=a(this.hex,0,[0,7,0],"30"),i=e(this.hex,n);this.aExtInfo=new Array;for(var s=0;s<i.length;s++){var u={critical:!1},l=0;3===e(this.hex,i[s]).length&&(u.critical=!0,l=1),u.oid=t.hextooidstr(r(this.hex,i[s],[0],"06"));var c=a(this.hex,i[s],[1+l]);u.vidx=o(this.hex,c),this.aExtInfo.push(u)}},this.getExtInfo=function(t){var e=this.aExtInfo,n=t;if(t.match(/^[0-9.]+$/)||(n=dt.asn1.x509.OID.name2oid(t)),""!==n)for(var i=0;i<e.length;i++)if(e[i].oid===n)return e[i]},this.getExtBasicConstraints=function(){var t=this.getExtInfo("basicConstraints");if(void 0===t)return t;var e=n(this.hex,t.vidx);if(""===e)return{};if("0101ff"===e)return{cA:!0};if("0101ff02"===e.substr(0,8)){var i=n(e,6);return{cA:!0,pathLen:parseInt(i,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";var e=n(this.hex,t.vidx);if(e.length%2!=0||e.length<=2)throw"malformed key usage value";var i=parseInt(e.substr(0,2)),r=parseInt(e.substr(2),16).toString(2);return r.substr(0,r.length-i)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),e=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&e.push(Gt.KEYUSAGE_NAME[n]);return e.join(",")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo("subjectKeyIdentifier");return void 0===t?t:n(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo("authorityKeyIdentifier");if(void 0===t)return t;for(var r={},s=i(this.hex,t.vidx),a=e(s,0),o=0;o<a.length;o++)"80"===s.substr(a[o],2)&&(r.kid=n(s,a[o]));return r},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var r=new Array,s=i(this.hex,t.vidx);if(""===s)return r;for(var a=e(s,0),o=0;o<a.length;o++)r.push(u(n(s,a[o])));return r},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),e=new Array,n=0;n<t.length;n++)"DNS"===t[n][0]&&e.push(t[n][1]);return e},this.getExtSubjectAltName2=function(){var t,r,s,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var o=new Array,u=i(this.hex,a.vidx),l=e(u,0),c=0;c<l.length;c++)s=u.substr(l[c],2),t=n(u,l[c]),"81"===s&&(r=Ct(t),o.push(["MAIL",r])),"82"===s&&(r=Ct(t),o.push(["DNS",r])),"84"===s&&(r=Gt.hex2dn(t,0),o.push(["DN",r])),"86"===s&&(r=Ct(t),o.push(["URI",r])),"87"===s&&(r=jt(t),o.push(["IP",r]));return o},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var n=new Array,i=e(this.hex,t.vidx),s=0;s<i.length;s++)try{var a=Ct(r(this.hex,i[s],[0,0,0],"86"));n.push(a)}catch(t){}return n},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var n={ocsp:[],caissuer:[]},i=e(this.hex,t.vidx),s=0;s<i.length;s++){var a=r(this.hex,i[s],[0],"06"),o=r(this.hex,i[s],[1],"86");"2b06010505073001"===a&&n.ocsp.push(Ct(o)),"2b06010505073002"===a&&n.caissuer.push(Ct(o))}return n},this.getExtCertificatePolicies=function(){var t=this.getExtInfo("certificatePolicies");if(void 0===t)return t;for(var s=i(this.hex,t.vidx),a=[],o=e(s,0),l=0;l<o.length;l++){var c={},h=e(s,o[l]);if(c.id=u(n(s,h[0])),2===h.length)for(var d=e(s,h[1]),f=0;f<d.length;f++){var p=r(s,d[f],[0],"06");"2b06010505070201"===p?c.cps=Ct(r(s,d[f],[1])):"2b06010505070202"===p&&(c.unotice=Ct(r(s,d[f],[1,0])))}a.push(c)}return a},this.readCertPEM=function(t){this.readCertHex(c(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{a(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,e,n;if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Ht(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Ht(e.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){t+="X509v3 Extensions:\n";for(var i=0;i<n.length;i++){var r=n[i],s=dt.asn1.x509.OID.oid2name(r.oid);""===s&&(s=r.oid);var a="";if(!0===r.critical&&(a="CRITICAL"),t+="  "+s+" "+a+":\n","basicConstraints"===s){var o=this.getExtBasicConstraints();void 0===o.cA?t+="    {}\n":(t+="    cA=true",void 0!==o.pathLen&&(t+=", pathLen="+o.pathLen),t+="\n")}else if("keyUsage"===s)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)t+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var u=this.getExtAuthorityKeyIdentifier();void 0!==u.kid&&(t+="    kid="+u.kid+"\n")}else{if("extKeyUsage"===s)t+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===s)t+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===s)t+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===s){var l=this.getExtAIAInfo();void 0!==l.ocsp&&(t+="    ocsp: "+l.ocsp.join(",")+"\n"),void 0!==l.caissuer&&(t+="    caissuer: "+l.caissuer.join(",")+"\n")}else if("certificatePolicies"===s)for(var c=this.getExtCertificatePolicies(),h=0;h<c.length;h++)void 0!==c[h].id&&(t+="    policy oid: "+c[h].id+"\n"),void 0!==c[h].cps&&(t+="    cps: "+c[h].cps+"\n")}}}return t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",t+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}zt.compile("[^0-9a-f]","gi"),at.prototype.sign=function(t,e){var n,i=(n=t,dt.crypto.Util.hashString(n,e));return this.signWithMessageHash(i,e)},at.prototype.signWithMessageHash=function(t,e){var n=rt(dt.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return Wt(this.doPrivate(n).toString(16),this.n.bitLength())},at.prototype.signPSS=function(t,e,n){var i,r=(i=xt(t),dt.crypto.Util.hashHex(i,e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,e,n)},at.prototype.signWithMessageHashPSS=function(t,e,n){var i,r=kt(t),s=r.length,a=this.n.bitLength()-1,o=Math.ceil(a/8),u=function(t){return dt.crypto.Util.hashHex(t,e)};if(-1===n||void 0===n)n=s;else if(-2===n)n=o-s-2;else if(n<-2)throw"invalid salt length";if(o<s+n+2)throw"data too long";var l="";n>0&&(l=new Array(n),(new it).nextBytes(l),l=String.fromCharCode.apply(String,l));var c=kt(u(xt("\0\0\0\0\0\0\0\0"+r+l))),h=[];for(i=0;i<o-n-s-2;i+=1)h[i]=0;var d=String.fromCharCode.apply(String,h)+""+l,f=$t(c,d.length,u),p=[];for(i=0;i<d.length;i+=1)p[i]=d.charCodeAt(i)^f.charCodeAt(i);var g=65280>>8*o-a&255;for(p[0]&=~g,i=0;i<s;i++)p.push(c.charCodeAt(i));return p.push(188),Wt(this.doPrivate(new w(p)).toString(16),this.n.bitLength())},at.prototype.verify=function(t,e){var n=rt(e=(e=e.replace(zt,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var i=Kt(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var r,s=i[0];return i[1]==(r=t,dt.crypto.Util.hashString(r,s))},at.prototype.verifyWithMessageHash=function(t,e){var n=rt(e=(e=e.replace(zt,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var i=Kt(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;i[0];return i[1]==t},at.prototype.verifyPSS=function(t,e,n,i){var r,s=(r=xt(t),dt.crypto.Util.hashHex(r,n));return void 0===i&&(i=-1),this.verifyWithMessageHashPSS(s,e,n,i)},at.prototype.verifyWithMessageHashPSS=function(t,e,n,i){var r=new w(e,16);if(r.bitLength()>this.n.bitLength())return!1;var s,a=function(t){return dt.crypto.Util.hashHex(t,n)},o=kt(t),u=o.length,l=this.n.bitLength()-1,c=Math.ceil(l/8);if(-1===i||void 0===i)i=u;else if(-2===i)i=c-u-2;else if(i<-2)throw"invalid salt length";if(c<u+i+2)throw"data too long";var h=this.doPublic(r).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw"encoded message does not end in 0xbc";var d=(h=String.fromCharCode.apply(String,h)).substr(0,c-u-1),f=h.substr(d.length,u),p=65280>>8*c-l&255;if(0!=(d.charCodeAt(0)&p))throw"bits beyond keysize not zero";var g=$t(f,d.length,a),m=[];for(s=0;s<d.length;s+=1)m[s]=d.charCodeAt(s)^g.charCodeAt(s);m[0]&=~p;var v=c-u-i-2;for(s=0;s<v;s+=1)if(0!==m[s])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return f===kt(a(xt("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,m.slice(-i)))))},at.SALT_LEN_HLEN=-1,at.SALT_LEN_MAX=-2,at.SALT_LEN_RECOVER=-2,Gt.hex2dn=function(t,e){if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed DN";for(var n=new Array,i=gt.getChildIdx(t,e),r=0;r<i.length;r++)n.push(Gt.hex2rdn(t,i[r]));return"/"+(n=n.map(function(t){return t.replace("/","\\/")})).join("/")},Gt.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw"malformed RDN";for(var n=new Array,i=gt.getChildIdx(t,e),r=0;r<i.length;r++)n.push(Gt.hex2attrTypeValue(t,i[r]));return(n=n.map(function(t){return t.replace("+","\\+")})).join("+")},Gt.hex2attrTypeValue=function(t,e){var n=gt,i=n.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed attribute type and value";var r=n.getChildIdx(t,e);2!==r.length||t.substr(r[0],2);var s=i(t,r[0]),a=dt.asn1.ASN1Util.oidHexToInt(s);return dt.asn1.x509.OID.oid2atype(a)+"="+kt(i(t,r[1]))},Gt.getPublicKeyFromCertHex=function(t){var e=new Gt;return e.readCertHex(t),e.getPublicKey()},Gt.getPublicKeyFromCertPEM=function(t){var e=new Gt;return e.readCertPEM(t),e.getPublicKey()},Gt.getPublicKeyInfoPropOfCertPEM=function(t){var e,n,i=gt.getVbyList,r={};return r.algparam=null,(e=new Gt).readCertPEM(t),n=e.getPublicKeyHex(),r.keyhex=i(n,0,[1],"03").substr(2),r.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===r.algoid&&(r.algparam=i(n,0,[0,1],"06")),r},Gt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==dt&&dt||(dt={}),void 0!==dt.jws&&dt.jws||(dt.jws={}),dt.jws.JWS=function(){var t=dt.jws.JWS.isSafeJSONString;this.parseJWS=function(e,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var i=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var r=i[1],s=i[2],a=i[3],o=r+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=r,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=o,!n){var u=wt(a),l=rt(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=l}var c=pt(r),h=pt(s);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!t(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},dt.jws.JWS.sign=function(t,e,n,i,r){var s,a,o,u=dt,l=u.jws.JWS,c=l.readSafeJSONString,h=l.isSafeJSONString,d=u.crypto,f=(d.ECDSA,d.Mac),p=d.Signature,g=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(a=e,s=g.stringify(a)),"string"==typeof e){if(!h(s=e))throw"JWS Head is not safe JSON string: "+s;a=c(s)}if(o=n,"object"==typeof n&&(o=g.stringify(n)),""!=t&&null!=t||void 0===a.alg||(t=a.alg),""!=t&&null!=t&&void 0===a.alg&&(a.alg=t,s=g.stringify(a)),t!==a.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+a.alg;var m=null;if(void 0===l.jwsalg2sigalg[t])throw"unsupported alg name: "+t;m=l.jwsalg2sigalg[t];var v=ft(s)+"."+ft(o),y="";if("Hmac"==m.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new f({alg:m,prov:"cryptojs",pass:i});b.updateString(v),y=b.doFinal()}else{var _;if(-1!=m.indexOf("withECDSA"))(_=new p({alg:m})).init(i,r),_.updateString(v),hASN1Sig=_.sign(),y=dt.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig);else if("none"!=m)(_=new p({alg:m})).init(i,r),_.updateString(v),y=_.sign()}return v+"."+St(y)},dt.jws.JWS.verify=function(t,e,n){var i,r=dt,s=r.jws.JWS,a=s.readSafeJSONString,o=r.crypto,u=o.ECDSA,l=o.Mac,c=o.Signature;i=at;var h=t.split(".");if(3!==h.length)return!1;var d=h[0]+"."+h[1],f=wt(h[2]),p=a(pt(h[0])),g=null,m=null;if(void 0===p.alg)throw"algorithm not specified in header";if((m=(g=p.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0)&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=qt.getKey(e)),!("RS"!=m&&"PS"!=m||e instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==m&&!(e instanceof u))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===s.jwsalg2sigalg[p.alg])throw"unsupported alg name: "+g;if("none"==(v=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var y=new l({alg:v,pass:e});return y.updateString(d),f==y.doFinal()}if(-1!=v.indexOf("withECDSA")){var b,_=null;try{_=u.concatSigToASN1Sig(f)}catch(t){return!1}return(b=new c({alg:v})).init(e),b.updateString(d),b.verify(_)}return(b=new c({alg:v})).init(e),b.updateString(d),b.verify(f)},dt.jws.JWS.parse=function(t){var e,n,i,r=t.split("."),s={};if(2!=r.length&&3!=r.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=r[0],n=r[1],3==r.length&&(i=r[2]),s.headerObj=dt.jws.JWS.readSafeJSONString(pt(e)),s.payloadObj=dt.jws.JWS.readSafeJSONString(pt(n)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=pt(n):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==i&&(s.sigHex=wt(i)),s},dt.jws.JWS.verifyJWT=function(t,e,n){var i=dt.jws,r=i.JWS,s=r.readSafeJSONString,a=r.inArray,o=r.includedArray,u=t.split("."),l=u[0],c=u[1],h=(wt(u[2]),s(pt(l))),d=s(pt(c));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,n.alg))return!1;if(void 0!==d.iss&&"object"==typeof n.iss&&!a(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"==typeof n.sub&&!a(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"==typeof n.aud)if("string"==typeof d.aud){if(!a(d.aud,n.aud))return!1}else if("object"==typeof d.aud&&!o(d.aud,n.aud))return!1;var f=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(f=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<f)&&(!(void 0!==d.nbf&&"number"==typeof d.nbf&&f<d.nbf-n.gracePeriod)&&(!(void 0!==d.iat&&"number"==typeof d.iat&&f<d.iat-n.gracePeriod)&&((void 0===d.jti||void 0===n.jti||d.jti===n.jti)&&!!r.verify(t,e,n.alg))))},dt.jws.JWS.includedArray=function(t,e){var n=dt.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e))return!1;return!0},dt.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},dt.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},dt.jws.JWS.isSafeJSONString=function(t,e,n){var i=null;try{return"object"!=typeof(i=ht(t))?0:i.constructor===Array?0:(e&&(e[n]=i),1)}catch(t){return 0}},dt.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=ht(t))?null:e.constructor===Array?null:e}catch(t){return null}},dt.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},dt.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var n=xt(e);return St(dt.crypto.Util.hashHex(n,"sha256"))},dt.jws.IntDate={},dt.jws.IntDate.get=function(t){var e=dt.jws.IntDate,n=e.getNow,i=e.getZulu;if("now"==t)return n();if("now + 1hour"==t)return n()+3600;if("now + 1day"==t)return n()+86400;if("now + 1month"==t)return n()+2592e3;if("now + 1year"==t)return n()+31536e3;if(t.match(/Z$/))return i(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},dt.jws.IntDate.getZulu=function(t){return Lt(t)},dt.jws.IntDate.getNow=function(){return~~(new Date/1e3)},dt.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},dt.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==dt&&dt||(dt={}),void 0!==dt.jws&&dt.jws||(dt.jws={}),dt.jws.JWSJS=function(){var t=dt.jws.JWS,e=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,n,i){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var r=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=dt.jws.JWS.sign(t,e,this.sPayload,n,i).split(".");s[0],s[2];this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(t){throw this.aHeader.length>r&&this.aHeader.pop(),this.aSignature.length>r&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(2!==n.length)return!1;if(!1===this.verifyNth(e,n[0],n[1]))return!1}return!0},this.verifyNth=function(e,n,i){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var r=this.aHeader[e],s=this.aSignature[e],a=r+"."+this.sPayload+"."+s,o=!1;try{o=t.verify(a,n,i)}catch(t){return!1}return o},this.readJWSJS=function(t){if("string"==typeof t){var n=e(t);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignatures=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.SecureRandom=it,e.rng_seed_time=J,e.BigInteger=w,e.RSAKey=at,e.ECDSA=dt.crypto.ECDSA,e.DSA=dt.crypto.DSA,e.Signature=dt.crypto.Signature,e.MessageDigest=dt.crypto.MessageDigest,e.Mac=dt.crypto.Mac,e.Cipher=dt.crypto.Cipher,e.KEYUTIL=qt,e.ASN1HEX=gt,e.X509=Gt,e.CryptoJS=m,e.b64tohex=T,e.b64toBA=S,e.stoBA=mt,e.BAtos=vt,e.BAtohex=yt,e.stohex=bt,e.stob64=function(t){return _(bt(t))},e.stob64u=function(t){return _t(_(bt(t)))},e.b64utos=function(t){return vt(S(Tt(t)))},e.b64tob64u=_t,e.b64utob64=Tt,e.hex2b64=_,e.hextob64u=St,e.b64utohex=wt,e.utf8tob64u=ft,e.b64utoutf8=pt,e.utf8tob64=function(t){return _(Ft(Ut(t)))},e.b64toutf8=function(t){return decodeURIComponent(Bt(T(t)))},e.utf8tohex=Et,e.hextoutf8=Ct,e.hextorstr=kt,e.rstrtohex=xt,e.hextob64=At,e.hextob64nl=Ot,e.b64nltohex=Pt,e.hextopem=Dt,e.pemtohex=It,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),n=new DataView(e),i=0;i<t.length/2;i++)n.setUint8(i,parseInt(t.substr(2*i,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",n=new DataView(t),i=0;i<t.byteLength;i++)e+=("00"+n.getUint8(i).toString(16)).slice(-2);return e},e.zulutomsec=Rt,e.zulutosec=Lt,e.zulutodate=function(t){return new Date(Rt(t))},e.datetozulu=function(t,e,n){var i,r=t.getUTCFullYear();if(e){if(r<1950||2049<r)throw"not proper year for UTCTime: "+r;i=(""+r).slice(-2)}else i=("000"+r).slice(-4);if(i+=("0"+(t.getUTCMonth()+1)).slice(-2),i+=("0"+t.getUTCDate()).slice(-2),i+=("0"+t.getUTCHours()).slice(-2),i+=("0"+t.getUTCMinutes()).slice(-2),i+=("0"+t.getUTCSeconds()).slice(-2),n){var s=t.getUTCMilliseconds();0!==s&&(i+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return i+="Z"},e.uricmptohex=Ft,e.hextouricmp=Bt,e.ipv6tohex=Mt,e.hextoipv6=Nt,e.hextoip=jt,e.iptohex=function(t){var e="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Mt(t);throw e}var n=t.split(".");if(4!==n.length)throw e;var i="";try{for(var r=0;r<4;r++)i+=("0"+parseInt(n[r]).toString(16)).slice(-2);return i}catch(t){throw e}},e.encodeURIComponentAll=Ut,e.newline_toUnix=function(t){return t=t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return t=(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Ht,e.intarystrtohex=Vt,e.strdiffidx=function(t,e){var n=t.length;t.length>e.length&&(n=e.length);for(var i=0;i<n;i++)if(t.charCodeAt(i)!=e.charCodeAt(i))return i;return t.length!=e.length?n:-1},e.KJUR=dt,e.crypto=dt.crypto,e.asn1=dt.asn1,e.jws=dt.jws,e.lang=dt.lang}).call(e,n("7xR8").Buffer)},ckvj:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("VBq3")),s=i(n("TIWX")),a=i(n("F9Or")),o=i(n("1n34")),u=0,l={mode:"auto"};o.default.mediaSources={};var c=function(t,e){var n=o.default.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},h=function(){return!!r.default.MediaSource&&!!r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},d=function(t){var e=o.default.mergeOptions(l,t);if(this.MediaSource={open:c,supportsNativeMediaSources:h},"html5"===e.mode||"auto"===e.mode&&h())return new a.default;if(o.default.getTech("Flash"))return new s.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};e.MediaSource=d,d.open=c,d.supportsNativeMediaSources=h;var f={createObjectURL:function(t){var e=void 0;return t instanceof a.default?(e=r.default.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof s.default?(e="blob:vjs-media-source/"+u,u++,o.default.mediaSources[e]=t,e):(e=r.default.URL.createObjectURL(t),t.url_=e,e)}};e.URL=f,o.default.MediaSource=d,o.default.URL=f},cuTx:function(t,e,n){"use strict";var i=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,s;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,s)}},this.dispose=function(){t={}}}};i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},t.exports=i},d0l3:function(t,e,n){t.exports=n("Rb18")},d5Ge:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},daEg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("VBq3"),s=(i=r)&&i.__esModule?i:{default:i},a=n("lLhI"),o=n("iqvJ");e.default=function(t){return new function(t){t.onmessage=function(t){var e=t.data,n=new Uint8Array(e.encrypted.bytes,e.encrypted.byteOffset,e.encrypted.byteLength),i=new Uint32Array(e.key.bytes,e.key.byteOffset,e.key.byteLength/4),r=new Uint32Array(e.iv.bytes,e.iv.byteOffset,e.iv.byteLength/4);new a.Decrypter(n,i,r,function(t,n){s.default.postMessage((0,o.createTransferableMessage)({source:e.source,decrypted:n}),[n.buffer])})}}(t)},t.exports=e.default},dd6o:function(t,e,n){"use strict";var i=n("8r5Y"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,a={};return t?(i.forEach(t.split("\n"),function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),n=i.trim(t.substr(s+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},dham:function(t,e,n){"use strict";var i,r,s,a,o,u,l,c,h,d,f,p,g,m,v,y,b,_,T,S,w,E,C,k,x,A,O,P,D,I,R,L,F,B,M,N,j,U,H,V,q,z=Math.pow(2,32)-1;!function(){var t;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in C)C.hasOwnProperty(t)&&(C[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:O,audio:P},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),F=new Uint8Array([0,0,0,0,0,0,0,0]),B=F,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=F,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},r=function(){return i(C.dinf,i(C.dref,L))},s=function(t){return i(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},a=function(){return i(C.ftyp,k,x,k,A)},y=function(t){return i(C.hdlr,D[t])},o=function(t){return i(C.mdat,t)},v=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),i(C.mdhd,e)},m=function(t){return i(C.mdia,v(t),y(t.type),l(t))},u=function(t){return i(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return i(C.minf,"video"===t.type?i(C.vmhd,I):i(C.smhd,R),r(),_(t))},c=function(t,e){for(var n=[],r=e.length;r--;)n[r]=S(e[r]);return i.apply(null,[C.moof,u(t)].concat(n))},h=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return i.apply(null,[C.moov,f(4294967295)].concat(n).concat(d(t)))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=w(t[e]);return i.apply(null,[C.mvex].concat(n))},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(C.mvhd,e)},b=function(t){var e,n,r=t.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,s[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return i(C.sdtp,s)},_=function(t){return i(C.stbl,T(t),i(C.stts,N),i(C.stsc,B),i(C.stsz,M),i(C.stco,F))},T=function(t){return i(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?j(t):U(t))},j=function(t){var e,n=t.sps||[],r=t.pps||[],s=[],a=[];for(e=0;e<n.length;e++)s.push((65280&n[e].byteLength)>>>8),s.push(255&n[e].byteLength),s=s.concat(Array.prototype.slice.call(n[e]));for(e=0;e<r.length;e++)a.push((65280&r[e].byteLength)>>>8),a.push(255&r[e].byteLength),a=a.concat(Array.prototype.slice.call(r[e]));return i(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(C.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(s).concat([r.length]).concat(a))),i(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(t){return i(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),s(t))},g=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return i(C.tkhd,e)},S=function(t){var e,n,r,s,a,o;return e=i(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(z+1)),o=Math.floor(t.baseMediaDecodeTime%(z+1)),n=i(C.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===t.type?(r=E(t,92),i(C.traf,e,n,r)):(s=b(t),r=E(t,s.length+92),i(C.traf,e,n,r,s))},p=function(t){return t.duration=t.duration||4294967295,i(C.trak,g(t),m(t))},w=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),i(C.trex,e)},q=function(t,e){var n=0,i=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,n|i|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},V=function(t,e){var n,r,s,a;for(e+=20+16*(r=t.samples||[]).length,n=q(r,e),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return i(C.trun,new Uint8Array(n))},H=function(t,e){var n,r,s,a;for(e+=20+8*(r=t.samples||[]).length,n=q(r,e),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return i(C.trun,new Uint8Array(n))},E=function(t,e){return"audio"===t.type?H(t,e):V(t,e)},t.exports={ftyp:a,mdat:o,moof:c,moov:h,initSegment:function(t){var e,n=a(),i=h(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}}},djx3:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},dkF5:function(t,e,n){var i=n("z6G7"),r=n("nRwT"),s=n("Wo2q"),a=n("jmUK"),o=n("zxol")("engine.io-client:polling-xhr");function u(){}function l(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function c(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=l,t.exports.Request=c,a(l,r),l.prototype.supportsBinary=!0,l.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new c(t)},l.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},l.prototype.doPoll=function(){o("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},s(c.prototype),c.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{o("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},o("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},c.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},c.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},c.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,d,!1)}function d(){for(var t in c.requests)c.requests.hasOwnProperty(t)&&c.requests[t].abort()}},e2yx:function(t,e,n){n("H/R3");var i=n("UB+n").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},e3Mc:function(t,e,n){(function(e){var i,r=void 0!==e?e:"undefined"!=typeof window?window:{},s=n(1);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=s),t.exports=i}).call(e,n("9AUj"))},e63z:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),s=t.indexOf("]");-1!=r&&-1!=s&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));for(var a=n.exec(t||""),o={},u=14;u--;)o[i[u]]=a[u]||"";return-1!=r&&-1!=s&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o}},eQBM:function(t,e,n){var i=n("arl9"),r=n("fEMH"),s=n("Shba");t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,o=n(t),u=s.f,l=0;o.length>l;)u.call(t,a=o[l++])&&e.push(a);return e}},f5Gq:function(t,e,n){var i=n("NzvA");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"fC/e":function(t,e,n){var i=n("XRq0"),r=n("mhb3")("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[r]===t)}},fEMH:function(t,e){e.f=Object.getOwnPropertySymbols},fEpO:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},fIEz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!i[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,i[a]=d,r[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,s=0;s<4;s++)e[s][a]=f=f<<24^f>>>8,n[s][d]=p=p<<24^p>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),n[s]=n[s].slice(0);return t},s=null,a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s||(s=r()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var n=void 0,i=void 0,a=void 0,o=void 0,u=void 0,l=this._tables[0][4],c=this._tables[1],h=e.length,d=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(o=e.slice(0),u=[],this._key=[o,u],n=h;n<4*h+28;n++)a=o[n-1],(n%h==0||8===h&&n%h==4)&&(a=l[a>>>24]<<24^l[a>>16&255]<<16^l[a>>8&255]<<8^l[255&a],n%h==0&&(a=a<<8^a>>>24^d<<24,d=d<<1^283*(d>>7))),o[n]=o[n-h]^a;for(i=0;n;i++,n--)a=o[3&i?n:n-4],u[i]=n<=4||i<4?a:c[0][l[a>>>24]]^c[1][l[a>>16&255]]^c[2][l[a>>8&255]]^c[3][l[255&a]]}return i(t,[{key:"decrypt",value:function(t,e,n,i,r,s){var a=this._key[1],o=t^a[0],u=i^a[1],l=n^a[2],c=e^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(g=0;g<p;g++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^a[m],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^a[m+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^a[m+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^a[m+3],m+=4,o=h,u=d,l=f;for(g=0;g<4;g++)r[(3&-g)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[m++],h=o,o=u,u=l,l=c,c=h}}]),t}();e.default=a,t.exports=e.default},fOcd:function(t,e,n){"use strict";var i,r=n("cuTx"),s=n("KcYj"),a=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},o=function(t,e,n){return decodeURIComponent(a(t,e,n))},u=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},l={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.value=o(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.url=o(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(a(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(i=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,a=[],o=0;if(i.prototype.init.call(this),this.dispatchType=s.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,s,c,h;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,a.length=0),0===a.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(a.push(t),o+=t.data.byteLength,1===a.length&&(r=u(t.data.subarray(6,10)),r+=10),!(o<r)){for(e={data:new Uint8Array(r),frames:[],pts:a[0].pts,dts:a[0].dts},h=0;h<r;)e.data.set(a[0].data.subarray(0,r-h),h),h+=a[0].data.byteLength,o-=a[0].data.byteLength,a.shift();i=10,64&e.data[5]&&(i+=4,i+=u(e.data.subarray(10,14)),r-=u(e.data.subarray(16,20)));do{if((s=u(e.data.subarray(i+4,i+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),data:e.data.subarray(i+10,i+s+10)}).key=c.id,l[c.id]&&(l[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var d=c.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],c.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=c.timeStamp,e.dts=c.timeStamp),this.trigger("timestamp",c)}e.frames.push(c),i+=10,i+=s}while(i<r);this.trigger("data",e)}}}).prototype=new r,t.exports=i},fOpt:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("e3Mc")),o=s(n("H800")),u=s(n("pmpl")),l=s(n("tl8j")),c=n("lLhI"),h=s(n("iqvJ")),d=n("ckvj"),f=s(n("yfPx")),p=s(n("1n34")),g=n("RI5v"),m=s(n("aPx6")),v=s(n("L/lx")),y=s(n("VBq3")),b=s(n("pYMX")),_=s(n("GfBe")),T=n("Mb/S"),S={PlaylistLoader:o.default,Playlist:u.default,Decrypter:c.Decrypter,AsyncStream:c.AsyncStream,decrypt:c.decrypt,utils:h.default,STANDARD_PLAYLIST_SELECTOR:T.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:T.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:T.comparePlaylistBandwidth,comparePlaylistResolution:T.comparePlaylistResolution,xhr:(0,l.default)()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(S,t,{get:function(){return p.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),m.default[t]},set:function(e){p.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?p.default.log.warn("value of Hls."+t+" must be greater than or equal to 0"):m.default[t]=e}})});var w=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};S.canPlaySource=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},S.supportsNativeHls=function(){var t=a.default.createElement("video");if(!p.default.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),S.isSupported=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var E=p.default.getComponent("Component"),C=function(t){function e(t,n,i){var s=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n,i.hls),n.options_&&n.options_.playerId){var o=(0,p.default)(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return p.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),s}})}if(this.tech_=n,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(a.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=a.default.fullscreenElement||a.default.webkitFullscreenElement||a.default.mozFullScreenElement||a.default.msFullscreenElement;e&&e.contains(s.tech_.el())&&s.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,E),i(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth","handleManifestRedirects"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t){var e=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=S,this.masterPlaylistController_=new g.MasterPlaylistController(this.options_),this.playbackWatcher_=new b.default(p.default.mergeOptions(this.options_,{seekable:function(){return e.seekable()}})),this.masterPlaylistController_.on("error",function(){p.default.players[e.tech_.options_.playerId].error(e.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):S.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=S.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){p.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return e.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return e.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return e.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return e.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return e.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return e.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return e.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return e.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,v.default)(e)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return e.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(p.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=p.default.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach(function(t){e.addQualityLevel(t)}),w(e,n.playlists)}),this.playlists.on("mediachange",function(){w(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),r(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(),k=function t(e){return{canHandleSource:function(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=p.default.mergeOptions(p.default.options,i);return(!r.hls||!r.hls.mode||r.hls.mode===e)&&t.canPlayType(n.type,r)},handleSource:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=p.default.mergeOptions(p.default.options,i,{hls:{mode:e}});return"flash"===e&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new C(t,n,r),n.hls.xhr=(0,l.default)(),n.hls.src(t.src),n.hls},canPlayType:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=p.default.mergeOptions(p.default.options,n);return t.canPlayType(e,i)?"maybe":""}}};k.canPlayType=function(t,e){if(p.default.browser.IE_VERSION&&p.default.browser.IE_VERSION<=10)return!1;return!(!e.hls.overrideNative&&S.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)},void 0!==p.default.MediaSource&&void 0!==p.default.URL||(p.default.MediaSource=d.MediaSource,p.default.URL=d.URL);var x=p.default.getTech("Flash");d.MediaSource.supportsNativeMediaSources()&&p.default.getTech("Html5").registerSourceHandler(k("html5"),0),y.default.Uint8Array&&x&&x.registerSourceHandler(k("flash")),p.default.HlsHandler=C,p.default.HlsSourceHandler=k,p.default.Hls=S,p.default.use||p.default.registerComponent("Hls",S),p.default.m3u8=f.default,p.default.options.hls=p.default.options.hls||{},p.default.registerPlugin?p.default.registerPlugin("reloadSourceOnError",_.default):p.default.plugin("reloadSourceOnError",_.default),t.exports={Hls:S,HlsHandler:C,HlsSourceHandler:k}},fR4h:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<t.length;i++)n[t.charCodeAt(i)]=i;e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,s="";for(n=0;n<r;n+=3)s+=t[i[n]>>2],s+=t[(3&i[n])<<4|i[n+1]>>4],s+=t[(15&i[n+1])<<2|i[n+2]>>6],s+=t[63&i[n+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,i,r,s,a,o=.75*t.length,u=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c=new ArrayBuffer(o),h=new Uint8Array(c);for(e=0;e<u;e+=4)i=n[t.charCodeAt(e)],r=n[t.charCodeAt(e+1)],s=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],h[l++]=i<<2|r>>4,h[l++]=(15&r)<<4|s>>2,h[l++]=(3&s)<<6|63&a;return c}}()},fU25:function(t,e,n){"use strict";t.exports=function(t,e,n){if("function"==typeof Array.prototype.findIndex)return t.findIndex(e,n);if("function"!=typeof e)throw new TypeError("predicate must be a function");var i=Object(t),r=i.length;if(0===r)return-1;for(var s=0;s<r;s++)if(e.call(n,i[s],s,i))return s;return-1}},fYmq:function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},gsCR:function(t,e,n){n("zRHv"),n("xsjh"),t.exports=n("72dD").f("iterator")},h3QQ:function(t,e,n){"use strict";var i=n("Oa1u");t.exports=function(t,e,n,r,s){var a=new Error(t);return i(a,e,n,r,s)}},hN2N:function(t,e,n){"use strict";(function(e){var i=n("8r5Y"),r=n("4pJO"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,u={adapter:("undefined"!=typeof XMLHttpRequest?o=n("lFbO"):void 0!==e&&(o=n("lFbO")),o),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(s)}),t.exports=u}).call(e,n("V0EG"))},hRKE:function(t,e,n){"use strict";e.__esModule=!0;var i=a(n("2LoE")),r=a(n("Yyxk")),s="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===s(i.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":s(t)}},"hX+v":function(t,e,n){var i=n("6Bon"),r=n("ii2Z"),s=n("djx3"),a=n("vD1g")("IE_PROTO"),o=function(){},u=function(){var t,e=n("ZtEf")("iframe"),i=s.length;for(e.style.display="none",n("R9Hr").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[s[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=i(t),n=new o,o.prototype=null,n[a]=t):n=u(),void 0===e?n:r(n,e)}},ha9j:function(t,e,n){var i=n("z6G7"),r=n("dkF5"),s=n("71Ju"),a=n("Cpki");e.polling=function(t){var e=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var o="https:"===location.protocol,u=location.port;u||(u=o?443:80),e=t.hostname!==location.hostname||u!==t.port,n=t.secure!==o}if(t.xdomain=e,t.xscheme=n,"open"in new i(t)&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new s(t)},e.websocket=a},hsUl:function(t,e,n){"use strict";var i=n("u3k2");t.exports=function(t,e,n){var r,s,a,o=new Uint8Array(9),u=new DataView(o.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(e?4:0)|(n?1:0)),u.setUint32(5,o.byteLength),t<=0?((s=new Uint8Array(o.byteLength+4)).set(o),s.set([0,0,0,0],o.byteLength),s):((r=new i(i.METADATA_TAG)).pts=r.dts=0,r.writeMetaDataDouble("duration",t),a=r.finalize().length,(s=new Uint8Array(o.byteLength+a)).set(o),s.set(u.byteLength,a),s)}},i3RO:function(t,e,n){"use strict";var i=n("HeGE");t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},iNHa:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=l(t),i=n[0],a=n[1],o=new s(function(t,e,n){return 3*(e+n)/4-n}(0,i,a)),u=0,c=a>0?i-4:i,h=0;h<c;h+=4)e=r[t.charCodeAt(h)]<<18|r[t.charCodeAt(h+1)]<<12|r[t.charCodeAt(h+2)]<<6|r[t.charCodeAt(h+3)],o[u++]=e>>16&255,o[u++]=e>>8&255,o[u++]=255&e;2===a&&(e=r[t.charCodeAt(h)]<<2|r[t.charCodeAt(h+1)]>>4,o[u++]=255&e);1===a&&(e=r[t.charCodeAt(h)]<<10|r[t.charCodeAt(h+1)]<<4|r[t.charCodeAt(h+2)]>>2,o[u++]=e>>8&255,o[u++]=255&e);return o},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,s=[],a=0,o=n-r;a<o;a+=16383)s.push(c(t,a,a+16383>o?o:a+16383));1===r?(e=t[n-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return s.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)i[o]=a[o],r[a.charCodeAt(o)]=o;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,s,a=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),a.push(i[(s=r)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},ih9o:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},ii2Z:function(t,e,n){var i=n("VKnT"),r=n("6Bon"),s=n("arl9");t.exports=n("5D1g")?Object.defineProperties:function(t,e){r(t);for(var n,a=s(e),o=a.length,u=0;o>u;)i.f(t,n=a[u++],e[n]);return t}},iqvJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){return t.start(e)+"-"+t.end(e)},r=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},s=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},a={hexDump:function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(r).join("")+" "+e.slice(16*i,16*i+16).map(s).join("")+"\n";return n},tagDump:function(t){return a.hexDump(t.bytes)},textRanges:function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=i(t,n)+" ";return e},createTransferableMessage:function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},initSegmentId:function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")}};e.default=a,t.exports=e.default},jBBu:function(t,e,n){"use strict";var i,r=n("uUG0"),s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(i=function(){var t;i.prototype.init.call(this),this.push=function(e){var n,i,r,a,o,u,l=0,c=0;if("audio"===e.type)for(t?(a=t,(t=new Uint8Array(a.byteLength+e.data.byteLength)).set(a),t.set(e.data,a.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240==(246&t[l+1])){if(i=2*(1&~t[l+1]),n=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,u=9e4*(o=1024*(1+(3&t[l+6])))/s[(60&t[l+2])>>>2],r=l+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+c*u,dts:e.dts+c*u,sampleCount:o,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:s[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+i,r)}),t.byteLength===r)return void(t=void 0);c++,t=t.subarray(r)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new r,t.exports=i},"jC/k":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},jUE6:function(t,e,n){var i=n("NzvA"),r=n("mhb3")("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:s?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},jmUK:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},jvjr:function(t,e,n){"use strict";var i=n("kxdO"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,d){var f,p,g,m,v,y,b,_,T,S=d.bits,w=0,E=0,C=0,k=0,x=0,A=0,O=0,P=0,D=0,I=0,R=null,L=0,F=new i.Buf16(16),B=new i.Buf16(16),M=null,N=0;for(w=0;w<=15;w++)F[w]=0;for(E=0;E<u;E++)F[e[n+E]]++;for(x=S,k=15;k>=1&&0===F[k];k--);if(x>k&&(x=k),0===k)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(C=1;C<k&&0===F[C];C++);for(x<C&&(x=C),P=1,w=1;w<=15;w++)if(P<<=1,(P-=F[w])<0)return-1;if(P>0&&(0===t||1!==k))return-1;for(B[1]=0,w=1;w<15;w++)B[w+1]=B[w]+F[w];for(E=0;E<u;E++)0!==e[n+E]&&(h[B[e[n+E]]++]=E);if(0===t?(R=M=h,y=19):1===t?(R=r,L-=257,M=s,N-=257,y=256):(R=a,M=o,y=-1),I=0,E=0,w=C,v=c,A=x,O=0,g=-1,m=(D=1<<x)-1,1===t&&D>852||2===t&&D>592)return 1;for(;;){b=w-O,h[E]<y?(_=0,T=h[E]):h[E]>y?(_=M[N+h[E]],T=R[L+h[E]]):(_=96,T=0),f=1<<w-O,C=p=1<<A;do{l[v+(I>>O)+(p-=f)]=b<<24|_<<16|T|0}while(0!==p);for(f=1<<w-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,E++,0==--F[w]){if(w===k)break;w=e[n+h[E]]}if(w>x&&(I&m)!==g){for(0===O&&(O=x),v+=C,P=1<<(A=w-O);A+O<k&&!((P-=F[A+O])<=0);)A++,P<<=1;if(D+=1<<A,1===t&&D>852||2===t&&D>592)return 1;l[g=I&m]=x<<24|A<<16|v-c|0}}return 0!==I&&(l[v+I]=w-O<<24|64<<16|0),d.bits=x,0}},jzYM:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},k9rz:function(t,e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=_;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",g={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==i&&r.call(y,a)&&(m=y);var b=E.prototype=S.prototype=Object.create(m);w.prototype=b.constructor=E,E.constructor=w,E[u]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},C(k.prototype),k.prototype[o]=function(){return this},c.AsyncIterator=k,c.async=function(t,e,n,i){var r=new k(_(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},C(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return o.type="throw",o.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=t,a.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:D(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function _(t,e,n,i){var r=e&&e.prototype instanceof S?e:S,s=Object.create(r.prototype),a=new P(i||[]);return s._invoke=function(t,e,n){var i=h;return function(r,s){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw s;return I()}for(n.method=r,n.arg=s;;){var a=n.delegate;if(a){var o=x(a,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=T(t,e,n);if("normal"===u.type){if(i=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),s}function T(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function S(){}function w(){}function E(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,i){function s(){return new Promise(function(e,s){!function e(n,i,s,a){var o=T(t[n],t,i);if("throw"!==o.type){var u=o.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,s,a)},function(t){e("throw",t,s,a)}):Promise.resolve(l).then(function(t){u.value=t,s(u)},a)}a(o.arg)}(n,i,e,s)})}return e=e?e.then(s,s):s()}}function x(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,x(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=T(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return s.next=s}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},kCXS:function(t,e,n){"use strict";var i,r,s,a;i=function(t,e){var n,s,a,o,u,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)s=t[n]<<24,s|=t[n+1]<<16,s|=t[n+2]<<8,s|=t[n+3],a=r(t.subarray(n+4,n+8)),o=s>1?n+s:t.byteLength,a===e[0]&&(1===e.length?l.push(t.subarray(n+8,o)):(u=i(t.subarray(n+8,o),e.slice(1))).length&&(l=l.concat(u))),n=o;return l},r=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},s=function(t){return i(t,["moov","trak"]).reduce(function(t,e){var n,r,s,a;return(n=i(e,["tkhd"])[0])?(s=n[r=0===n[0]?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],(a=i(e,["mdia","mdhd"])[0])?(r=0===a[0]?12:20,t[s]=a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3],t):null):null},{})},a=function(t,e){var n,r,s;return n=i(e,["moof","traf"]),r=[].concat.apply([],n.map(function(e){return i(e,["tfhd"]).map(function(n){var r,s;return r=n[4]<<24|n[5]<<16|n[6]<<8|n[7],s=t[r]||9e4,(i(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=t[4]<<24|t[5]<<16|t[6]<<8|t[7],1===e&&(n*=Math.pow(2,32),n+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),n})[0]||1/0)/s})})),s=Math.min.apply(null,r),isFinite(s)?s:0},t.exports={parseType:r,timescale:s,startTime:a}},kM2v:function(t,e,n){"use strict";var i=n("hX+v"),r=n("Njan"),s=n("bNZV"),a={};n("Rb18")(a,n("mhb3")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),s(t,e+" Iterator")}},kZKs:function(t,e,n){var i=n("bPMW"),r=n("2usS");t.exports=function(t){return i(r(t))}},kb1Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("VBq3")),o=s(n("1n34")),u=s(n("+rzy")),l=s(n("lY3j")),c=s(n("EKZz")),h=n("popd"),d=s(n("QHZ7")),f=s(n("RDEB")),p=s(n("yLYI")),g=function(){var t=void 0;try{t="QHZ7"}catch(t){}return t},m=function(t){a.default.setTimeout(t,p.default.TIME_BETWEEN_CHUNKS)},v=function(){return Math.random().toString(36).slice(2,8)},y=function(t,e){("number"!=typeof e||e<0)&&(e=0);var n=Math.pow(10,e);return Math.round(t*n)/n},b=function(t){function e(t){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i;this.chunkSize_=p.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,i=a.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(u.default.getFlvHeader())));var s=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+s+v(),this.flashEncodedDataName_="vjs_flashEncodedData_"+s+v(),a.default[this.flashEncodedHeaderName_]=function(){return delete a.default[n.flashEncodedHeaderName_],i},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,f.default)(d.default,g()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(t){"data"===t.data.action&&n.receiveBuffer_(t.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return o.default.createTimeRange();var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");return t&&t.length&&(t[0][0]=y(t[0][0],3),t[0][1]=y(t[0][1],3)),o.default.createTimeRanges(t)}}),this.mediaSource_.player_.on("seeked",function(){if((0,l.default)(0,1/0,n.metadataTrack_),n.inbandTextTracks_)for(var t in n.inbandTextTracks_)(0,l.default)(0,1/0,n.inbandTextTracks_[t])});var c=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",c),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate(),n.mediaSource_.player_.tech_.off("hls-reset",c)})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"].EventTarget),i(e,[{key:"appendBuffer",value:function(t){var e=void 0;if(this.updating)throw(e=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",e.code=11,e;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(t,e){if((0,l.default)(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,l.default)(t,e,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var e=this;(0,c.default)(this,this.mediaSource_,t),(0,h.addTextTrackData)(this,t.captions,t.metadata),m(function(){var n=e.convertTagsToData_(t);0===e.buffer_.length&&m(e.processBuffer_.bind(e)),n&&(e.buffer_.push(n),e.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var t=this,e=p.default.BYTES_PER_CHUNK;if(this.buffer_.length){var n=this.buffer_[0].subarray(0,e);n.byteLength<e||this.buffer_[0].byteLength===e?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(e),this.bufferSize_-=n.byteLength;for(var i=[],r=n.byteLength,s=0;s<r;s++)i.push(String.fromCharCode(n[s]));var o=a.default.btoa(i.join(""));a.default[this.flashEncodedDataName_]=function(){return m(t.processBuffer_.bind(t)),delete a.default[t.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(t){var e=0,n=this.mediaSource_.tech_,i=0,r=void 0,s=t.tags.videoTags,a=t.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(s.length||a.length)){var o=s[0]||{pts:1/0},u=a[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,o.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_):i=this.videoBufferEnd_+.1;var l=s.length;if(l&&s[l-1].pts>=i){for(;--l;){var c=s[l];if(!(c.pts>i)&&(c.keyFrame||c.metaDataTag))break}for(;l;){if(!s[l-1].metaDataTag)break;l--}}var h=s.slice(l),d=void 0;for(d=isNaN(this.audioBufferEnd_)?i:this.audioBufferEnd_+.1,h.length&&(d=Math.min(d,h[0].pts)),l=0;l<a.length&&!(a[l].pts>=d);)l++;var f=a.slice(l);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),h.length&&(this.videoBufferEnd_=h[h.length-1].pts);var p=this.getOrderedTags_(h,f);if(0!==p.length){if(p[0].pts<i&&n.seeking()){var g=n.currentTime()-(i-p[0].pts)/1e3;g<1/30&&(g=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(g)}catch(t){}}for(var m=0;m<p.length;m++)e+=p[m].bytes.byteLength;r=new Uint8Array(e);m=0;for(var v=0;m<p.length;m++)r.set(p[m].bytes,v),v+=p[m].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(t,e){for(var n=void 0,i=[];t.length||e.length;)n=t.length?e.length&&e[0].dts<t[0].dts?e.shift():t.shift():e.shift(),i.push(n);return i}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),e}();e.default=b,t.exports=e.default},kehZ:function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,s=String(t),a="",o=0,u=i;s.charAt(0|o)||(u="=",o%1);a+=u.charAt(63&e>>8-o%1*8)){if((n=s.charCodeAt(o+=.75))>255)throw new r;e=e<<8|n}return a}},kih7:function(t,e,n){n("QI9N")("observable")},kxdO:function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var s=0;s<i;s++)t[r+s]=e[n+s]},flattenChunks:function(t){var e,n,i,r,s,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)s=t[e],a.set(s,r),r+=s.length;return a}},a={arraySet:function(t,e,n,i,r){for(var s=0;s<i;s++)t[r+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},l7eM:function(t,e,n){"use strict";var i=n("HH4H"),r=n("qozV"),s=n("5D1g"),a=n("273z"),o=n("d0l3"),u=n("92Lf").KEY,l=n("QzFD"),c=n("FGgV"),h=n("bNZV"),d=n("aShn"),f=n("mhb3"),p=n("72dD"),g=n("QI9N"),m=n("eQBM"),v=n("f5Gq"),y=n("6Bon"),b=n("ih9o"),_=n("kZKs"),T=n("NpOx"),S=n("Njan"),w=n("hX+v"),E=n("qs5b"),C=n("ROtF"),k=n("VKnT"),x=n("arl9"),A=C.f,O=k.f,P=E.f,D=i.Symbol,I=i.JSON,R=I&&I.stringify,L=f("_hidden"),F=f("toPrimitive"),B={}.propertyIsEnumerable,M=c("symbol-registry"),N=c("symbols"),j=c("op-symbols"),U=Object.prototype,H="function"==typeof D,V=i.QObject,q=!V||!V.prototype||!V.prototype.findChild,z=s&&l(function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=A(U,e);i&&delete U[e],O(t,e,n),i&&t!==U&&O(U,e,i)}:O,W=function(t){var e=N[t]=w(D.prototype);return e._k=t,e},$=H&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},K=function(t,e,n){return t===U&&K(j,e,n),y(t),e=T(e,!0),y(n),r(N,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=w(n,{enumerable:S(0,!1)})):(r(t,L)||O(t,L,S(1,{})),t[L][e]=!0),z(t,e,n)):O(t,e,n)},G=function(t,e){y(t);for(var n,i=m(e=_(e)),r=0,s=i.length;s>r;)K(t,n=i[r++],e[n]);return t},Y=function(t){var e=B.call(this,t=T(t,!0));return!(this===U&&r(N,t)&&!r(j,t))&&(!(e||!r(this,t)||!r(N,t)||r(this,L)&&this[L][t])||e)},X=function(t,e){if(t=_(t),e=T(e,!0),t!==U||!r(N,e)||r(j,e)){var n=A(t,e);return!n||!r(N,e)||r(t,L)&&t[L][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=P(_(t)),i=[],s=0;n.length>s;)r(N,e=n[s++])||e==L||e==u||i.push(e);return i},Z=function(t){for(var e,n=t===U,i=P(n?j:_(t)),s=[],a=0;i.length>a;)!r(N,e=i[a++])||n&&!r(U,e)||s.push(N[e]);return s};H||(o((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(j,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),z(this,t,S(1,n))};return s&&q&&z(U,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),C.f=X,k.f=K,n("XFX/").f=E.f=J,n("Shba").f=Y,n("fEMH").f=Z,s&&!n("E5ix")&&o(U,"propertyIsEnumerable",Y,!0),p.f=function(t){return W(f(t))}),a(a.G+a.W+a.F*!H,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)f(Q[tt++]);for(var et=x(f.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return r(M,t+="")?M[t]:M[t]=D(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:function(t,e){return void 0===e?w(t):G(w(t),e)},defineProperty:K,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),I&&a(a.S+a.F*(!H||l(function(){var t=D();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),i[1]=e,R.apply(I,i)}}),D.prototype[F]||n("Rb18")(D.prototype,F,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},lC5x:function(t,e,n){t.exports=n("XqSp")},lFbO:function(t,e,n){"use strict";var i=n("8r5Y"),r=n("Jo3n"),s=n("ur+z"),a=n("dd6o"),o=n("2WZl"),u=n("h3QQ"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("kehZ");t.exports=function(t){return new Promise(function(e,c){var h=t.data,d=t.headers;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||o(t.url)||(f=new window.XDomainRequest,p="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";d.Authorization="Basic "+l(m+":"+v)}if(f.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};r(e,c,i),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n("n/1x"),b=(t.withCredentials||o(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},lLhI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("2Sgk"),s=n("JiHl"),a=(i=s)&&i.__esModule?i:{default:i};e.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:a.default},t.exports=e.default},lY3j:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=e&&r.endTime>=t&&n.removeCue(r)},t.exports=e.default},liLe:function(t,e,n){t.exports={default:n("e2yx"),__esModule:!0}},loTH:function(t,e,n){"use strict";var i=n("273z"),r=n("i3RO"),s=n("d5Ge");i(i.S,"Promise",{try:function(t){var e=r.f(this),n=s(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},ltot:function(t,e,n){t.exports={generator:n("dham"),Transmuxer:n("sVqg").Transmuxer,AudioSegmentStream:n("sVqg").AudioSegmentStream,VideoSegmentStream:n("sVqg").VideoSegmentStream}},"ly/b":function(t,e,n){var i=n("jC/k"),r=n("5ceI"),s=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,s=t;return s.data=function t(e,n){if(!e)return e;if(r(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(i(e)){for(var a=new Array(e.length),o=0;o<e.length;o++)a[o]=t(e[o],n);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var u in e)a[u]=t(e[u],n);return a}return e}(n,e),s.attachments=e.length,{packet:s,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(i(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(var s in e)e[s]=t(e[s],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,s=t;!function t(u,l,c){if(!u)return u;if(a&&u instanceof Blob||o&&u instanceof File){n++;var h=new FileReader;h.onload=function(){c?c[l]=this.result:s=this.result,--n||e(s)},h.readAsArrayBuffer(u)}else if(i(u))for(var d=0;d<u.length;d++)t(u[d],d,u);else if("object"==typeof u&&!r(u))for(var f in u)t(u[f],f,u)}(s),n||e(s)}},mIGd:function(t,e,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return i[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=r(t.subarray(10,14)));do{if((n=r(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var s=0;s<i.byteLength;s++)if(0===i[s]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,s))){var a=i.subarray(s+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return o*=4,o+=3&a[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}}},mYXZ:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},mhb3:function(t,e,n){var i=n("FGgV")("wks"),r=n("aShn"),s=n("HH4H").Symbol,a="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=a&&s[t]||(a?s:r)("Symbol."+t))}).store=i},ms8w:function(t,e,n){var i=n("ykTf"),r=n("Wo2q"),s=n("a5gc"),a=n("5AJh"),o=n("bwJK"),u=n("zxol")("socket.io-client:socket"),l=n("qoCw"),c=n("GD3X");t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",o(this,"onopen")),a(t,"packet",o(this,"onpacket")),a(t,"close",o(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},f.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:c(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},f.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},f.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);u("sending ack %j",r),e.packet({type:c(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},"n/1x":function(t,e,n){"use strict";var i=n("8r5Y");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,s,a){var o=[];o.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),i.isString(r)&&o.push("path="+r),i.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},n68W:function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),s=n&&n.prototype.append&&n.prototype.getBlob;function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function o(t,e){e=e||{};var i=new n;return a(t).forEach(function(t){i.append(t)}),e.type?i.getBlob(e.type):i.getBlob()}function u(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(o.prototype=Blob.prototype,u.prototype=Blob.prototype),t.exports=i?r?Blob:u:s?o:void 0},nBHa:function(t,e,n){var i,r,s,a=n("GEwK"),o=n("mYXZ"),u=n("R9Hr"),l=n("ZtEf"),c=n("HH4H"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){o("function"==typeof t?t:Function(t),e)},i(m),m},f=function(t){delete v[t]},"process"==n("NzvA")(h)?i=function(t){h.nextTick(a(y,t,1))}:g&&g.now?i=function(t){g.now(a(y,t,1))}:p?(s=(r=new p).port2,r.port1.onmessage=b,i=a(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:f}},nRwT:function(t,e,n){var i=n("G2hA"),r=n("qoCw"),s=n("JBnk"),a=n("jmUK"),o=n("RqS9"),u=n("zxol")("engine.io-client:polling");t.exports=c;var l=null!=new(n("z6G7"))({xdomain:!1}).responseType;function c(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),i.call(this,t)}a(c,i),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(u("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){u("pre-pause polling complete"),--i||n()})),this.writable||(u("we are currently writing - waiting to pause"),i++,this.once("drain",function(){u("pre-pause writing complete"),--i||n()}))}else n()},c.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(t){var e=this;u("polling got data %s",t);s.decodePayload(t,this.socket.binaryType,function(t,n,i){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},c.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},c.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=o()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},"nWE+":function(t,e,n){"use strict";var i=n("cuTx"),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};r.prototype=new i,r.prototype.push=function(t){var e,n;"sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n}(t.escapedRBSP)).payloadType&&(n=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)}(e))&&(t.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:t.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(function(t,e){var n,i,r,s,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)s={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a}(t.pts,n)),this.latestDts_=t.dts))},r.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},r.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},r.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},r.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var s={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},a=function(t){return null===t?"":(t=s[t]||t,String.fromCharCode(t))},o=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var t=[],e=15;e--;)t.push("");return t},l=function(t,e){l.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(e===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(e===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=u();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(e===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(i,r))s=a((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),s=a((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var l=o.indexOf(7968&e);l!==this.row_&&(this.clearFormatting(t.pts),this.row_=l),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),s=a(i),s+=a(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};l.prototype=new i,l.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},l.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},l.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},l.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},l.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},l.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},l.prototype.isNormalChar=function(t){return t>=32&&t<=127},l.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},l.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},l.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(t,e){var n=this.displayed_[14];n+=e,this.displayed_[14]=n},l.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.topRow_;t<14;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[14]=""},l.prototype.paintOn=function(){},t.exports={CaptionStream:r,Cea608Stream:l}},nvwQ:function(t,e){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],s=function(t){for(var e=[];t--;)e.push(0);return e},a={96000:[i,[227,64],s(154),[56]],88200:[i,[231],s(170),[56]],64000:[i,[248,192],s(240),[56]],48000:[i,[255,192],s(268),[55,148,128],s(54),[112]],44100:[i,[255,192],s(268),[55,163,128],s(84),[112]],32000:[i,[255,192],s(268),[55,234],s(226),[112]],24000:[i,[255,192],s(268),[55,255,128],s(268),[111,112],s(126),[224]],16000:[i,[255,192],s(268),[55,255,128],s(268),[111,255],s(269),[223,108],s(195),[1,192]],12000:[r,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,253,128],s(259),[56]],11025:[r,s(268),[3,127,248],s(268),[6,255,240],s(268),[13,255,224],s(268),[27,255,192],s(268),[55,175,128],s(108),[112]],8000:[r,s(268),[3,121,16],s(47),[7]]};t.exports=(n=a,Object.keys(n).reduce(function(t,e){return t[e]=new Uint8Array(n[e].reduce(function(t,e){return t.concat(e)},[])),t},{}))},nwUB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("9SM9")),o=s(n("1n34")),u=s(n("VBq3")),l=s(n("lY3j")),c=n("iqvJ"),h=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),d=function(t){return String.fromCharCode.apply(null,t)},f=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.mediaSource_=null,this.subtitlesTrack_=null}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return o.default.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return o.default.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,c.initSegmentId)(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=h.byteLength+t.bytes.byteLength,s=new Uint8Array(r);s.set(t.bytes),s.set(h,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){(0,l.default)(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e,n=this.pendingSegment_,i=n.segment;if("function"!=typeof u.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=(e=function(){t.handleSegment_()},t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:void 0});if("object"==typeof r)return r.v}i.requested=!0;try{this.parseVTTCues_(n)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,n.cues.length&&this.remove(n.cues[0].endTime,n.cues[n.cues.length-1].endTime),n.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof u.default.TextDecoder?e=new u.default.TextDecoder("utf8"):(e=u.default.WebVTT.StringDecoder(),n=!0);var i=new u.default.WebVTT.Parser(u.default,u.default.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){o.default.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;n&&(r=d(r)),i.parse(r)}var s=t.bytes;n&&(s=d(s)),i.parse(s),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=s,t.endTime+=s}),!n.syncInfo){var a=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,o-i.duration)}}}else i.empty=!0}}]),e}();e.default=f,t.exports=e.default},"o/0m":function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},oF46:function(t,e,n){t.exports=n("ISg9"),t.exports.parser=n("JBnk")},oeSj:function(t,e,n){"use strict";var i=n("kxdO"),r=n("uBjM"),s=n("FJlU"),a=n("1XZu"),o=n("jvjr"),u=0,l=1,c=2,h=4,d=5,f=6,p=0,g=1,m=2,v=-2,y=-3,b=-4,_=-5,T=8,S=1,w=2,E=3,C=4,k=5,x=6,A=7,O=8,P=9,D=10,I=11,R=12,L=13,F=14,B=15,M=16,N=17,j=18,U=19,H=20,V=21,q=22,z=23,W=24,$=25,K=26,G=27,Y=28,X=29,J=30,Z=31,Q=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=S,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,p):v}function st(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):v}function at(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,st(t))):v}function ot(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=at(t,e))!==p&&(t.state=null),n):v}var ut,lt,ct=!0;function ht(t){if(ct){var e;for(ut=new i.Buf32(512),lt=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(l,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(c,t.lens,0,32,lt,0,t.work,{bits:5}),ct=!1}t.lencode=ut,t.lenbits=9,t.distcode=lt,t.distbits=5}function dt(t,e,n,r){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>r&&(s=r),i.arraySet(a.window,e,n-r,s,a.wnext),(r-=s)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}e.inflateReset=st,e.inflateReset2=at,e.inflateResetKeep=rt,e.inflateInit=function(t){return ot(t,nt)},e.inflateInit2=ot,e.inflate=function(t,e){var n,tt,et,nt,rt,st,at,ot,ut,lt,ct,ft,pt,gt,mt,vt,yt,bt,_t,Tt,St,wt,Et,Ct,kt=0,xt=new i.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(n=t.state).mode===R&&(n.mode=L),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,st=t.avail_in,ot=n.hold,ut=n.bits,lt=st,ct=at,wt=p;t:for(;;)switch(n.mode){case S:if(0===n.wrap){n.mode=L;break}for(;ut<16;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(2&n.wrap&&35615===ot){n.check=0,xt[0]=255&ot,xt[1]=ot>>>8&255,n.check=s(n.check,xt,2,0),ot=0,ut=0,n.mode=w;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ot)<<8)+(ot>>8))%31){t.msg="incorrect header check",n.mode=J;break}if((15&ot)!==T){t.msg="unknown compression method",n.mode=J;break}if(ut-=4,St=8+(15&(ot>>>=4)),0===n.wbits)n.wbits=St;else if(St>n.wbits){t.msg="invalid window size",n.mode=J;break}n.dmax=1<<St,t.adler=n.check=1,n.mode=512&ot?D:R,ot=0,ut=0;break;case w:for(;ut<16;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(n.flags=ot,(255&n.flags)!==T){t.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=ot>>8&1),512&n.flags&&(xt[0]=255&ot,xt[1]=ot>>>8&255,n.check=s(n.check,xt,2,0)),ot=0,ut=0,n.mode=E;case E:for(;ut<32;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.time=ot),512&n.flags&&(xt[0]=255&ot,xt[1]=ot>>>8&255,xt[2]=ot>>>16&255,xt[3]=ot>>>24&255,n.check=s(n.check,xt,4,0)),ot=0,ut=0,n.mode=C;case C:for(;ut<16;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.xflags=255&ot,n.head.os=ot>>8),512&n.flags&&(xt[0]=255&ot,xt[1]=ot>>>8&255,n.check=s(n.check,xt,2,0)),ot=0,ut=0,n.mode=k;case k:if(1024&n.flags){for(;ut<16;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.length=ot,n.head&&(n.head.extra_len=ot),512&n.flags&&(xt[0]=255&ot,xt[1]=ot>>>8&255,n.check=s(n.check,xt,2,0)),ot=0,ut=0}else n.head&&(n.head.extra=null);n.mode=x;case x:if(1024&n.flags&&((ft=n.length)>st&&(ft=st),ft&&(n.head&&(St=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ft,St)),512&n.flags&&(n.check=s(n.check,tt,ft,nt)),st-=ft,nt+=ft,n.length-=ft),n.length))break t;n.length=0,n.mode=A;case A:if(2048&n.flags){if(0===st)break t;ft=0;do{St=tt[nt+ft++],n.head&&St&&n.length<65536&&(n.head.name+=String.fromCharCode(St))}while(St&&ft<st);if(512&n.flags&&(n.check=s(n.check,tt,ft,nt)),st-=ft,nt+=ft,St)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===st)break t;ft=0;do{St=tt[nt+ft++],n.head&&St&&n.length<65536&&(n.head.comment+=String.fromCharCode(St))}while(St&&ft<st);if(512&n.flags&&(n.check=s(n.check,tt,ft,nt)),st-=ft,nt+=ft,St)break t}else n.head&&(n.head.comment=null);n.mode=P;case P:if(512&n.flags){for(;ut<16;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(ot!==(65535&n.check)){t.msg="header crc mismatch",n.mode=J;break}ot=0,ut=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=R;break;case D:for(;ut<32;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}t.adler=n.check=it(ot),ot=0,ut=0,n.mode=I;case I:if(0===n.havedict)return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=st,n.hold=ot,n.bits=ut,m;t.adler=n.check=1,n.mode=R;case R:if(e===d||e===f)break t;case L:if(n.last){ot>>>=7&ut,ut-=7&ut,n.mode=G;break}for(;ut<3;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}switch(n.last=1&ot,ut-=1,3&(ot>>>=1)){case 0:n.mode=F;break;case 1:if(ht(n),n.mode=H,e===f){ot>>>=2,ut-=2;break t}break;case 2:n.mode=N;break;case 3:t.msg="invalid block type",n.mode=J}ot>>>=2,ut-=2;break;case F:for(ot>>>=7&ut,ut-=7&ut;ut<32;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if((65535&ot)!=(ot>>>16^65535)){t.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&ot,ot=0,ut=0,n.mode=B,e===f)break t;case B:n.mode=M;case M:if(ft=n.length){if(ft>st&&(ft=st),ft>at&&(ft=at),0===ft)break t;i.arraySet(et,tt,nt,ft,rt),st-=ft,nt+=ft,at-=ft,rt+=ft,n.length-=ft;break}n.mode=R;break;case N:for(;ut<14;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(n.nlen=257+(31&ot),ot>>>=5,ut-=5,n.ndist=1+(31&ot),ot>>>=5,ut-=5,n.ncode=4+(15&ot),ot>>>=4,ut-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=j;case j:for(;n.have<n.ncode;){for(;ut<3;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.lens[At[n.have++]]=7&ot,ot>>>=3,ut-=3}for(;n.have<19;)n.lens[At[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Et={bits:n.lenbits},wt=o(u,n.lens,0,19,n.lencode,0,n.work,Et),n.lenbits=Et.bits,wt){t.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=U;case U:for(;n.have<n.nlen+n.ndist;){for(;vt=(kt=n.lencode[ot&(1<<n.lenbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(yt<16)ot>>>=mt,ut-=mt,n.lens[n.have++]=yt;else{if(16===yt){for(Ct=mt+2;ut<Ct;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(ot>>>=mt,ut-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=J;break}St=n.lens[n.have-1],ft=3+(3&ot),ot>>>=2,ut-=2}else if(17===yt){for(Ct=mt+3;ut<Ct;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}ut-=mt,St=0,ft=3+(7&(ot>>>=mt)),ot>>>=3,ut-=3}else{for(Ct=mt+7;ut<Ct;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}ut-=mt,St=0,ft=11+(127&(ot>>>=mt)),ot>>>=7,ut-=7}if(n.have+ft>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=J;break}for(;ft--;)n.lens[n.have++]=St}}if(n.mode===J)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,Et={bits:n.lenbits},wt=o(l,n.lens,0,n.nlen,n.lencode,0,n.work,Et),n.lenbits=Et.bits,wt){t.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,Et={bits:n.distbits},wt=o(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Et),n.distbits=Et.bits,wt){t.msg="invalid distances set",n.mode=J;break}if(n.mode=H,e===f)break t;case H:n.mode=V;case V:if(st>=6&&at>=258){t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=st,n.hold=ot,n.bits=ut,a(t,ct),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,st=t.avail_in,ot=n.hold,ut=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;vt=(kt=n.lencode[ot&(1<<n.lenbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(vt&&0==(240&vt)){for(bt=mt,_t=vt,Tt=yt;vt=(kt=n.lencode[Tt+((ot&(1<<bt+_t)-1)>>bt)])>>>16&255,yt=65535&kt,!(bt+(mt=kt>>>24)<=ut);){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}ot>>>=bt,ut-=bt,n.back+=bt}if(ot>>>=mt,ut-=mt,n.back+=mt,n.length=yt,0===vt){n.mode=K;break}if(32&vt){n.back=-1,n.mode=R;break}if(64&vt){t.msg="invalid literal/length code",n.mode=J;break}n.extra=15&vt,n.mode=q;case q:if(n.extra){for(Ct=n.extra;ut<Ct;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.length+=ot&(1<<n.extra)-1,ot>>>=n.extra,ut-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=z;case z:for(;vt=(kt=n.distcode[ot&(1<<n.distbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(0==(240&vt)){for(bt=mt,_t=vt,Tt=yt;vt=(kt=n.distcode[Tt+((ot&(1<<bt+_t)-1)>>bt)])>>>16&255,yt=65535&kt,!(bt+(mt=kt>>>24)<=ut);){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}ot>>>=bt,ut-=bt,n.back+=bt}if(ot>>>=mt,ut-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=J;break}n.offset=yt,n.extra=15&vt,n.mode=W;case W:if(n.extra){for(Ct=n.extra;ut<Ct;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}n.offset+=ot&(1<<n.extra)-1,ot>>>=n.extra,ut-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=J;break}n.mode=$;case $:if(0===at)break t;if(ft=ct-at,n.offset>ft){if((ft=n.offset-ft)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=J;break}ft>n.wnext?(ft-=n.wnext,pt=n.wsize-ft):pt=n.wnext-ft,ft>n.length&&(ft=n.length),gt=n.window}else gt=et,pt=rt-n.offset,ft=n.length;ft>at&&(ft=at),at-=ft,n.length-=ft;do{et[rt++]=gt[pt++]}while(--ft);0===n.length&&(n.mode=V);break;case K:if(0===at)break t;et[rt++]=n.length,at--,n.mode=V;break;case G:if(n.wrap){for(;ut<32;){if(0===st)break t;st--,ot|=tt[nt++]<<ut,ut+=8}if(ct-=at,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?s(n.check,et,ct,rt-ct):r(n.check,et,ct,rt-ct)),ct=at,(n.flags?ot:it(ot))!==n.check){t.msg="incorrect data check",n.mode=J;break}ot=0,ut=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;ut<32;){if(0===st)break t;st--,ot+=tt[nt++]<<ut,ut+=8}if(ot!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=J;break}ot=0,ut=0}n.mode=X;case X:wt=g;break t;case J:wt=y;break t;case Z:return b;case Q:default:return v}return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=st,n.hold=ot,n.bits=ut,(n.wsize||ct!==t.avail_out&&n.mode<J&&(n.mode<G||e!==h))&&dt(t,t.output,t.next_out,ct-t.avail_out)?(n.mode=Z,b):(lt-=t.avail_in,ct-=t.avail_out,t.total_in+=lt,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?s(n.check,et,ct,t.next_out-ct):r(n.check,et,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===H||n.mode===B?256:0),(0===lt&&0===ct||e===h)&&wt===p&&(wt=_),wt)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,p},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?v:(n.head=e,e.done=!1,p):v},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==I?v:n.mode===I&&r(1,e,i,0)!==n.check?y:dt(t,e,i,i)?(n.mode=Z,b):(n.havedict=1,p):v},e.inflateInfo="pako inflate (from Nodeca project)"},pAs2:function(t,e){!function(t){for(var e=0,n=["webkit","moz"],i=t.requestAnimationFrame,r=t.cancelAnimationFrame,s=n.length;--s>=0&&!i;)i=t[n[s]+"RequestAnimationFrame"],r=t[n[s]+"CancelAnimationFrame"];i&&r||(i=function(t){var n=+new Date,i=Math.max(e+16,n);return setTimeout(function(){t(e=i)},i-n)},r=clearTimeout),t.requestAnimationFrame=i,t.cancelAnimationFrame=r}(window)},pYMX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){return t&&t.__esModule?t:{default:t}}var s=r(n("VBq3")),a=r(n("1qaj")),o=r(n("1n34")),u=["seeking","seeked","pause","playing","error"],l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=o.default.log.bind(o.default,"playback-watcher ->")),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},l=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",l),this.tech_.on("waiting",r),this.tech_.on(u,a),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",l),n.tech_.off("waiting",r),n.tech_.off(u,a),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&s.default.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return i(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&s.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=s.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+a.default.SAFE_TIME_DELTA>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;t&&this.afterSeekableWindow_(e,n)&&(i=e.end(e.length-1));t&&this.beforeSeekableWindow_(e,n)&&(i=e.start(0)+a.default.SAFE_TIME_DELTA);return void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+a.default.printableRange(e)+". Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=a.default.findRange(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=a.default.findNextRange(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var s=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+a.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-a.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=a.default.findNextRange(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+a.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=a.default.findGaps(t),i=0;i<n.length;i++){var r=n.start(i),s=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:s}}return null}},{key:"logger_",value:function(){}}]),t}();e.default=l,t.exports=e.default},pa3L:function(t,e,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return i[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=r(t.subarray(10,14)));do{if((n=r(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var s=0;s<i.byteLength;s++)if(0===i[s]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,s))){var a=i.subarray(s+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return o*=4,o+=3&a[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}}},pmpl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("1n34"),s=n("VBq3"),a=(i=s)&&i.__esModule?i:{default:i},o=function(t,e,n){var i,r;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e)).precise?i.result:(r=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(i=t.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?r.result:i.result+n},u=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return a.default.Infinity}return o(t,e,n)};e.duration=u;var l=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var s=e;s<Math.min(0,n);s++)i+=t.targetDuration;e=0}for(s=e;s<n;s++)i+=t.segments[s].duration;return i};e.sumDurations=l;var c=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!((n+=t.segments[e].duration)>=i););return Math.max(0,e)};e.safeLiveIndex=c;var h=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return u(t);if(null===e)return null;e=e||0;var i=n?c(t):t.segments.length;return o(t,t.mediaSequence+i,e)};e.playlistEnd=h;var d=function(t,e){var n=e||0,i=h(t,e,!0);return null===i?(0,r.createTimeRange)():(0,r.createTimeRange)(n,i)};e.seekable=d;var f=function(t){return t-Math.floor(t)==0},p=function(t,e){if(f(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),s=e*r;if(f(s)||i===n)return(s+t)/r}},g=p.bind(null,1),m=p.bind(null,-1),v=function(t,e,n,i){var r=void 0,s=void 0,a=t.segments.length,o=e-i;if(o<0){if(n>0)for(r=n-1;r>=0;r--)if(s=t.segments[r],(o+=m(s.duration))>0)return{mediaIndex:r,startTime:i-l(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<a;r++)if(s=t.segments[r],(o-=g(s.duration))<0)return{mediaIndex:r,startTime:i+l(t,n,r)};return{mediaIndex:a-1,startTime:e}};e.getMediaInfoForTime=v;var y=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()};e.isBlacklisted=y;var b=function(t){return t.excludeUntil&&t.excludeUntil===1/0};e.isIncompatible=b;var _=function(t){var e=y(t);return!t.disabled&&!e};e.isEnabled=_;var T=function(t){return t.disabled};e.isDisabled=T;var S=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1};e.isAes=S;var w=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1};e.isFmp4=w;var E=function(t,e){return e.attributes&&e.attributes[t]};e.hasAttribute=E;var C=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return E("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN};e.estimateSegmentRequestTime=C;var k=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!_(t)&&(t.attributes.BANDWIDTH||0)<n}).length};e.isLowestEnabledRendition=k,e.default={duration:u,seekable:d,safeLiveIndex:c,getMediaInfoForTime:v,isEnabled:_,isDisabled:T,isBlacklisted:y,isIncompatible:b,playlistEnd:h,isAes:S,isFmp4:w,hasAttribute:E,estimateSegmentRequestTime:C,isLowestEnabledRendition:k}},popd:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("VBq3")),s=i(n("1n34")),a=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t};e.default={addTextTrackData:function(t,e,n){var i,o=r.default.WebKitDataCue||r.default.VTTCue;e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new o(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n&&(i=a(t.mediaSource_.duration),n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new o(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return s.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return s.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return s.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length&&function(){for(var e=t.metadataTrack_.cues,n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);var s=n.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),a=Object.keys(s).sort(function(t,e){return Number(t)-Number(e)});a.forEach(function(t,e){var n=s[t],r=Number(a[e+1])||i;n.forEach(function(t){t.endTime=r})})}())},durationOfVideo:a},t.exports=e.default},qGBE:function(t,e){function n(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",i=0;i<arguments.length;i++)e+=n(t[i])+(arguments[i+1]||"");return e}},qGv7:function(t,e,n){var i=n("qozV"),r=n("kZKs"),s=n("aM71")(!1),a=n("vD1g")("IE_PROTO");t.exports=function(t,e){var n,o=r(t),u=0,l=[];for(n in o)n!=a&&i(o,n)&&l.push(n);for(;e.length>u;)i(o,n=e[u++])&&(~s(l,n)||l.push(n));return l}},"qZ+J":function(t,e,n){"use strict";var i=n("VBq3"),r=n.n(i),s=n("e3Mc"),a=n.n(s),o=n("qGBE"),u=n.n(o),l=n("H0Gi"),c=n.n(l),h=n("J/aw"),d=n.n(h),f=n("Lvi9"),p=n.n(f),g=n("JlEl"),m=n.n(g),v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},b=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},_=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},T=function(){function t(){v(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t],n=void 0,i=void 0,r=void 0;if(e)if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),S=function(t){function e(){v(this,e);var n=_(this,t.call(this));return n.buffer="",n}return b(e,t),e.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(T),w=function(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=e.length,r=void 0;i--;)""!==e[i]&&((r=/([^=]*)=(.*)/.exec(e[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},E=function(t){function e(){v(this,e);var n=_(this,t.call(this));return n.customParsers=[],n}return b(e,t),e.prototype.push=function(t){var e=void 0,n=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===t[0]){for(var i=0;i<this.customParsers.length;i++)if(this.customParsers[i].call(this,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var r=w(e[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var s=r.BYTERANGE.split("@"),a=s[0],o=s[1];n.byterange={},a&&(n.byterange.length=parseInt(a,10)),o&&(n.byterange.offset=parseInt(o,10))}}this.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=w(e[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=w(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=w(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=w(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)})}else this.trigger("data",{type:"uri",uri:t})},e.prototype.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,s=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:s}),!0})},e}(T),C=function(t){function e(){v(this,e);var n=_(this,t.call(this));n.lineStream=new S,n.parseStream=new E,n.lineStream.pipe(n.parseStream);var i=n,r=[],s={},a=void 0,o=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},n.parseStream.on("data",function(t){var e=void 0,n=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(s.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(s.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(o.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):o=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,l=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){a={},t.uri&&(a.uri=t.uri),t.byterange&&(a.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(s.attributes||(s.attributes={}),y(s.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),s.dateTimeString=t.dateTimeString,s.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data}})[t.tagType]||function(){}).call(i)},uri:function(){s.uri=t.uri,r.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),o&&(s.key=o),s.timeline=l,a&&(s.map=a),s={}},comment:function(){},custom:function(){t.segment?(s.custom=s.custom||{},s.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(i)}),n}return b(e,t),e.prototype.push=function(t){this.lineStream.push(t)},e.prototype.end=function(){this.lineStream.push("\n")},e.prototype.addParser=function(t){this.parseStream.addParser(t)},e}(T),k=n("Lj3X"),x=n("0P9+"),A=n.n(x),O=n("uwdR"),P=n("B7Wq"),D=n.n(P);var I=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},R=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),L=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},F=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!i[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,i[a]=d,r[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,s=0;s<4;s++)e[s][a]=f=f<<24^f>>>8,n[s][d]=p=p<<24^p>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),n[s]=n[s].slice(0);return t},B=null,M=function(){function t(e){I(this,t),B||(B=F()),this._tables=[[B[0][0].slice(),B[0][1].slice(),B[0][2].slice(),B[0][3].slice(),B[0][4].slice()],[B[1][0].slice(),B[1][1].slice(),B[1][2].slice(),B[1][3].slice(),B[1][4].slice()]];var n=void 0,i=void 0,r=void 0,s=void 0,a=void 0,o=this._tables[0][4],u=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(s=e.slice(0),a=[],this._key=[s,a],n=l;n<4*l+28;n++)r=s[n-1],(n%l==0||8===l&&n%l==4)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],n%l==0&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),s[n]=s[n-l]^r;for(i=0;n;i++,n--)r=s[3&i?n:n-4],a[i]=n<=4||i<4?r:u[0][o[r>>>24]]^u[1][o[r>>16&255]]^u[2][o[r>>8&255]]^u[3][o[255&r]]}return t.prototype.decrypt=function(t,e,n,i,r,s){var a=this._key[1],o=t^a[0],u=i^a[1],l=n^a[2],c=e^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(g=0;g<p;g++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^a[m],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^a[m+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^a[m+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^a[m+3],m+=4,o=h,u=d,l=f;for(g=0;g<4;g++)r[(3&-g)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[m++],h=o,o=u,u=l,l=c,c=h},t}(),N=function(){function t(){I(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),j=function(t){function e(){I(this,e);var n=L(this,t.call(this,N));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(N),U=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},H=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new M(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),a=new Int32Array(s.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;for(o=n[0],u=n[1],l=n[2],c=n[3],g=0;g<i.length;g+=4)h=U(i[g]),d=U(i[g+1]),f=U(i[g+2]),p=U(i[g+3]),r.decrypt(h,d,f,p,a,g),a[g]=U(a[g]^o),a[g+1]=U(a[g+1]^u),a[g+2]=U(a[g+2]^l),a[g+3]=U(a[g+3]^c),o=h,u=d,l=f,c=p;return s},V=function(){function t(e,n,i,r){I(this,t);var s=t.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),u=0;for(this.asyncStream_=new j,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+s),n,i,o)),u=s;u<a.length;u+=s)i=new Uint32Array([U(a[u-4]),U(a[u-3]),U(a[u-2]),U(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+s),n,i,o));this.asyncStream_.push(function(){var t;r(null,(t=o).subarray(0,t.byteLength-t[t.byteLength-1]))})}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=H(t,e,n);i.set(r,t.byteOffset)}},R(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),q="7.3.0";function z(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t,e,n){return($=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&W(r,n.prototype),r}).apply(null,arguments)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return e||(e=t.slice(0)),t.raw=e,t}var Y=[],X=function(t,e){return function(n,i,s){var a=e.levels[i],o=new RegExp("^("+a+")$");if("log"!==n&&s.unshift(n.toUpperCase()+":"),s.unshift(t+":"),Y&&Y.push([].concat(s)),r.a.console){var u=r.a.console[n];u||"debug"!==n||(u=r.a.console.info||r.a.console.log),u&&a&&o.test(n)&&u[Array.isArray(s)?"apply":"call"](r.a.console,s)}}};var J=function t(e){var n,i="info",r=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n("log",i,e)};return n=X(e,r),r.createLogger=function(n){return t(e+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},(r.history=function(){return Y?[].concat(Y):[]}).filter=function(t){return(Y||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},r.history.clear=function(){Y&&(Y.length=0)},r.history.disable=function(){null!==Y&&(Y.length=0,Y=null)},r.history.enable=function(){null===Y&&(Y=[])},r.error=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("error",i,e)},r.warn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("warn",i,e)},r.debug=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("debug",i,e)},r}("VIDEOJS"),Z=J.createLogger,Q=Object.prototype.toString,tt=function(t){return it(t)?Object.keys(t):[]};function et(t,e){tt(t).forEach(function(n){return e(t[n],n)})}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&et(e,function(e,n){t[n]=e})}),t)}function it(t){return!!t&&"object"==typeof t}function rt(t){return it(t)&&"[object Object]"===Q.call(t)&&t.constructor===Object}function st(t,e){if(!t||!e)return"";if("function"==typeof r.a.getComputedStyle){var n=r.a.getComputedStyle(t);return n?n[e]:""}return""}function at(){var t=G(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return at=function(){return t},t}function ot(t){return"string"==typeof t&&/\S/.test(t)}function ut(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function lt(){return a.a===r.a.document}function ct(t){return it(t)&&1===t.nodeType}function ht(){try{return r.a.parent!==r.a.self}catch(t){return!0}}function dt(t){return function(e,n){if(!ot(e))return a.a[t](null);ot(n)&&(n=a.a.querySelector(n));var i=ct(n)?n:a.a;return i[t]&&i[t](e)}}function ft(t,e,n,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var r=a.a.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(J.warn(u()(at(),t,n)),r.setAttribute(t,n)):"textContent"===t?pt(r,n):r[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),i&&Rt(r,i),r}function pt(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function gt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function mt(t,e){return ut(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function vt(t,e){return t.classList?t.classList.add(e):mt(t,e)||(t.className=(t.className+" "+e).trim()),t}function yt(t,e){return t.classList?t.classList.remove(e):(ut(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function bt(t,e,n){var i=mt(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?vt(t,e):yt(t,e),t}function _t(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||void 0===i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)})}function Tt(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var s=i[r].name,a=i[r].value;"boolean"!=typeof t[s]&&-1===n.indexOf(","+s+",")||(a=null!==a),e[s]=a}return e}function St(t,e){return t.getAttribute(e)}function wt(t,e,n){t.setAttribute(e,n)}function Et(t,e){t.removeAttribute(e)}function Ct(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function kt(){a.a.onselectstart=function(){return!0}}function xt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(st(t,"height"))),n.width||(n.width=parseFloat(st(t,"width"))),n}}function At(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=a.a.documentElement,i=a.a.body,s=n.clientLeft||i.clientLeft||0,o=r.a.pageXOffset||i.scrollLeft,u=e.left+o-s,l=n.clientTop||i.clientTop||0,c=r.a.pageYOffset||i.scrollTop,h=e.top+c-l;return{left:Math.round(u),top:Math.round(h)}}function Ot(t,e){var n={},i=At(t),r=t.offsetWidth,s=t.offsetHeight,a=i.top,o=i.left,u=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+s)/s)),n.x=Math.max(0,Math.min(1,(l-o)/r)),n}function Pt(t){return it(t)&&3===t.nodeType}function Dt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function It(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),ct(t)||Pt(t)?t:"string"==typeof t&&/\S/.test(t)?a.a.createTextNode(t):void 0}).filter(function(t){return t})}function Rt(t,e){return It(e).forEach(function(e){return t.appendChild(e)}),t}function Lt(t,e){return Rt(Dt(t),e)}function Ft(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons)}var Bt=dt("querySelector"),Mt=dt("querySelectorAll"),Nt=Object.freeze({isReal:lt,isEl:ct,isInFrame:ht,createEl:ft,textContent:pt,prependTo:gt,hasClass:mt,addClass:vt,removeClass:yt,toggleClass:bt,setAttributes:_t,getAttributes:Tt,getAttribute:St,setAttribute:wt,removeAttribute:Et,blockTextSelection:Ct,unblockTextSelection:kt,getBoundingClientRect:xt,findPosition:At,getPointerPosition:Ot,isTextNode:Pt,emptyEl:Dt,normalizeContent:It,appendContent:Rt,insertContent:Lt,isSingleLeftClick:Ft,$:Bt,$$:Mt}),jt=1;function Ut(){return jt++}var Ht={},Vt="vdata"+(new Date).getTime();function qt(t){var e=t[Vt];return e||(e=t[Vt]=Ut()),Ht[e]||(Ht[e]={}),Ht[e]}function zt(t){var e=t[Vt];return!!e&&!!Object.getOwnPropertyNames(Ht[e]).length}function Wt(t){var e=t[Vt];if(e){delete Ht[e];try{delete t[Vt]}catch(e){t.removeAttribute?t.removeAttribute(Vt):t[Vt]=null}}}function $t(t,e){var n=qt(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Wt(t)}function Kt(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function Gt(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||r.a.event;for(var s in t={},i)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&i.preventDefault||(t[s]=i[s]));if(t.target||(t.target=t.srcElement||a.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var o=a.a.documentElement,u=a.a.body;t.pageX=t.clientX+(o&&o.scrollLeft||u&&u.scrollLeft||0)-(o&&o.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||u&&u.scrollTop||0)-(o&&o.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Yt=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){Yt=!0}});r.a.addEventListener("test",null,t),r.a.removeEventListener("test",null,t)}catch(t){}}();var Xt=["touchstart","touchmove"];function Jt(t,e,n){if(Array.isArray(e))return Kt(Jt,t,e,n);var i=qt(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Ut()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=Gt(e);var r=i.handlers[e.type];if(r)for(var s=r.slice(0),a=0,o=s.length;a<o&&!e.isImmediatePropagationStopped();a++)try{s[a].call(t,e,n)}catch(t){J.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;Yt&&Xt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Zt(t,e,n){if(zt(t)){var i=qt(t);if(i.handlers){if(Array.isArray(e))return Kt(Zt,t,e,n);var r=function(t,e){i.handlers[e]=[],$t(t,e)};if(void 0!==e){var s=i.handlers[e];if(s)if(n){if(n.guid)for(var a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);$t(t,e)}else r(t,e)}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&r(t,o)}}}function Qt(t,e,n){var i=zt(t)?qt(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Gt(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)Qt.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var s=qt(e.target);e.target[e.type]&&(s.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function te(t,e,n){if(Array.isArray(e))return Kt(te,t,e,n);var i=function i(){Zt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ut(),Jt(t,e,i)}var ee,ne=Object.freeze({fixEvent:Gt,on:Jt,off:Zt,trigger:Qt,one:te}),ie=!1,re=function(){if(lt()&&!1!==ee.options.autoSetup){var t=Array.prototype.slice.call(a.a.getElementsByTagName("video")),e=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(var r=0,s=i.length;r<s;r++){var o=i[r];if(!o||!o.getAttribute){se(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&ee(o)}else ie||se(1)}};function se(t,e){e&&(ee=e),r.a.setTimeout(re,t)}lt()&&"complete"===a.a.readyState?ie=!0:te(r.a,"load",function(){ie=!0});var ae,oe=function(t){var e=a.a.createElement("style");return e.className=t,e},ue=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},le=function(t,e,n){e.guid||(e.guid=Ut());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},ce=function(t,e){var n=Date.now();return function(){var i=Date.now();i-n>=e&&(t.apply(void 0,arguments),n=i)}},he=function(t,e,n,i){var s;void 0===i&&(i=r.a);var a=function(){var r=this,a=arguments,o=function(){s=null,o=null,n||t.apply(r,a)};!s&&n&&t.apply(r,a),i.clearTimeout(s),s=i.setTimeout(o,e)};return a.cancel=function(){i.clearTimeout(s),s=null},a},de=function(){};de.prototype.allowedEvents_={},de.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Jt(this,t,e),this.addEventListener=n},de.prototype.addEventListener=de.prototype.on,de.prototype.off=function(t,e){Zt(this,t,e)},de.prototype.removeEventListener=de.prototype.off,de.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},te(this,t,e),this.addEventListener=n},de.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=Gt(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Qt(this,t)},de.prototype.dispatchEvent=de.prototype.trigger,de.prototype.queueTrigger=function(t){var e=this;ae||(ae=new Map);var n=t.type||t,i=ae.get(this);i||(i=new Map,ae.set(this,i));var s=i.get(n);i.delete(n),r.a.clearTimeout(s);var a=r.a.setTimeout(function(){0===i.size&&(i=null,ae.delete(e)),e.trigger(t)},0);i.set(n,a)};var fe=function(t){return t instanceof de||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},pe=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},ge=function(t){if(!t.nodeName&&!fe(t))throw new Error("Invalid target; must be a DOM node or evented object.")},me=function(t){if(!pe(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ve=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},ye=function(t,e){var n,i,r,s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return s?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),ge(n),me(i),ve(r),{isTargetingSelf:s,target:n,type:i,listener:r=le(t,r)}},be=function(t,e,n,i){ge(t),t.nodeName?ne[e](t,n,i):t[e](n,i)},_e={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=ye(this,n),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(be(a,"on",o,u),!s){var l=function(){return t.off(a,o,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,be(this,"on","dispose",l),be(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=ye(this,n),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(s)be(a,"one",o,u);else{var l=function e(){t.off(a,o,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,be(a,"one",o,l)}},off:function(t,e,n){if(!t||pe(t))Zt(this.eventBusEl_,t,e);else{var i=t,r=e;ge(i),me(r),ve(n),n=le(this,n),this.off("dispose",n),i.nodeName?(Zt(i,r,n),Zt(i,"dispose",n)):fe(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return Qt(this.eventBusEl_,t,e)}};function Te(t,e){void 0===e&&(e={});var n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=ft("span",{className:"vjs-event-bus"});return nt(t,_e),t.on("dispose",function(){t.off(),r.a.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Se={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),et(t,function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t}),e&&fe(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function we(t,e){return nt(t,Se),t.state=nt({},t.state,e),"function"==typeof t.handleStateChanged&&fe(t)&&t.on("statechanged",t.handleStateChanged),t}function Ee(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Ce(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&et(e,function(e,n){rt(e)?(rt(t[n])||(t[n]={}),t[n]=Ce(t[n],e)):t[n]=e})}),t}var ke=function(){function t(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.options_=Ce({},this.options_),e=this.options_=Ce(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Ut()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Te(this,{eventBusKey:this.el_?"el_":null}),we(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Wt(this.el_),this.el_=null),this.player_=null},e.player=function(){return this.player_},e.options=function(t){return J.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=Ce(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,n){return ft(t,e,n)},e.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[i],a=i&&i.split("-")[0],o=r&&r[a],u=n;return s&&s[t]?u=s[t]:o&&o[t]&&(u=o[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r})),u},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return t=Ee(t),this.childNameIndex_[t]},e.addChild=function(e,n,i){var r,s;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof e){s=Ee(e);var a=n.componentClass||s;n.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;r=new o(this.player_||this,n)}else r=e;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(s=s||r.name&&Ee(r.name()))&&(this.childNameIndex_[s]=r),"function"==typeof r.el&&r.el()){var u=this.contentEl().children[i]||null;this.contentEl().insertBefore(r.el(),u)}return r},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,n=this.options_.children;if(n){var i,r=this.options_,s=t.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!i.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i,r;return"string"==typeof t?r=n[i=t]||e.options_[i]||{}:(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||Ee(e.name));return n&&!s.isTech(n)}).forEach(function(t){var n=t.name,i=t.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var s=e.addChild(n,i);s&&(e[n]=s)}})}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(t,e){return Bt(t,e||this.contentEl())},e.$$=function(t,e){return Mt(t,e||this.contentEl())},e.hasClass=function(t){return mt(this.el_,t)},e.addClass=function(t){vt(this.el_,t)},e.removeClass=function(t){yt(this.el_,t)},e.toggleClass=function(t,e){bt(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return St(this.el_,t)},e.setAttribute=function(t,e){wt(this.el_,t,e)},e.removeAttribute=function(t){Et(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Ee(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof r.a.getComputedStyle){var n=r.a.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+Ee(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.emitTapEvents=function(){var t,e=0,n=null;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=(new Date).getTime(),t=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)t=!1;else if(n){var i=e.touches[0].pageX-n.pageX,r=e.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(t=!1)}});var i=function(){t=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){(n=null,!0===t)&&((new Date).getTime()-e<200&&(i.preventDefault(),this.trigger("tap")))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=le(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(t,e){var n,i,s=this;return t=le(this,t),n=r.a.setTimeout(function(){s.off("dispose",i),t()},e),(i=function(){return s.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},e.clearTimeout=function(t){r.a.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},e.setInterval=function(t,e){var n=this;t=le(this,t);var i=r.a.setInterval(t,e),s=function(){return n.clearInterval(i)};return s.guid="vjs-interval-"+i,this.on("dispose",s),i},e.clearInterval=function(t){r.a.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},e.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=le(this,t),e=r.a.requestAnimationFrame(function(){i.off("dispose",n),t()}),(n=function(){return i.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){if(this.supportsRaf_){r.a.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i,r=t.getComponent("Tech"),s=r&&r.isTech(n),a=t===n||t.prototype.isPrototypeOf(n.prototype);if(s||!a)throw i=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=Ee(e),t.components_||(t.components_={});var o=t.getComponent("Player");if("Player"===e&&o&&o.players){var u=o.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=Ee(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();ke.prototype.supportsRaf_="function"==typeof r.a.requestAnimationFrame&&"function"==typeof r.a.cancelAnimationFrame,ke.registerComponent("Component",ke);var xe,Ae=r.a.navigator&&r.a.navigator.userAgent||"",Oe=/AppleWebKit\/([\d.]+)/i.exec(Ae),Pe=Oe?parseFloat(Oe.pop()):null,De=/iPad/i.test(Ae),Ie=/iPhone/i.test(Ae)&&!De,Re=/iPod/i.test(Ae),Le=Ie||De||Re,Fe=(xe=Ae.match(/OS (\d+)_/i))&&xe[1]?xe[1]:null,Be=/Android/i.test(Ae),Me=function(){var t=Ae.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Ne=Be&&Me<5&&Pe<537,je=/Firefox/i.test(Ae),Ue=/Edge/i.test(Ae),He=!Ue&&(/Chrome/i.test(Ae)||/CriOS/i.test(Ae)),Ve=function(){var t=Ae.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),qe=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ae),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ae)&&/rv:11.0/.test(Ae)&&(e=11),e}(),ze=/Safari/i.test(Ae)&&!He&&!Be&&!Ue,We=(ze||Le)&&!He,$e=lt()&&("ontouchstart"in r.a||r.a.navigator.maxTouchPoints||r.a.DocumentTouch&&r.a.document instanceof r.a.DocumentTouch),Ke=Object.freeze({IS_IPAD:De,IS_IPHONE:Ie,IS_IPOD:Re,IS_IOS:Le,IOS_VERSION:Fe,IS_ANDROID:Be,ANDROID_VERSION:Me,IS_NATIVE_ANDROID:Ne,IS_FIREFOX:je,IS_EDGE:Ue,IS_CHROME:He,CHROME_VERSION:Ve,IE_VERSION:qe,IS_SAFARI:ze,IS_ANY_SAFARI:We,TOUCH_ENABLED:$e});function Ge(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function Ye(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ge.bind(null,"start",0,t),end:Ge.bind(null,"end",1,t)}}function Xe(t,e){return Array.isArray(t)?Ye(t):void 0===t||void 0===e?Ye():Ye([[t,e]])}function Je(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=Xe(0,0));for(var s=0;s<t.length;s++)n=t.start(s),(i=t.end(s))>e&&(i=e),r+=i-n;return r/e}for(var Ze,Qe={},tn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],en=tn[0],nn=0;nn<tn.length;nn++)if(tn[nn][1]in a.a){Ze=tn[nn];break}if(Ze)for(var rn=0;rn<Ze.length;rn++)Qe[en[rn]]=Ze[rn];function sn(t){if(t instanceof sn)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:it(t)&&("number"==typeof t.code&&(this.code=t.code),nt(this,t)),this.message||(this.message=sn.defaultMessages[this.code]||"")}sn.prototype.code=0,sn.prototype.message="",sn.prototype.status=null,sn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],sn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var an=0;an<sn.errorTypes.length;an++)sn[sn.errorTypes[an]]=an,sn.prototype[sn.errorTypes[an]]=an;function on(t){return void 0!==t&&null!==t&&"function"==typeof t.then}function un(t){on(t)&&t.then(null,function(t){})}var ln=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,i){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},cn=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=ln(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(ln))},hn=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},dn="vjs-modal-dialog",fn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=ft("div",{className:dn+"-content"},{role:"document"}),i.descEl_=ft("p",{className:dn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),pt(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return dn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",le(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",le(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Lt(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),Dt(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return void 0!==t&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=a.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(a.a,"keydown",this.handleKeyDown))},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(a.a,"keydown",this.handleKeyDown)},n.handleKeyDown=function(t){if(9===t.which){for(var e,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){e=r;break}a.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof r.a.HTMLAnchorElement||t instanceof r.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.a.HTMLInputElement||t instanceof r.a.HTMLSelectElement||t instanceof r.a.HTMLTextAreaElement||t instanceof r.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.a.HTMLIFrameElement||t instanceof r.a.HTMLObjectElement||t instanceof r.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(ke);fn.prototype.options_={pauseOnOpen:!0,temporary:!0},ke.registerComponent("ModalDialog",fn);var pn=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(K(K(n)),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}z(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(de);for(var gn in pn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},pn.prototype.allowedEvents_)pn.prototype["on"+gn]=null;var mn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},vn=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){mn(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}return z(e,t),e.prototype.addTrack=function(e){var n=this;e.enabled&&mn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,mn(n,e),n.changing_=!1,n.trigger("change"))})},e}(pn),yn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},bn=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){yn(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(K(K(n)),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}return z(e,t),e.prototype.addTrack=function(e){var n=this;e.selected&&yn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,yn(n,e),n.changing_=!1,n.trigger("change"))})},e}(pn),_n=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",le(this,function(){this.queueTrigger("change")}));-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",le(this,function(){this.trigger("selectedlanguagechange")}))},e}(pn),Tn=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Sn=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),wn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},En={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Cn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},kn={disabled:"disabled",hidden:"hidden",showing:"showing"},xn=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+Ut(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(K(K(n)),t,{get:function(){return i[t]},set:function(){}})};for(var s in i)r(s);return n}return z(e,t),e}(de),An=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=a.a.createElement("a");n.href=t;var i,s=""===n.host&&"file:"!==n.protocol;s&&((i=a.a.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(i));for(var o={},u=0;u<e.length;u++)o[e[u]]=n[e[u]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=r.a.location.protocol),s&&a.a.body.removeChild(i),o},On=function(t){if(!t.match(/^https?:\/\//)){var e=a.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Pn=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""},Dn=function(t){var e=r.a.location,n=An(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},In=Object.freeze({parseUrl:An,getAbsoluteURL:On,getFileExtension:Pn,isCrossOrigin:Dn}),Rn=function(t,e){var n=new r.a.WebVTT.Parser(r.a,r.a.vttjs,r.a.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(r.a.console&&r.a.console.groupCollapsed&&r.a.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return J.error(t)}),r.a.console&&r.a.console.groupEnd&&r.a.console.groupEnd()),n.flush()},Ln=function(t,e){var n={uri:t},i=Dn(t);i&&(n.cors=i),c()(n,le(this,function(t,n,i){if(t)return J.error(t,n);if(e.loaded_=!0,"function"!=typeof r.a.WebVTT){if(e.tech_){var s=function(){return Rn(i,e)};e.tech_.on("vttjsloaded",s),e.tech_.on("vttjserror",function(){J.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",s)})}}else Rn(i,e)}))},Fn=function(t){function e(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Ce(e,{kind:Cn[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=kn[i.mode]||"disabled",s=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=t.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[];var a=new Sn(n.cues_),o=new Sn(n.activeCues_),u=!1,l=le(K(K(n)),function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==r&&n.tech_.ready(function(){n.tech_.on("timeupdate",l)},!0),Object.defineProperties(K(K(n)),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;kn[t]&&("disabled"!==(r=t)?this.tech_.ready(function(){e.tech_.on("timeupdate",l)},!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(u=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),i.src?(n.src=i.src,Ln(i.src,K(K(n)))):n.loaded_=!0,n}z(e,t);var n=e.prototype;return n.addCue=function(t){var e=t;if(r.a.vttjs&&!(t instanceof r.a.vttjs.VTTCue)){for(var n in e=new r.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),s=0;s<i.length;s++)i[s]!==this&&i[s].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(xn);Fn.prototype.allowedEvents_={cuechange:"cuechange"};var Bn=function(t){function e(e){var n;void 0===e&&(e={});var i=Ce(e,{kind:En[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(K(K(n)),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return z(e,t),e}(xn),Mn=function(t){function e(e){var n;void 0===e&&(e={});var i=Ce(e,{kind:wn[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(K(K(n)),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return z(e,t),e}(xn),Nn=0,jn=2,Un=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new Fn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(K(K(n)),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=Nn,r.addEventListener("loadeddata",function(){i=jn,n.trigger({type:"load",target:K(K(n))})}),n}return z(e,t),e}(de);Un.prototype.allowedEvents_={load:"load"},Un.NONE=Nn,Un.LOADING=1,Un.LOADED=jn,Un.ERROR=3;var Hn={audio:{ListClass:vn,TrackClass:Bn,capitalName:"Audio"},video:{ListClass:bn,TrackClass:Mn,capitalName:"Video"},text:{ListClass:_n,TrackClass:Fn,capitalName:"Text"}};Object.keys(Hn).forEach(function(t){Hn[t].getterName=t+"Tracks",Hn[t].privateName=t+"Tracks_"});var Vn={remoteText:{ListClass:_n,TrackClass:Fn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Tn,TrackClass:Un,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},qn=Ce(Hn,Vn);Vn.names=Object.keys(Vn),Hn.names=Object.keys(Hn),qn.names=[].concat(Vn.names).concat(Hn.names);var zn=function(t){function e(e,n){var i;return void 0===e&&(e={}),void 0===n&&(n=function(){}),e.reportTouchActivity=!1,(i=t.call(this,null,e,n)||this).hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),qn.names.forEach(function(t){var n=qn[t];e&&e[n.getterName]&&(i[n.privateName]=e[n.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new qn.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}z(e,t);var n=e.prototype;return n.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(le(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return Xe(0,0)},n.bufferedPercent=function(){return Je(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Hn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach(function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}})},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(t){return void 0!==t&&(this.error_=new sn(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Xe(0,0):Xe()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;Hn.names.forEach(function(e){var n=Hn[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})},n.addWebVttScript_=function(){var t=this;if(!r.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&rt(d.a)&&Object.keys(d.a).length>0)return void this.trigger("vttjsloaded");var e=a.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),r.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",s),"showing"===n.mode&&n.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",s)}})},n.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new qn.text.TrackClass(r);return s.addTrack(a),a}(this,t,e,n)},n.createRemoteTextTrack=function(t){var e=Ce(t,{tech:this});return new Vn.remoteTextEl.TrackClass(e)},n.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(J.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},n.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ee(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=Ee(t),e.techs_&&e.techs_[t]?e.techs_[t]:r.a&&r.a.videojs&&r.a.videojs[t]?(J.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.a.videojs[t]):void 0},e}(ke);qn.names.forEach(function(t){var e=qn[t];zn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),zn.prototype.featuresVolumeControl=!0,zn.prototype.featuresMuteControl=!0,zn.prototype.featuresFullscreenResize=!1,zn.prototype.featuresPlaybackRate=!1,zn.prototype.featuresProgressEvents=!1,zn.prototype.featuresSourceset=!1,zn.prototype.featuresTimeupdateEvents=!1,zn.prototype.featuresNativeTextTracks=!1,zn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:J.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ke.registerComponent("Tech",zn),zn.registerTech("Tech",zn),zn.defaultTechOrder_=[];var Wn={},$n={},Kn={};function Gn(t,e,n){t.setTimeout(function(){return function t(e,n,i,r,s,a){void 0===e&&(e={});void 0===n&&(n=[]);void 0===s&&(s=[]);void 0===a&&(a=!1);var o=n,u=o[0],l=o.slice(1);if("string"==typeof u)t(e,Wn[u],i,r,s,a);else if(u){var c=function(t,e){var n=$n[t.id()],i=null;if(void 0===n||null===n)return i=e(t),$n[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var s=n[r],a=s[0],o=s[1];a===e&&(i=o)}null===i&&(i=e(t),n.push([e,i]));return i}(r,u);if(!c.setSource)return s.push(c),t(e,l,i,r,s,a);c.setSource(nt({},e),function(n,o){if(n)return t(e,l,i,r,s,a);s.push(c),t(o,e.type===o.type?l:Wn[o.type],i,r,s,a)})}else l.length?t(e,l,i,r,s,a):a?i(e,s):t(e,Wn["*"],i,r,s,!0)}(e,Wn[e.type],n,t)},1)}function Yn(t,e,n,i){void 0===i&&(i=null);var r="call"+Ee(n),s=t.reduce(Qn(r),i),a=s===Kn,o=a?null:e[n](s);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](i,n)}}(t,n,o,a),o}var Xn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Jn={setCurrentTime:1},Zn={play:1,pause:1};function Qn(t){return function(e,n){return e===Kn?Kn:n[t]?n[t](e):e}}var ti={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},ei=function(t){void 0===t&&(t="");var e=Pn(t);return ti[e.toLowerCase()]||""};function ni(t){var e=ei(t.src);return!t.type&&e&&(t.type=e),t}var ii=function(t){function e(e,n,i){var r,s=Ce({createEl:!1},n);if(r=t.call(this,e,s,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,o=n.playerOptions.techOrder;a<o.length;a++){var u=Ee(o[a]),l=zn.getTech(u);if(u||(l=ke.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return z(e,t),e}(ke);ke.registerComponent("MediaLoader",ii);var ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}z(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=nt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&J.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=nt({role:"button"},i),this.tabIndex_=n.tabIndex;var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=ft("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,pt(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},n.handleClick=function(t){},n.handleFocus=function(t){Jt(a.a,"keydown",le(this,this.handleKeyPress))},n.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},n.handleBlur=function(t){Zt(a.a,"keydown",le(this,this.handleKeyPress))},e}(ke);ke.registerComponent("ClickableComponent",ri);var si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",le(K(K(i)),i.update)),i}z(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return ft("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?un(this.player_.play()):this.player_.pause())},e}(ri);ke.registerComponent("PosterImage",si);var ai={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function oi(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ui(t,e,n){try{t.style[e]=n}catch(t){return}}var li=function(t){function e(e,n,i){var s;s=t.call(this,e,n,i)||this;var a=le(K(K(s)),s.updateDisplay);return e.on("loadstart",le(K(K(s)),s.toggleDisplay)),e.on("texttrackchange",a),e.on("loadstart",le(K(K(s)),s.preselectTrack)),e.ready(le(K(K(s)),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),r.a.addEventListener("orientationchange",a),e.on("dispose",function(){return r.a.removeEventListener("orientationchange",a)});for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}})),s}z(e,t);var n=e.prototype;return n.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var o=r[a];s&&s.enabled&&s.language===o.language?o.kind===s.kind?n=o:n||(n=o):s&&!s.enabled?(n=null,t=null,e=null):o.default&&("descriptions"!==o.kind||t?o.kind in i&&!e&&(e=o):t=o)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof r.a.WebVTT&&r.a.WebVTT.processCues(r.a,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},n.updateForTrack=function(t){if("function"==typeof r.a.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(r.a.WebVTT.processCues(r.a,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),s=e.length;s--;){var a=e[s];if(a){var o=a.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&ui(o.firstChild,"color",oi(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ui(o.firstChild,"backgroundColor",oi(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ui(o,"backgroundColor",oi(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var u=r.a.parseFloat(o.style.fontSize);o.style.fontSize=u*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ai[i.fontFamily])}}}},e}(ke);ke.registerComponent("TextTrackDisplay",li);var ci=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=ft("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(ke);ke.registerComponent("LoadingSpinner",ci);var hi=function(t){function e(){return t.apply(this,arguments)||this}z(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=nt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=nt({type:"button"},n);var i=ke.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return J.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),ke.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(ri);ke.registerComponent("Button",hi);var di=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)un(e);else{var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var r=function(){return i.focus()};on(e)?e.then(r,function(){}):this.setTimeout(r,1)}else this.player_.focus()}},n.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(hi);di.prototype.controlText_="Play Video",ke.registerComponent("BigPlayButton",di);var fi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(hi);ke.registerComponent("CloseButton",fi);var pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),i.on(e,"ended",i.handleEnded),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(hi);pi.prototype.controlText_="Play",ke.registerComponent("PlayToggle",pi);var gi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||s>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},mi=gi;function vi(t,e){return void 0===e&&(e=t),mi(t,e)}var yi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).throttledUpdateContent=ce(le(K(K(i)),i.updateContent),25),i.on(e,"timeupdate",i.throttledUpdateContent),i}z(e,t);var n=e.prototype;return n.createEl=function(e){var n=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=ft("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(t){return vi(t)},n.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(t){},e}(ke);yi.prototype.labelText_="Time",yi.prototype.controlText_="Time",ke.registerComponent("TimeDisplay",yi);var bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"ended",i.handleEnded),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(yi);bi.prototype.labelText_="Current Time",bi.prototype.controlText_="Current Time",ke.registerComponent("CurrentTimeDisplay",bi);var _i=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadedmetadata",i.throttledUpdateContent),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(yi);_i.prototype.labelText_="Duration",_i.prototype.controlText_="Duration",ke.registerComponent("DurationDisplay",_i);var Ti=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(ke);ke.registerComponent("TimeDivider",Ti);var Si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.throttledUpdateContent),i.on(e,"ended",i.handleEnded),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},n.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(yi);Si.prototype.labelText_="Remaining Time",Si.prototype.controlText_="Remaining Time",ke.registerComponent("RemainingTimeDisplay",Si);var wi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}z(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ft("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(ke);ke.registerComponent("LiveDisplay",wi);var Ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}z(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=nt({tabIndex:0},n),i=nt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||He||t.preventDefault(),Ct(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;kt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},n.calculateDistance=function(t){var e=Ot(this.el_,t);return this.vertical()?e.y:e.x},n.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ke);ke.registerComponent("Slider",Ei);var Ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},n.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,s=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=s(i,n);for(var a=0;a<e.length;a++){var o=e.start(a),u=e.end(a),l=r[a];l||(l=this.el_.appendChild(ft()),r[a]=l),l.style.left=s(o,i),l.style.width=s(u-o,i)}for(var c=r.length;c>e.length;c--)this.el_.removeChild(r[c-1]);r.length=e.length},e}(ke);ke.registerComponent("LoadProgressBar",Ci);var ki=function(t){function e(){return t.apply(this,arguments)||this}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},n.update=function(t,e,n){var i=xt(this.el_),r=xt(this.player_.el()),s=t.width*e;if(r&&i){var a=t.left-r.left+s,o=t.width-s+(r.right-t.right),u=i.width/2;a<u?u+=u-a:o<u&&(u=o),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",pt(this.el_,n)}},e}(ke);ke.registerComponent("TimeTooltip",ki);var xi=function(t){function e(){return t.apply(this,arguments)||this}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},n.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=vi(n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),n.player_.duration()),r=n.getChild("timeTooltip");r&&r.update(t,e,i)})},e}(ke);xi.prototype.options_={children:[]},Le||Be||xi.prototype.options_.children.push("timeTooltip"),ke.registerComponent("PlayProgressBar",xi);var Ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=ce(le(K(K(i)),i.update),25),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.duration(),r=vi(e*i,i);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,r)})},e}(ke);Ai.prototype.options_={children:["timeTooltip"]},ke.registerComponent("MouseTimeDisplay",Ai);var Oi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}z(e,t);var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update=ce(le(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[vi(t,n),vi(n,n)],"{1} of {2}")),this.bar.update(xt(this.el_),e)},n.update=function(e){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(t){this.update_(this.player_.duration(),1)},n.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t||0},n.handleMouseDown=function(e){Ft(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t){if(Ft(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&un(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(Ei);Oi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Le||Be||Oi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Oi.prototype.playerEvent="timeupdate",ke.registerComponent("SeekBar",Oi);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=ce(le(K(K(i)),i.handleMouseMove),25),i.throttledHandleMouseSeek=ce(le(K(K(i)),i.handleMouseSeek),25),i.enable(),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=xt(i),s=Ot(i,t).x;s>1?s=1:s<0&&(s=0),n&&n.update(r,s)}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(ke);Pi.prototype.options_={children:["seekBar"]},ke.registerComponent("ProgressControl",Pi);var Di=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===a.a[Qe.fullscreenEnabled]&&i.disable(),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(hi);Di.prototype.controlText_="Fullscreen",ke.registerComponent("FullscreenToggle",Di);var Ii=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ri=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(ke);ke.registerComponent("VolumeLevel",Ri);var Li=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready(function(){return i.updateARIAAttributes()}),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){Ft(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){Ft(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(Ei);Li.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Li.prototype.playerEvent="volumechange",ke.registerComponent("VolumeBar",Li);var Fi=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||rt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,Ii(K(K(i)),e),i.throttledHandleMouseMove=ce(le(K(K(i)),i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}z(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(ke);Fi.prototype.options_={children:["volumeBar"]},ke.registerComponent("VolumeControl",Fi);var Bi=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Mi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,Bi(K(K(i)),e),i.on(e,["loadstart","volumechange"],i.update),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;Le&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)yt(this.el_,"vjs-vol-"+n);vt(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(hi);Mi.prototype.controlText_="Mute",ke.registerComponent("MuteToggle",Mi);var Ni=function(t){function e(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||rt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}z(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(ke);Ni.prototype.options_={children:["muteToggle","volumeControl"]},ke.registerComponent("VolumePanel",Ni);var ji=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}z(e,t);var n=e.prototype;return n.addItem=function(t){this.addChild(t),t.on("click",le(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=ft(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Jt(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(ke);ke.registerComponent("Menu",ji);var Ui=function(t){function e(e,n){var i;void 0===n&&(n={}),(i=t.call(this,e,n)||this).menuButton_=new hi(e,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=hi.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}z(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var t=new ji(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=ft("li",{className:"vjs-menu-title",innerHTML:Ee(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),gt(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+hi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",le(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleFocus=function(){Jt(a.a,"keydown",le(this,this.handleKeyPress))},n.handleBlur=function(){Zt(a.a,"keydown",le(this,this.handleKeyPress))},n.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},n.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Le&&ht())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ke);ke.registerComponent("MenuButton",Ui);var Hi=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return K(i);var s=le(K(K(i)),i.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),i.player_.on("ready",s),i.player_.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)}),i}return z(e,t),e}(Ui);ke.registerComponent("TrackButton",Hi);var Vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}z(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",nt({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ri);ke.registerComponent("MenuItem",Vi);var qi=function(t){function e(e,n){var i,s=n.track,o=e.textTracks();n.label=s.label||s.language||"Unknown",n.selected="showing"===s.mode,(i=t.call(this,e,n)||this).track=s;var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(K(K(i)),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleSelectedLanguageChange.apply(K(K(i)),e)};(e.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",c),i.on("dispose",function(){e.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",c)}),void 0===o.onchange)&&i.on(["tap","click"],function(){if("object"!=typeof r.a.Event)try{u=new r.a.Event("change")}catch(t){}u||(u=a.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(u)});return i.handleTracksChange(),i}z(e,t);var n=e.prototype;return n.handleClick=function(e){var n=this.track.kind,i=this.track.kinds,r=this.player_.textTracks();if(i||(i=[n]),t.prototype.handleClick.call(this,e),r)for(var s=0;s<r.length;s++){var a=r[s];a===this.track&&i.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},n.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},n.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Vi);ke.registerComponent("TextTrackMenuItem",qi);var zi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}z(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var s=e[i];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var s=e[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(qi);ke.registerComponent("OffTextTrackMenuItem",zi);var Wi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return z(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=qi),this.label_&&(n=this.label_+" off"),t.push(new zi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var s=i[r];if(this.kinds_.indexOf(s.kind)>-1){var a=new e(this.player_,{track:s,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),t.push(a)}}return t},e}(Hi);ke.registerComponent("TextTrackButton",Wi);var $i=function(t){function e(e,n){var i,r=n.track,s=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=s.text,n.selected=s.startTime<=a&&a<s.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=s,r.addEventListener("cuechange",le(K(K(i)),i.update)),i}z(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Vi);ke.registerComponent("ChaptersTrackMenuItem",$i);var Ki=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ee(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],s=new $i(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(Wi);Ki.prototype.kind_="chapters",Ki.prototype.controlText_="Chapters",ke.registerComponent("ChaptersButton",Ki);var Gi=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var s=e.textTracks(),a=le(K(K(r)),r.handleTracksChange);return s.addEventListener("change",a),r.on("dispose",function(){s.removeEventListener("change",a)}),r}z(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var s=e[i];if(s.kind!==this.kind_&&"showing"===s.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Wi);Gi.prototype.kind_="descriptions",Gi.prototype.controlText_="Descriptions",ke.registerComponent("DescriptionsButton",Gi);var Yi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Wi);Yi.prototype.kind_="subtitles",Yi.prototype.controlText_="Subtitles",ke.registerComponent("SubtitlesButton",Yi);var Xi=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return z(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(qi);ke.registerComponent("CaptionSettingsMenuItem",Xi);var Ji=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Wi);Ji.prototype.kind_="captions",Ji.prototype.controlText_="Captions",ke.registerComponent("CaptionsButton",Ji);var Zi=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,nt({innerHTML:r},n),i)},e}(qi);ke.registerComponent("SubsCapsMenuItem",Zi);var Qi=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Ee(i.label_)),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Zi)},e}(Wi);Qi.prototype.kinds_=["captions","subtitles"],Qi.prototype.controlText_="Subtitles",ke.registerComponent("SubsCapsButton",Qi);var tr=function(t){function e(e,n){var i,r=n.track,s=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(K(K(i)),e)};return s.addEventListener("change",a),i.on("dispose",function(){s.removeEventListener("change",a)}),i}z(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,nt({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Vi);ke.registerComponent("AudioTrackMenuItem",tr);var er=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new tr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Hi);er.prototype.controlText_="Audio Track",ke.registerComponent("AudioTrackButton",er);var nr=function(t){function e(e,n){var i,r=n.rate,s=parseFloat(r,10);return n.label=r,n.selected=1===s,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=s,i.on(e,"ratechange",i.update),i}z(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Vi);nr.prototype.contentElType="button",ke.registerComponent("PlaybackRateMenuItem",nr);var ir=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}z(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=ft("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new ji(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new nr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ui);ir.prototype.controlText_="Playback Rate",ke.registerComponent("PlaybackRateMenuButton",ir);var rr=function(t){function e(){return t.apply(this,arguments)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(ke);ke.registerComponent("Spacer",rr);var sr=function(t){function e(){return t.apply(this,arguments)||this}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(rr);ke.registerComponent("CustomControlSpacer",sr);var ar=function(t){function e(){return t.apply(this,arguments)||this}return z(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ke);ar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ke.registerComponent("ControlBar",ar);var or=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}z(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(fn);or.prototype.options_=Ce(fn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ke.registerComponent("ErrorDisplay",or);var ur=["#000","Black"],lr=["#00F","Blue"],cr=["#0FF","Cyan"],hr=["#0F0","Green"],dr=["#F0F","Magenta"],fr=["#F00","Red"],pr=["#FFF","White"],gr=["#FF0","Yellow"],mr=["1","Opaque"],vr=["0.5","Semi-Transparent"],yr=["0","Transparent"],br={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ur,pr,fr,hr,lr,gr,dr,cr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,vr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,ur,fr,hr,lr,gr,dr,cr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,vr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,vr,mr]}};function _r(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}br.windowColor.options=br.backgroundColor.options;var Tr=function(t){function e(e,n){var i;return n.temporary=!1,(i=t.call(this,e,n)||this).updateDisplay=le(K(K(i)),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=ft("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),et(br,function(t){i.on(i.$(t.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}z(e,t);var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=br[t],s=r.id.replace("%s",this.id_),a=[e,s].join(" ").trim();return["<"+n+' id="'+s+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(t){var e=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ft("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ft("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return ft("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t,e,n,i=this;return t=br,e=function(t,e,n){var r,s,a=(r=i.$(e.selector),s=e.parser,_r(r.options[r.options.selectedIndex].value,s));return void 0!==a&&(t[n]=a),t},void 0===(n={})&&(n=0),tt(t).reduce(function(n,i){return e(n,t[i],i)},n)},n.setValues=function(t){var e=this;et(br,function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(_r(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)})},n.setDefaults=function(){var t=this;et(br,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},n.restoreSettings=function(){var t;try{t=JSON.parse(r.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){J.warn(t)}t&&this.setValues(t)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):r.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){J.warn(t)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(a.a,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(fn);ke.registerComponent("TextTrackSettings",Tr);var Sr=function(t){function e(e,n){var i,s=n.ResizeObserver||r.a.ResizeObserver;null===n.ResizeObserver&&(s=!1);var a=Ce({createEl:!s,reportTouchActivity:!1},n);return(i=t.call(this,e,a)||this).ResizeObserver=n.ResizeObserver||r.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=he(function(){i.resizeHandler()},100,!1,K(K(i))),s?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){i.el_&&i.el_.contentWindow&&Jt(i.el_.contentWindow,"resize",i.debouncedHandler_)},i.one("load",i.loadListener_)),i}z(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Zt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(ke);ke.registerComponent("ResizeManager",Sr);var wr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var s=0;s<n.length;s++){var a=n[s].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Er=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=a.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=a.a.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",r.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Cr=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},kr=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=function(t){return Cr([t.el(),r.a.HTMLMediaElement.prototype,r.a.Element.prototype,Er],"innerHTML")}(t),s=function(n){return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=n.apply(e,r);return wr(t),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=s(n[t]))}),Object.defineProperty(e,"innerHTML",Ce(i,{set:s(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},xr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?On(r.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.a.Element.prototype.setAttribute.call(this,"src",t),t}}),Ar=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=function(t){return Cr([t.el(),r.a.HTMLMediaElement.prototype,xr],"src")}(t),i=e.setAttribute,s=e.load;Object.defineProperty(e,"src",Ce(n,{set:function(i){var r=n.set.call(e,i);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,r){var s=i.call(e,n,r);return/src/i.test(n)&&t.triggerSourceset(e.src),s},e.load=function(){var n=s.call(e);return wr(t)||(t.triggerSourceset(""),kr(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):wr(t)||kr(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=s,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}};function Or(){var t=G(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return Or=function(){return t},t}var Pr=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r=e.source,s=!1;if(r&&(i.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,o=a.length,l=[];o--;){var c=a[o];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),s||i.el_.hasAttribute("crossorigin")||!Dn(c.src)||(s=!0)):l.push(c))}for(var h=0;h<l.length;h++)i.el_.removeChild(l[h])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&s&&J.warn(u()(Or())),i.restoreMetadataTracksInIOSNativePlayer_(),($e||Ie||Ne)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}z(e,t);var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Ar(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",function(){return e.removeEventListener("change",n)});var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})},n.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e=this,n=Hn[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var s={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,s=0;s<i.length;s++)if(i[s]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(function(t){var n=s[t];i.addEventListener(t,n),e.on("dispose",function(e){return i.removeEventListener(t,n)})}),this.on("loadstart",a),this.on("dispose",function(t){return e.off("loadstart",a)})}},n.proxyNativeTracks_=function(){var t=this;Hn.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},n.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=a.a.createElement("video");var i=Ce({},this.options_.tag&&Tt(this.options_.tag));$e&&!0===this.options_.nativeControlsForTouch||delete i.controls,_t(t,nt(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&wt(t,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var o=r[s],u=this.options_[o];void 0!==u&&(u?wt(t,o,o):Et(t,o),t[o]=u)}return t},n.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){J(t,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&Be&&He&&0===this.el_.currentTime){return this.on("timeupdate",function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=r.a.navigator&&r.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=a.a.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},n.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.a.performance&&"function"==typeof r.a.performance.now?t.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"==typeof r.a.performance.timing.navigationStart&&(t.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),t},e}(zn);if(lt()){Pr.TEST_VID=a.a.createElement("video");var Dr=a.a.createElement("track");Dr.kind="captions",Dr.srclang="en",Dr.label="English",Pr.TEST_VID.appendChild(Dr)}Pr.isSupported=function(){try{Pr.TEST_VID.volume=.5}catch(t){return!1}return!(!Pr.TEST_VID||!Pr.TEST_VID.canPlayType)},Pr.canPlayType=function(t){return Pr.TEST_VID.canPlayType(t)},Pr.canPlaySource=function(t,e){return Pr.canPlayType(t.type)},Pr.canControlVolume=function(){try{var t=Pr.TEST_VID.volume;return Pr.TEST_VID.volume=t/2+.1,t!==Pr.TEST_VID.volume}catch(t){return!1}},Pr.canMuteVolume=function(){try{var t=Pr.TEST_VID.muted;return Pr.TEST_VID.muted=!t,Pr.TEST_VID.muted?wt(Pr.TEST_VID,"muted","muted"):Et(Pr.TEST_VID,"muted"),t!==Pr.TEST_VID.muted}catch(t){return!1}},Pr.canControlPlaybackRate=function(){if(Be&&He&&Ve<58)return!1;try{var t=Pr.TEST_VID.playbackRate;return Pr.TEST_VID.playbackRate=t/2+.1,t!==Pr.TEST_VID.playbackRate}catch(t){return!1}},Pr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Pr.supportsNativeTextTracks=function(){return We||Le&&He},Pr.supportsNativeVideoTracks=function(){return!(!Pr.TEST_VID||!Pr.TEST_VID.videoTracks)},Pr.supportsNativeAudioTracks=function(){return!(!Pr.TEST_VID||!Pr.TEST_VID.audioTracks)},Pr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Pr.prototype.featuresVolumeControl=Pr.canControlVolume(),Pr.prototype.featuresMuteControl=Pr.canMuteVolume(),Pr.prototype.featuresPlaybackRate=Pr.canControlPlaybackRate(),Pr.prototype.featuresSourceset=Pr.canOverrideAttributes(),Pr.prototype.movingMediaElementInDOM=!Le,Pr.prototype.featuresFullscreenResize=!0,Pr.prototype.featuresProgressEvents=!0,Pr.prototype.featuresTimeupdateEvents=!0,Pr.prototype.featuresNativeTextTracks=Pr.supportsNativeTextTracks(),Pr.prototype.featuresNativeVideoTracks=Pr.supportsNativeVideoTracks(),Pr.prototype.featuresNativeAudioTracks=Pr.supportsNativeAudioTracks();var Ir=Pr.TEST_VID&&Pr.TEST_VID.constructor.prototype.canPlayType,Rr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Lr(){var t=G(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Lr=function(){return t},t}Pr.patchCanPlayType=function(){Me>=4&&!je&&!He&&(Pr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Rr.test(t)?"maybe":Ir.call(this,t)})},Pr.unpatchCanPlayType=function(){var t=Pr.TEST_VID.constructor.prototype.canPlayType;return Pr.TEST_VID.constructor.prototype.canPlayType=Ir,t},Pr.patchCanPlayType(),Pr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Pr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Pr.prototype["set"+Ee(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Pr.prototype["set"+Ee(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]()}}),zn.withSourceHandlers(Pr),Pr.nativeSourceHandler={},Pr.nativeSourceHandler.canPlayType=function(t){try{return Pr.TEST_VID.canPlayType(t)}catch(t){return""}},Pr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Pr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Pn(t.src);return Pr.nativeSourceHandler.canPlayType("video/"+n)}return""},Pr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Pr.nativeSourceHandler.dispose=function(){},Pr.registerSourceHandler(Pr.nativeSourceHandler),zn.registerTech("Html5",Pr);var Fr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Br={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Mr=["tiny","xsmall","small","medium","large","xlarge","huge"],Nr={};Mr.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Nr[t]="vjs-layout-"+e});var jr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ur=function(t){function e(n,i,r){var s;if(n.id=n.id||i.id||"vjs_video_"+Ut(),(i=nt(e.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var o=n;o&&1===o.nodeType;){if(Tt(o).hasOwnProperty("lang")){i.language=o.getAttribute("lang");break}o=o.parentNode}if((s=t.call(this,null,i,r)||this).log=Z(s.id_),s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=n,s.tagAttributes=n&&Tt(n),s.language(s.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(t){u[t.toLowerCase()]=i.languages[t]}),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.cache_={},s.poster_=i.poster||"",s.controls_=!!i.controls,s.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?s.options_.autoplay=!0:s.autoplay(s.options_.autoplay),s.scrubbing_=!1,s.el_=s.createEl(),s.cache_.lastPlaybackRate=s.defaultPlaybackRate(),Te(K(K(s)),{eventBusKey:"el_"});var l=Ce(s.options_);if(i.plugins){var c=i.plugins;Object.keys(c).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](c[t])},K(K(s)))}s.options_.playerOptions=l,s.middleware_=[],s.initChildren(),s.isAudio("audio"===n.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Le||s.addClass("vjs-workinghover"),e.players[s.id_]=K(K(s));var h=q.split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("fullscreenchange",s.handleFullscreenChange_),s.on("stageclick",s.handleStageClick_),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.changingSrc_=!1,s.playWaitingForReady_=!1,s.playOnLoadstart_=null,s}z(e,t);var n=e.prototype;return n.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),$n[this.id()]=null,t.prototype.dispose.call(this)},n.createEl=function(){var e,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=n.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var o=Tt(n);if(s){for(e=this.el_=n,n=this.tag=a.a.createElement("video");e.children.length;)n.appendChild(e.firstChild);mt(e,"video-js")||vt(e,"video-js"),e.appendChild(n),i=this.playerElIngest_=e,Object.keys(e).forEach(function(t){n[t]=e[t]})}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",qe&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(t){s&&"class"===t||e.setAttribute(t,o[t]),s&&n.setAttribute(t,o[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=oe("vjs-styles-dimensions");var u=Bt(".vjs-styles-defaults"),l=Bt("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=n.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);vt(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(e,n),gt(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=e,e},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?J.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},n.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),s=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ue(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),o>=0&&(u.height=o))}},n.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Ee(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(zn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var s={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};qn.names.forEach(function(t){var e=qn[t];s[e.getterName]=n[e.privateName]}),nt(s,this.options_[i]),nt(s,this.options_[r]),nt(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=zn.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(le(this,this.handleTechReady_),!0),hn(this.textTracksJson_||[],this.tech_),Fr.forEach(function(t){n.on(n.tech_,t,n["handleTech"+Ee(t)+"_"])}),Object.keys(Br).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Br[t]+"_"].bind(n),event:e}):n["handleTech"+Br[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||gt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;qn.names.forEach(function(e){var n=qn[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=cn(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return void 0===t&&J.warn(u()(Lr())),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=e.play();if(n&&n.then&&n.catch)return n.catch(function(n){e.muted(t)})};if("any"===t?(n=this.play())&&n.then&&n.catch&&n.catch(function(){return i()}):n="muted"===t?i():this.play(),n&&n.then&&n.catch)return n.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return ei(e)}(this,e)),this.cache_.source=Ce({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var u=Tt(s[o]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},n.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;if(i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),!t.src){this.tech_.one(["sourceset","loadstart"],function t(n){if("sourceset"!==n.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}e.tech_.off(["sourceset","loadstart"],t)})}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(J.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){Ft(t)&&this.controls_&&(this.paused()?un(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.preventDefault()},n.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.handleStageClick_=function(){this.reportUserActivity()},n.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.techCall_=function(t,e){this.ready(function(){if(t in Jn)return function(t,e,n,i){return e[n](t.reduce(Qn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Zn)return Yn(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw J(t),t}},!0)},n.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Xn)return function(t,e,n){return t.reduceRight(Qn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Zn)return Yn(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw J("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw J("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw J(e),e}}},n.play=function(){var t=this,e=this.options_.Promise||r.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},n.play_=function(t){var e=this;if(void 0===t&&(t=un),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Xe(0,0)},n.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Xe(0,0)),t},n.bufferedPercent=function(){return Je(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},n.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},n.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},n.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},n.requestFullscreen=function(){var t=Qe;this.isFullscreen(!0),t.requestFullscreen?(Jt(a.a,t.fullscreenchange,le(this,function e(n){this.isFullscreen(a.a[t.fullscreenElement]),!1===this.isFullscreen()&&Zt(a.a,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){var t=Qe;this.isFullscreen(!1),t.requestFullscreen?a.a[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,Jt(a.a,"keydown",le(this,this.fullWindowOnEscKey)),a.a.documentElement.style.overflow="hidden",vt(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,Zt(a.a,"keydown",this.fullWindowOnEscKey),a.a.documentElement.style.overflow=this.docOrigOverflow,yt(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],s=zn.getTech(r);if(s||(s=ke.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t)))return e}else J.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map(function(t){return[t,zn.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(J.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var i;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},s=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?r(t,i,(e=s,function(t,n){return e(n,t)})):r(i,t,s))||!1},n.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):it(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[ni({src:e})]:it(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ni(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Gn(this,n[0],function(t,i){var r,s;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());r=i,s=e.tech_,r.forEach(function(t){return t.setTech&&t.setTech(s)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,Ee(e)!==Ee(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},n.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},n.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},n.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new sn(t),this.addClass("vjs-error"),J.error("(CODE:"+this.error_.code+" "+sn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,e,n,i,r=le(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())}),this.on("mouseup",function(e){r(),this.clearInterval(t)}),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var t=this.options_.inactivityTimeout;t<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},n.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},n.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},n.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},n.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},n.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},n.languages=function(){return Ce(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Ce(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Ce(i)).player=void 0,t.tracks[n]=i}return t},n.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new fn(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Mr.length;n++){var i=Mr[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(Nr[t]),this.addClass(Nr[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return void 0===t?nt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=nt({},jr,t),this.updateCurrentBreakpoint_(),nt(this.breakpoints_))},n.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Nr[this.breakpoint_]||""},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=Tt(t),i=n["data-setup"];if(mt(t,"vjs-fill")&&(n.fill=!0),mt(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=p()(i||"{}"),s=r[0],a=r[1];s&&J.error(s),nt(n,a)}if(nt(e,n),t.hasChildNodes())for(var o=t.childNodes,u=0,l=o.length;u<l;u++){var c=o[u],h=c.nodeName.toLowerCase();"source"===h?e.sources.push(Tt(c)):"track"===h&&e.tracks.push(Tt(c))}return e},n.flexNotSupported_=function(){var t=a.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(ke);qn.names.forEach(function(t){var e=qn[t];Ur.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Ur.players={};var Hr=r.a.navigator;Ur.prototype.options_={techOrder:zn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Hr&&(Hr.languages&&Hr.languages[0]||Hr.userLanguage||Hr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ur.prototype[t]=function(){return this.techGet_(t)}}),Fr.forEach(function(t){Ur.prototype["handleTech"+Ee(t)+"_"]=function(){return this.trigger(t)}}),ke.registerComponent("Player",Ur);var Vr={},qr=function(t){return Vr.hasOwnProperty(t)},zr=function(t){return qr(t)?Vr[t]:void 0},Wr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},$r=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Kr=function(t,e){return e.prototype.name=t,function(){$r(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=$(e,[this].concat(i));return this[t]=function(){return s},$r(this,s.getEventHash()),s}},Gr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Te(this),delete this.trigger,we(this,this.constructor.defaultState),Wr(e,this.name),this.dispose=le(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Qt(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Kr(t,Vr[t])},t.isBasic=function(e){var n="string"==typeof e?zr(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(qr(e))J.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Ur.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Vr[e]=n,"plugin"!==e&&(t.isBasic(n)?Ur.prototype[e]=function(t,e){var n=function(){$r(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Wr(this,t),$r(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}(e,n):Ur.prototype[e]=Kr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");qr(t)&&(delete Vr[t],delete Ur.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Vr)),t.forEach(function(t){var n=zr(t);n&&((e=e||{})[t]=n)}),e},t.getPluginVersion=function(t){var e=zr(t);return e&&e.VERSION||""},t}();Gr.getPlugin=zr,Gr.BASE_PLUGIN_NAME="plugin",Gr.registerPlugin("plugin",Gr),Ur.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Ur.prototype.hasPlugin=function(t){return!!qr(t)};var Yr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Xr(t,e,n){var i=Xr.getPlayer(t);if(i)return e&&J.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof t?Bt("#"+Yr(t)):t;if(!ct(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.a.body.contains(r)||J.warn("The element supplied is not included in the DOM"),e=e||{},Xr.hooks("beforesetup").forEach(function(t){var n=t(r,Ce(e));it(n)&&!Array.isArray(n)?e=Ce(e,n):J.error("please return an object in beforesetup hooks")});var s=ke.getComponent("Player");return i=new s(r,e,n),Xr.hooks("setup").forEach(function(t){return t(i)}),i}if(Xr.hooks_={},Xr.hooks=function(t,e){return Xr.hooks_[t]=Xr.hooks_[t]||[],e&&(Xr.hooks_[t]=Xr.hooks_[t].concat(e)),Xr.hooks_[t]},Xr.hook=function(t,e){Xr.hooks(t,e)},Xr.hookOnce=function(t,e){Xr.hooks(t,[].concat(e).map(function(e){return function n(){return Xr.removeHook(t,n),e.apply(void 0,arguments)}}))},Xr.removeHook=function(t,e){var n=Xr.hooks(t).indexOf(e);return!(n<=-1)&&(Xr.hooks_[t]=Xr.hooks_[t].slice(),Xr.hooks_[t].splice(n,1),!0)},!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE&&lt()){var Jr=Bt(".vjs-styles-defaults");if(!Jr){Jr=oe("vjs-styles-defaults");var Zr=Bt("head");Zr&&Zr.insertBefore(Jr,Zr.firstChild),ue(Jr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}se(1,Xr),Xr.VERSION=q,Xr.options=Ur.prototype.options_,Xr.getPlayers=function(){return Ur.players},Xr.getPlayer=function(t){var e,n=Ur.players;if("string"==typeof t){var i=Yr(t),r=n[i];if(r)return r;e=Bt("#"+i)}else e=t;if(ct(e)){var s=e,a=s.player,o=s.playerId;if(a||n[o])return a||n[o]}},Xr.getAllPlayers=function(){return Object.keys(Ur.players).map(function(t){return Ur.players[t]}).filter(Boolean)},Xr.players=Ur.players,Xr.getComponent=ke.getComponent,Xr.registerComponent=function(t,e){zn.isTech(e)&&J.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ke.registerComponent.call(ke,t,e)},Xr.getTech=zn.getTech,Xr.registerTech=zn.registerTech,Xr.use=function(t,e){Wn[t]=Wn[t]||[],Wn[t].push(e)},Object.defineProperty(Xr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Xr.middleware,"TERMINATOR",{value:Kn,writeable:!1,enumerable:!0}),Xr.browser=Ke,Xr.TOUCH_ENABLED=$e,Xr.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Xr.mergeOptions=Ce,Xr.bind=le,Xr.registerPlugin=Gr.registerPlugin,Xr.deregisterPlugin=Gr.deregisterPlugin,Xr.plugin=function(t,e){return J.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Gr.registerPlugin(t,e)},Xr.getPlugins=Gr.getPlugins,Xr.getPlugin=Gr.getPlugin,Xr.getPluginVersion=Gr.getPluginVersion,Xr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Xr.options.languages=Ce(Xr.options.languages,((n={})[t]=e,n)),Xr.options.languages[t]},Xr.log=J,Xr.createLogger=Z,Xr.createTimeRange=Xr.createTimeRanges=Xe,Xr.formatTime=vi,Xr.setFormatTime=function(t){mi=t},Xr.resetFormatTime=function(){mi=gi},Xr.parseUrl=An,Xr.isCrossOrigin=Dn,Xr.EventTarget=de,Xr.on=Jt,Xr.one=te,Xr.off=Zt,Xr.trigger=Qt,Xr.xhr=c.a,Xr.TextTrack=Fn,Xr.AudioTrack=Bn,Xr.VideoTrack=Mn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Xr[t]=function(){return J.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Nt[t].apply(null,arguments)}}),Xr.computedStyle=st,Xr.dom=Nt,Xr.url=In;
/**
 * @videojs/http-streaming
 * @version 1.4.1
 * @copyright 2018 Brightcove, Inc
 * @license Apache-2.0
 */
var Qr=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=m.a.buildAbsoluteURL(r.a.location.href,t)),m.a.buildAbsoluteURL(t,e))},ts=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},es=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ns=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},is=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},rs=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ss=Xr.mergeOptions,as=Xr.EventTarget,os=Xr.log,us=function(t,e){["AUDIO","SUBTITLES"].forEach(function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var s=t.mediaGroups[n][i][r];e(s,n,i,r)}})},ls=function(t,e){var n=ss(t,{}),i=n.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.mediaSequence===e.mediaSequence)return null;var r=ss(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),s=n;s<r;s++)i[s-n]=ss(t[s],i[s-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){!function(t,e){t.resolvedUri||(t.resolvedUri=Qr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Qr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Qr(e,t.map.uri))}(t,r.resolvedUri)});for(var s=0;s<n.playlists.length;s++)n.playlists[s].uri===e.uri&&(n.playlists[s]=r);return n.playlists[e.uri]=r,n},cs=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=Qr(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},os.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},hs=function(t){us(t,function(e){e.uri&&(e.resolvedUri=Qr(t.uri,e.uri))})},ds=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},fs=function(t){function e(t,n,i){ts(this,e);var r=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(r.srcUrl=t,r.hls_=n,r.withCredentials=i,!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:Qr(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)}))}),r}return ns(e,as),es(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new C;i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var s=ls(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,s?(this.master=s,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(r.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},ds(this.media(),!!s))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(Qr(this.master.uri,t.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:Qr(this.master.uri,t.uri),withCredentials:this.withCredentials},function(i,r){if(e.request){if(i)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(r,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new C;return i.push(n.responseText),i.end(),t.state="HAVE_MASTER",i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,cs(t.master),hs(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.a.location.href,playlists:[{uri:t.srcUrl,id:0}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.master.playlists[0].resolvedUri=t.srcUrl,t.master.playlists[0].attributes=t.master.playlists[0].attributes||{},t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(),ps=Xr.createTimeRange,gs=function(t,e,n){var i,r;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e)).precise?i.result:(r=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(i=t.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?r.result:i.result+n},ms=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return r.a.Infinity}return gs(t,e,n)},vs=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var s=e;s<Math.min(0,n);s++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i},ys=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!((n+=t.segments[e].duration)>=i););return Math.max(0,e)},bs=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return ms(t);if(null===e)return null;e=e||0;var i=n?ys(t):t.segments.length;return gs(t,t.mediaSequence+i,e)},_s=function(t){return t-Math.floor(t)==0},Ts=function(t,e){if(_s(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),s=e*r;if(_s(s)||i===n)return(s+t)/r}},Ss=Ts.bind(null,1),ws=Ts.bind(null,-1),Es=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Cs=function(t){return t.excludeUntil&&t.excludeUntil===1/0},ks=function(t){var e=Es(t);return!t.disabled&&!e},xs=function(t,e){return e.attributes&&e.attributes[t]},As=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!ks(t)&&(t.attributes.BANDWIDTH||0)<n}).length},Os={duration:ms,seekable:function(t,e){var n=e||0,i=bs(t,e,!0);return null===i?ps():ps(n,i)},safeLiveIndex:ys,getMediaInfoForTime:function(t,e,n,i){var r=void 0,s=void 0,a=t.segments.length,o=e-i;if(o<0){if(n>0)for(r=n-1;r>=0;r--)if(s=t.segments[r],(o+=ws(s.duration))>0)return{mediaIndex:r,startTime:i-vs(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<a;r++)if(s=t.segments[r],(o-=Ss(s.duration))<0)return{mediaIndex:r,startTime:i+vs(t,n,r)};return{mediaIndex:a-1,startTime:e}},isEnabled:ks,isDisabled:function(t){return t.disabled},isBlacklisted:Es,isIncompatible:Cs,playlistEnd:bs,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:xs,estimateSegmentRequestTime:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return xs("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:As},Ps=Xr.xhr,Ds=Xr.mergeOptions,Is=function(){return function t(e,n){e=Ds({timeout:45e3},e);var i=t.beforeRequest||Xr.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var s=Ps(e,function(t,e){var i=s.response;!t&&i&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=i.byteLength||i.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e.headers&&(s.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(s.timedout=!0),t||s.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(s&&(i||s.responseText)))),n(t,s)}),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s}},Rs=function(t,e){return t.start(e)+"-"+t.end(e)},Ls=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Fs=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Bs=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},Ms=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Ns=function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(Ls).join("")+" "+e.slice(16*i,16*i+16).map(Fs).join("")+"\n";return n},js=Object.freeze({createTransferableMessage:Bs,initSegmentId:Ms,hexDump:Ns,tagDump:function(t){var e=t.bytes;return Ns(e)},textRanges:function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=Rs(t,n)+" ";return e}}),Us=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Xr.createTimeRanges(n)},Hs=function(t,e){return Us(t,function(t,n){return t-1/30<=e&&n+1/30>=e})},Vs=function(t,e){return Us(t,function(t){return t-1/30>=e})},qs=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},zs=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Ws=function(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=e&&r.endTime>=t&&n.removeCue(r)},$s=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},Ks=function(t,e,n){var i=r.a.WebKitDataCue||r.a.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var s=$s(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new i(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Xr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Xr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Xr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var a=t.metadataTrack_.cues,o=[],u=0;u<a.length;u++)a[u]&&o.push(a[u]);var l=o.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),c=Object.keys(l).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var n=l[t],i=Number(c[e+1])||s;n.forEach(function(t){t.endTime=i})})}}},Gs="undefined"!=typeof window?window:{},Ys="undefined"==typeof Symbol?"__target":Symbol(),Xs="application/javascript",Js=Gs.BlobBuilder||Gs.WebKitBlobBuilder||Gs.MozBlobBuilder||Gs.MSBlobBuilder,Zs=Gs.URL||Gs.webkitURL||Zs&&Zs.msURL,Qs=Gs.Worker;function ta(t,e){return function(n){var i=this;if(!e)return new Qs(t);if(Qs&&!n){var r=ra(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ys]=new Qs(r),function(t,e){if(!t||!e)return;var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Zs.revokeObjectURL(t.objURL),n.call(t)}}(this[Ys],r),this[Ys]}var s={postMessage:function(t){i.onmessage&&setTimeout(function(){i.onmessage({data:t,target:s})})}};e.call(s),this.postMessage=function(t){setTimeout(function(){s.onmessage({data:t,target:i})})},this.isThisThread=!0}}if(Qs){var ea,na=ra("self.onmessage = function () {}"),ia=new Uint8Array(1);try{(ea=new Qs(na)).postMessage(ia,[ia.buffer])}catch(t){Qs=null}finally{Zs.revokeObjectURL(na),ea&&ea.terminate()}}function ra(t){try{return Zs.createObjectURL(new Blob([t],{type:Xs}))}catch(n){var e=new Js;return e.append(t),Zs.createObjectURL(e.getBlob(type))}}var sa=new ta("./transmuxer-worker.worker.js",function(t,e){var n=this;!function(){var t,e,i,r,s,a,o,u,l,c,h,d,f,p,g,m,v,y,b,_,T,S,w,E,C,k,x,A,O,P,D,I,R,L,F,B,M,N,j,U,H=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),x=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:k,audio:x},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),R=I,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=I,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},e=function(){return t(S.dinf,t(S.dref,D))},i=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(S.hdlr,A[e])},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(S.mdhd,n)},f=function(e){return t(S.mdia,p(e),g(e.type),a(e))},s=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(n){return t(S.minf,"video"===n.type?t(S.vmhd,O):t(S.smhd,P),e(),v(n))},o=function(e,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return t.apply(null,[S.moof,s(e)].concat(i))},u=function(e){for(var n=e.length,i=[];n--;)i[n]=h(e[n]);return t.apply(null,[S.moov,c(4294967295)].concat(i).concat(l(e)))},l=function(e){for(var n=e.length,i=[];n--;)i[n]=_(e[n]);return t.apply(null,[S.mvex].concat(i))},c=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,n)},m=function(e){var n,i,r=e.samples||[],s=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,s[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(S.sdtp,s)},v=function(e){return t(S.stbl,y(e),t(S.stts,F),t(S.stsc,R),t(S.stsz,L),t(S.stco,I))},y=function(e){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):M(e))},B=function(e){var n,i=e.sps||[],r=e.pps||[],s=[],a=[];for(n=0;n<i.length;n++)s.push((65280&i[n].byteLength)>>>8),s.push(255&i[n].byteLength),s=s.concat(Array.prototype.slice.call(i[n]));for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));return t(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(s).concat([r.length]).concat(a))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},M=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},d=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,n)},b=function(e){var n,i,r,s,a,o;return n=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(H+1)),o=Math.floor(e.baseMediaDecodeTime%(H+1)),i=t(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===e.type?(r=T(e,92),t(S.traf,n,i,r)):(s=m(e),r=T(e,s.length+92),t(S.traf,n,i,r,s))},h=function(e){return e.duration=e.duration||4294967295,t(S.trak,d(e),f(e))},_=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(S.trex,n)},U=function(t,e){var n=0,i=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,n|i|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},j=function(e,n){var i,r,s,a;for(n+=20+16*(r=e.samples||[]).length,i=U(r,n),a=0;a<r.length;a++)s=r[a],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return t(S.trun,new Uint8Array(i))},N=function(e,n){var i,r,s,a;for(n+=20+8*(r=e.samples||[]).length,i=U(r,n),a=0;a<r.length;a++)s=r[a],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return t(S.trun,new Uint8Array(i))},T=function(t,e){return"audio"===t.type?N(t,e):j(t,e)};var V,q,z={ftyp:r=function(){return t(S.ftyp,w,E,w,C)},mdat:function(e){return t(S.mdat,e)},moof:o,moov:u,initSegment:function(t){var e,n=r(),i=u(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}},W=function(t){return t>>>0},$={findBox:V=function(t,e){var n,i,r,s,a,o=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=W(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=q(t.subarray(n+4,n+8)),s=i>1?n+i:t.byteLength,r===e[0]&&(1===e.length?o.push(t.subarray(n+8,s)):(a=V(t.subarray(n+8,s),e.slice(1))).length&&(o=o.concat(a))),n=s;return o},parseType:q=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},timescale:function(t){return V(t,["moov","trak"]).reduce(function(t,e){var n,i,r,s,a;return(n=V(e,["tkhd"])[0])?(i=n[0],s=W(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(a=V(e,["mdia","mdhd"])[0])?(r=0===(i=a[0])?12:20,t[s]=W(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),t):null):null},{})},startTime:function(t,e){var n,i,r;return n=V(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return V(e,["tfhd"]).map(function(n){var i,r;return i=W(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,(V(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=W(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=W(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/r})})),r=Math.min.apply(null,i),isFinite(r)?r:0},videoTrackIds:function(t){var e=[];return V(t,["moov","trak"]).forEach(function(t){var n=V(t,["mdia","hdlr"]),i=V(t,["tkhd"]);n.forEach(function(t,n){var r,s,a=q(t.subarray(8,12)),o=i[n];"vide"===a&&(s=0===(r=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),e.push(s))})}),e}},K=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,s;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,s)}},this.dispose=function(){t={}}}};K.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},K.prototype.push=function(t){this.trigger("data",t)},K.prototype.flush=function(t){this.trigger("done",t)};var G=K,Y=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},X=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},J=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},Z=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},Q=function(t,e){var n,i,r,s,a,o=e||0,u=[];for(n=0;n<t.length;n++)for(s=t[n],i=0;i<s.length;i++)a=s[i],o+=(r=Y(a,o)).size,u.push(r);return u},tt=function(t){var e,n,i,r,s,a,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(s=r[n],i=0;i<s.length;i++)a=s[i],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},et=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},nt=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n},it=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},rt=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n},st=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},at=function(t,e){var n,i,r,s,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)s={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a},ot=function(t){for(var e,n,i=t.byteLength,r=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),n[s]=t[a];return n},ut=4,lt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new pt(0,0),new pt(0,1),new pt(1,0),new pt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};(lt.prototype=new G).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=rt(t.escapedRBSP)).payloadType===ut&&(n=st(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=at(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},lt.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},lt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},lt.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},lt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},lt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var ct={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ht=function(t){return null===t?"":(t=ct[t]||t,String.fromCharCode(t))},dt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ft=function(){for(var t=[],e=15;e--;)t.push("");return t},pt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=ft();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ft();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=ft()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))s=ht((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=ht((i=(3&i)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=dt.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,a),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),s=ht(i),s+=ht(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};pt.prototype=new G,pt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},pt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ft(),this.nonDisplayed_=ft(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},pt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},pt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},pt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},pt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},pt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},pt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},pt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},pt.prototype.isNormalChar=function(t){return t>=32&&t<=127},pt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=ft(),this.displayed_=ft()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},pt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},pt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},pt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},pt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},pt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},pt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var gt={CaptionStream:lt,Cea608Stream:pt},mt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},vt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},yt=function t(e){var n,i;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===i&&(i=t.dts),t.dts=vt(t.dts,i),t.pts=vt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.discontinuity=function(){i=void 0,n=void 0}};yt.prototype=new G;var bt,_t=yt,Tt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},St=function(t,e,n){return decodeURIComponent(Tt(t,e,n))},wt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Et={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=St(t.data,1,e),t.value=St(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=St(t.data,1,e),t.url=St(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(Tt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(bt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],s=0;if(bt.prototype.init.call(this),this.dispatchType=mt.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,o,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),s+=t.data.byteLength,1===r.length&&(i=wt(t.data.subarray(6,10)),i+=10),!(s<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=wt(e.data.subarray(10,14)),i-=wt(e.data.subarray(16,20)));do{if((o=wt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+o+10)}).key=u.id,Et[u.id]&&(Et[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],u.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=o}while(a<i);this.trigger("data",e)}}}).prototype=new G;var Ct,kt,xt,At=bt,Ot=_t;(Ct=function(){var t=new Uint8Array(188),e=0;Ct.prototype.init.call(this),this.push=function(n){var i,r=0,s=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;s<i.byteLength;)71!==i[r]||71!==i[s]?(r++,s++):(this.trigger("data",i.subarray(r,s)),r+=188,s+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new G,(kt=function(){var t,e,n,i;kt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var s=t[r],a=(31&t[r+1])<<8|t[r+2];s===mt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:s===mt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:s===mt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=s),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=mt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=mt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new G,kt.STREAM_TYPES={h264:27,adts:15},(xt=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,n,i){var r,s,a=new Uint8Array(e.size),o={type:n},u=0,l=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,u=0;u<e.data.length;u++)s=e.data[u],a.set(s.data,l),l+=s.data.byteLength;var c,h,d;c=a,(h=o).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),r="video"===n||o.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};xt.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var t,a;switch(s.streamType){case mt.H264_STREAM_TYPE:case mt.H264_STREAM_TYPE:t=e,a="video";break;case mt.ADTS_STREAM_TYPE:t=n,a="audio";break;case mt.METADATA_STREAM_TYPE:t=i,a="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&r(t,a,!0),t.data.push(s),t.size+=s.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=s.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[s.type]()},this.flush=function(){r(e,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new G;var Pt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ct,TransportParseStream:kt,ElementaryStream:xt,TimestampRolloverStream:Ot,CaptionStream:gt.CaptionStream,Cea608Stream:gt.Cea608Stream,MetadataStream:At};for(var Dt in mt)mt.hasOwnProperty(Dt)&&(Pt[Dt]=mt[Dt]);var It,Rt=Pt,Lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(It=function(){var t;It.prototype.init.call(this),this.push=function(e){var n,i,r,s,a,o,u=0,l=0;if("audio"===e.type)for(t?(s=t,(t=new Uint8Array(s.byteLength+e.data.byteLength)).set(s),t.set(e.data,s.byteLength)):t=e.data;u+5<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(i=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,o=9e4*(a=1024*(1+(3&t[u+6])))/Lt[(60&t[u+2])>>>2],r=u+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+l*o,dts:e.dts+l*o,sampleCount:a,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:Lt[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+i,r)}),t.byteLength===r)return void(t=void 0);l++,t=t.subarray(r)}else u++},this.flush=function(){this.trigger("done")}}).prototype=new G;var Ft,Bt,Mt,Nt=It,jt=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(r,r+a)),n=new DataView(s.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),s=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Bt=function(){var t,e,n=0;Bt.prototype.init.call(this),this.push=function(i){var r;for(e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new G,Mt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ft=function(){var t,e,n,i,r,s,a,o=new Bt;Ft.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,o.push(t))},o.on("data",function(a){var o={trackId:e,pts:n,dts:i,data:a};switch(31&a[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",o)}),o.on("done",function(){t.trigger("done")}),this.flush=function(){o.flush()},a=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),n[s]=t[a];return n},s=function(t){var e,n,i,r,s,o,u,l,c,h,d,f,p,g=0,m=0,v=0,y=0,b=1;if(n=(e=new jt(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),Mt[n]&&(3===(s=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==s?8:12,p=0;p<d;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(o=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===o)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(b=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*b),height:(2-h)*(c+1)*16-2*v-2*y}}}).prototype=new G;var Ut,Ht={H264Stream:Ft,NalByteStream:Bt};(Ut=function(){var t=new Uint8Array,e=0;Ut.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},this.push=function(n){var i,r,s,a,o=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((o=this.parseAdtsSize(t,u))>t.length)break;s={type:"audio",data:t.subarray(u,u+o),pts:e,dts:e},this.trigger("data",s),u+=o}else u++;else{if(t.length-u<10)break;if((o=this.parseId3TagSize(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+o)},this.trigger("data",r),u+=o}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}}).prototype=new G;var Vt,qt,zt,Wt,$t,Kt,Gt,Yt,Xt,Jt,Zt,Qt,te=Ut,ee=[33,16,5,32,164,27],ne=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ie=function(t){for(var e=[];t--;)e.push(0);return e},re={96000:[ee,[227,64],ie(154),[56]],88200:[ee,[231],ie(170),[56]],64000:[ee,[248,192],ie(240),[56]],48000:[ee,[255,192],ie(268),[55,148,128],ie(54),[112]],44100:[ee,[255,192],ie(268),[55,163,128],ie(84),[112]],32000:[ee,[255,192],ie(268),[55,234],ie(226),[112]],24000:[ee,[255,192],ie(268),[55,255,128],ie(268),[111,112],ie(126),[224]],16000:[ee,[255,192],ie(268),[55,255,128],ie(268),[111,255],ie(269),[223,108],ie(195),[1,192]],12000:[ne,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,253,128],ie(259),[56]],11025:[ne,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,255,192],ie(268),[55,175,128],ie(108),[112]],8000:[ne,ie(268),[3,121,16],ie(47),[7]]},se=(Vt=re,Object.keys(Vt).reduce(function(t,e){return t[e]=new Uint8Array(Vt[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),ae=(qt=function(t){return 9e4*t},zt=function(t,e){return t*e},Wt=function(t){return t/9e4},$t=function(t,e){return t/e},function(t,e){return qt($t(t,e))}),oe=function(t,e){return zt(Wt(t),e)},ue=Ht.H264Stream,le=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ce=["width","height","profileIdc","levelIdc","profileCompatibility"];Jt=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Zt=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Qt=function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n},(Gt=function(t,e){var n=[],i=0,r=0,s=0,a=1/0;e=e||{},Gt.prototype.init.call(this),this.push=function(e){it(t,e),t&&le.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var r,s,a,o;0!==n.length?(r=this.trimAdtsFramesByEarliestDts_(n),t.baseMediaDecodeTime=nt(t,e.keepOriginalTimestamps),this.prefixWithSilence_(t,r),t.samples=this.generateSampleTable_(r),a=z.mdat(this.concatenateFrameData_(r)),n=[],s=z.moof(i,[t]),o=new Uint8Array(s.byteLength+a.byteLength),i++,o.set(s),o.set(a,s.byteLength),et(t),this.trigger("data",{track:t,boxes:o}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,o,u=0,l=0,c=0;if(e.length&&(n=ae(t.baseMediaDecodeTime,t.samplerate),i=Math.ceil(9e4/(t.samplerate/1024)),s&&a&&(u=n-Math.max(s,a),c=(l=Math.floor(u/i))*i),!(l<1||c>45e3))){for((r=se[t.samplerate])||(r=e[0].data),o=0;o<l;o++)e.splice(o,0,{data:r});t.baseMediaDecodeTime-=Math.floor(oe(c,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(Qt(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new G,(Kt=function(t,e){var n,i,r=0,s=[],a=[];e=e||{},Kt.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){it(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],ce.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){for(var n,i,o,u,l,c;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=X(s),(o=J(n))[0][0].keyFrame||((i=this.getGopForFusion_(s[0],t))?(o.unshift(i),o.byteLength+=i.byteLength,o.nalCount+=i.nalCount,o.pts=i.pts,o.dts=i.dts,o.duration+=i.duration):o=Z(o)),a.length){var h;if(!(h=e.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");et(t),o=h}it(t,o),t.samples=Q(o),l=z.mdat(tt(o)),t.baseMediaDecodeTime=nt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=z.moof(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){et(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)r=(s=this.gopCache_[a]).gop,t.pps&&Zt(t.pps[0],s.pps[0])&&t.sps&&Zt(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||o>n)&&(i=s,o=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,s,o,u,l;for(s=t.byteLength,o=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(i=a[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,s-=r.byteLength,o-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=s,l.duration=u,l.nalCount=o,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,s,o,u;for(e=a.length-1,n=t.length-1,s=null,o=!1;e>=0&&n>=0;){if(i=a[e],r=t[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?e--:(e===a.length-1&&(s=n),n--)}if(!o&&null===s)return null;if(0===(u=o?n:s))return t;var l=t.slice(u),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}}).prototype=new G,(Xt=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Xt.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new G,Xt.prototype.flush=function(t){var e,n,i,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,ce.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,le.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=z.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(Yt=function(t){var e,n,i=this,r=!0;Yt.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new Rt.MetadataStream,e.aacStream=new te,e.audioTimestampRolloverStream=new Rt.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Rt.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Nt,e.coalesceStream=new Xt(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(r){"timed-metadata"!==r.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Gt(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Rt.MetadataStream,r.packetStream=new Rt.TransportPacketStream,r.parseStream=new Rt.TransportParseStream,r.elementaryStream=new Rt.ElementaryStream,r.videoTimestampRolloverStream=new Rt.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new Rt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Rt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Nt,r.h264Stream=new ue,r.captionStream=new Rt.CaptionStream,r.coalesceStream=new Xt(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(s){var a;if("metadata"===s.type){for(a=s.tracks.length;a--;)e||"video"!==s.tracks[a].type?n||"audio"!==s.tracks[a].type||((n=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Kt(e,t),r.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))}),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Gt(n,t),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var i=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,et(n),n.timelineStartInfo.baseMediaDecodeTime=t,i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,et(e),i.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Jt(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new G;var he,de,fe={Transmuxer:Yt,VideoSegmentStream:Kt,AudioSegmentStream:Gt,AUDIO_PROPERTIES:le,VIDEO_PROPERTIES:ce},pe=$.parseType,ge=function(t){return new Date(1e3*t-20828448e5)},me=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},ve={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:he(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,r=0;r<o;r++)n=s.getUint16(i),i+=2,a.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=s.getUint16(i),i+=2,a.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:pe(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(pe(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:he(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:he(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:pe(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=ge(n.getUint32(i)),i+=8,r.modificationTime=ge(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=ge(n.getUint32(i)),i+=4,r.modificationTime=ge(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:he(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:he(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=he(t.subarray(28))[0]),n},moof:function(t){return{boxes:he(t)}},moov:function(t){return{boxes:he(t)}},mvex:function(t){return{boxes:he(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=ge(e.getUint32(n)),n+=8,i.modificationTime=ge(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=ge(e.getUint32(n)),n+=4,i.modificationTime=ge(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:he(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:he(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return ve.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],s=2&i.flags[2],a=8&i.flags[2],o=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),s&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),o&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=ge(e.getUint32(n)),n+=8,i.modificationTime=ge(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=ge(e.getUint32(n)),n+=4,i.modificationTime=ge(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:he(t)}},trak:function(t){return{boxes:he(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],s=4&n.flags[2],a=1&n.flags[1],o=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),s&&c&&(e={flags:me(t.subarray(h,h+4))},h+=4,a&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(h),h+=4),o&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=me(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},ye={inspect:he=function(t){for(var e,n,i,r,s,a=0,o=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];for(e=new DataView(u);a<t.byteLength;)n=e.getUint32(a),i=pe(t.subarray(a+4,a+8)),r=n>1?a+n:t.byteLength,(s=(ve[i]||function(t){return{data:t}})(t.subarray(a+8,r))).size=n,s.type=i,o.push(s),a=r;return o},textify:de=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return s?1===s.length?i+"<"+s.join("").slice(1)+">":i+"<\n"+s.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+de(t.boxes,e+1):"")}).join("\n")},parseTfdt:ve.tfdt,parseHdlr:ve.hdlr,parseTfhd:ve.tfhd,parseTrun:ve.trun},be=ot,_e=gt.CaptionStream,Te=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Se=function(t,e){var n=$.findBox(t,["moof","traf"]),i={},r=[];return $.findBox(t,["mdat"]).forEach(function(t,e){var i=n[e];r.push({mdat:t,traf:i})}),r.forEach(function(t){var n,r=t.mdat,s=t.traf,a=$.findBox(s,["tfhd"]),o=ye.parseTfhd(a[0]),u=o.trackId,l=$.findBox(s,["tfdt"]),c=l.length>0?ye.parseTfdt(l[0]).baseMediaDecodeTime:0,h=$.findBox(s,["trun"]);e===u&&h.length>0&&(n=function(t,e,n){var i,r,s,a,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=s)if(s=o.getUint32(r),r+=4,!(s<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+s),c=Te(r,e);i={nalUnitType:"sei_rbsp",size:s,data:l,escapedRBSP:be(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,a=c):(i.pts=a.pts,i.dts=a.dts),u.push(i)}return u}(r,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,s=n.defaultSampleSize||0,a=n.trackId,o=[];return t.forEach(function(t){var e=ye.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=s),t.trackId=a,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),o=o.concat(e)}),o}(h,c,o),u),i[u]||(i[u]=[]),i[u]=i[u].concat(n))}),i},we={generator:z,probe:$,Transmuxer:fe.Transmuxer,AudioSegmentStream:fe.AudioSegmentStream,VideoSegmentStream:fe.VideoSegmentStream,CaptionParser:function(){var t,e,n,i,r,s=!1;this.isInitialized=function(){return s},this.init=function(){t=new _e,s=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,s,a){var o;if(!this.isInitialized())return null;if(!s||!a)return null;if(this.isNewInit(s,a))n=s[0],i=a[n];else if(!n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,s,a)}return null!==(o=function(t,e,n){return e?{seiNals:Se(t,e)[e],timescale:n}:null}(t,n,i))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},Ee=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ce=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ke=function(){function t(e,n){Ee(this,t),this.options=n||{},this.self=e,this.init()}return Ce(t,[{key:"init",value:function(){var t,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new we.Transmuxer(this.options),t=this.self,(e=this.transmuxer).on("data",function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new ke(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new ke(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()}),aa={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},oa=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})},ua=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},la=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},ca=function(t,e){var n=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),i=function(t){var e=t.attributes||{};return e.CODECS?ua(e.CODECS):aa}(e),r=e.attributes||{},s=!0,a=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var o=t.mediaGroups.AUDIO[r.AUDIO];if(o)for(var u in a=!0,s=!1,o)if(!o[u].uri&&!o[u].playlists){s=!0;break}}a&&!i.audioProfile&&(s||(i.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return ua(r.playlists[0].attributes.CODECS).audioProfile}return null}(t,r.AUDIO)),i.audioProfile||(Xr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=aa.audioProfile));var l={};i.videoCodec&&(l.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(l.audio="mp4a.40."+i.audioProfile);var c=la("audio",n,[l.audio]),h=la("video",n,[l.video]),d=la("video",n,[l.video,l.audio]);return a?!s&&l.video?[h,c]:s||l.video?[d,c]:[c,c]:l.video?[d]:[c]},ha=function(t){return/mp4a\.\d+.\d+/i.test(t)},da=function(t){return/avc1\.[\da-f]+/i.test(t)},fa=function(t,e,n){var i=null,r=null,s=0,a=[],o=[];if(!t&&!e)return Xr.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Xr.createTimeRange();for(var u=t.buffered,l=e.buffered,c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(t,e){return t.time-e.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++s&&(i=a[c].time):"end"===a[c].type&&1===--s&&(r=a[c].time),null!==i&&null!==r&&(o.push([i,r]),i=null,r=null);return Xr.createTimeRanges(o)},pa=function(t){function e(t,n){ts(this,e);var i=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Xr.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=t,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Xr.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(t){ha(t)?i.audioCodec_=t:da(t)&&(i.videoCodec_=t)}),i.transmuxer_=new sa,i.transmuxer_.postMessage({action:"init",options:r}),i.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return fa(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return ns(e,t),es(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var s=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=s||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;if(t.mediaSource_[n+"Buffer_"])(i=t.mediaSource_[n+"Buffer_"]).updating=!1;else{var r=n+'/mp4;codecs="'+t[n+"Codec_"]+'"';i=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(t){"function"==typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:void 0===i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var s in n)r(s);return i}(t.mediaSource_.nativeMediaSource_,r),t.mediaSource_[n+"Buffer_"]=i}t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_)return"updateend"===r&&(t[n+"Buffer_"].updating=!1),e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(r):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(t,e,n){if(void 0===e||null===e||!t.length)return[];var i=Math.ceil(9e4*(e-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),s=Math.ceil(9e4*(n-i)),a=t.slice(),o=t.length;o--&&!(t[o].pts<=s););if(-1===o)return a;for(var u=o+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Ws(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Ws(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),Ks(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(Xr.EventTarget),ga=function(t){function e(){ts(this,e);var t=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=void 0;for(n in t.nativeMediaSource_=new r.a.MediaSource,t.nativeMediaSource_)n in e.prototype||"function"!=typeof t.nativeMediaSource_[n]||(t[n]=t.nativeMediaSource_[n].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Xr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,i=!0,r=0;r<t.player_.audioTracks().length;r++){var s=t.player_.audioTracks()[r];if(s.enabled&&"main"!==s.kind){n=!0,i=!1;break}}t.sourceBuffers.forEach(function(e,r){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r?i:!i,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},t),t.on("sourceopen",function(e){var n=a.a.querySelector('[src="'+t.url_+'"]');n&&(t.player_=Xr(n.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),t.on("sourceended",function(e){for(var n=$s(t.duration),i=0;i<t.sourceBuffers.length;i++){var r=t.sourceBuffers[i],s=r.metadataTrack_&&r.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=n)}}),t.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return ns(e,t),es(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e}(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=oa(i)).filter(function(t){return ha(t)||da(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new pa(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(Xr.EventTarget),ma=0;Xr.mediaSources={};var va=function(t,e){var n=Xr.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},ya=function(){return!!r.a.MediaSource&&!!r.a.MediaSource.isTypeSupported&&r.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},ba=function(){if(this.MediaSource={open:va,supportsNativeMediaSources:ya},ya())return new ga;throw new Error("Cannot use create a virtual MediaSource for this video")};ba.open=va,ba.supportsNativeMediaSources=ya;var _a={createObjectURL:function(t){var e=void 0;return t instanceof ga?(e=r.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof ga?(e="blob:vjs-media-source/"+ma,ma++,Xr.mediaSources[e]=t,e):(e=r.a.URL.createObjectURL(t),t.url_=e,e)}};Xr.MediaSource=ba,Xr.URL=_a;var Ta=Xr.EventTarget,Sa=Xr.mergeOptions,wa=function(t,e){for(var n=Sa(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),i=0;i<e.playlists.length;i++){var r=ls(n,e.playlists[i]);r&&(n=r)}return us(e,function(t,e,i,r){if(t.playlists&&t.playlists.length){var s=t.playlists[0].uri,a=ls(n,t.playlists[0]);a&&((n=a).mediaGroups[e][i][r].playlists[0]=n.playlists[s])}}),n},Ea=function(t){function e(t,n,i,s){ts(this,e);var a=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(a.hls_=n,a.withCredentials=i,!t)throw new Error("A non-empty playlist URL or playlist is required");return a.on("minimumUpdatePeriod",function(){a.refreshXml_()}),a.on("mediaupdatetimeout",function(){a.refreshMedia_()}),"string"==typeof t?(a.srcUrl=t,a.state="HAVE_NOTHING",is(a)):(a.masterPlaylistLoader_=s,a.state="HAVE_METADATA",a.started=!0,a.media(t),r.a.setTimeout(function(){a.trigger("loadedmetadata")},0),a)}return ns(e,Ta),es(e,[{key:"dispose",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=Object(k.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var n="placeholder-uri-"+e;t.playlists[e].uri=n,t.playlists[n]=t.playlists[e]}return us(t,function(e,n,i,r){if(e.playlists&&e.playlists.length){var s="placeholder-uri-"+n+"-"+i+"-"+r;e.playlists[0].uri=s,t.playlists[s]=e.playlists[0]}}),cs(t),hs(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,n=Object(k.b)(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:Qr(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var s=void 0;s="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=s-Date.now(),t()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),r.a.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText;var i=t.parseMasterXml();t.master=wa(t.master,i),r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t=this,e=void 0,n=void 0;this.masterPlaylistLoader_?(e=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(e=this.master,n=this.parseMasterXml());var i=wa(e,n);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=r.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},ds(this.media(),!!i))),this.trigger("loadedplaylist")}}]),e}(),Ca=function(t){return Xr.log.debug?Xr.log.debug.bind(Xr,"VHS:",t+" >"):function(){}};function ka(){}var xa=function(){function t(e,n,i,r){ts(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=Ca("SourceUpdater["+i+"]["+n+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,r)):this.createSourceBuffer_(n,r)}return es(t,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+qs(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Xr.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ka;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.remove(t,e)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}(),Aa={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Oa=2,Pa=-101,Da=-102,Ia=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},Ra=function(t){t.forEach(function(t){t.abort()})},La=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Pa,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Da,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Oa,xhr:e}:null},Fa=function(t,e,n){var i=[],r=0;return function(s,a){if(s&&(Ra(t),i.push(s)),(r+=1)===t.length){if(a.endOfAllRequests=Date.now(),i.length>0){var o=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})}(i);return n(o,a)}return a.encryptedBytes?function(t,e,n){t.addEventListener("message",function i(r){if(r.data.source===e.requestId){t.removeEventListener("message",i);var s=r.data.decrypted;return e.bytes=new Uint8Array(s.bytes,s.byteOffset,s.byteLength),n(null,e)}}),t.postMessage(Bs({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])}(e,a,n):n(null,a)}}},Ba=function(t,e){return function(n){var i,r,s;return t.stats=Xr.mergeOptions(t.stats,(r=(i=n).target,(s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},Ma=function(t,e,n,i,r,s,a){var o=[],u=Fa(o,n,a);if(r.key){var l=t(Xr.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,s=La(n,i);if(s)return e(s,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Oa,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,u));o.push(l)}if(r.map&&!r.map.bytes){var c=t(Xr.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ia(r.map)}),function(t,e,n){return function(i,r){var s=r.response,a=La(i,r);return a?n(a,t):0===s.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Oa,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e.isInitialized()||e.init(),t.map.timescales=A.a.timescale(t.map.bytes),t.map.videoTrackIds=A.a.videoTrackIds(t.map.bytes),n(null,t))}}(r,i,u));o.push(c)}var h=t(Xr.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Ia(r)}),function(t,e,n){return function(i,r){var s=r.response,a=La(i,r),o=void 0;return a?n(a,t):0===s.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Oa,xhr:r},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(o=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&o.captions&&(t.captionStreams=o.captionStreams,t.fmp4Captions=o.captions)),n(null,t))}}(r,i,u));return h.addEventListener("progress",Ba(r,s)),o.push(h),function(){return Ra(o)}},Na=function(t,e){var n;return t&&(n=r.a.getComputedStyle(t))?n[e]:""},ja=function(t,e){var n=t.slice();t.sort(function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r})},Ua=function(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||r.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),n-(i=i||r.a.Number.MAX_VALUE)},Ha=function(t,e,n){if(!t||!e)return!1;var i=n===t.segments.length;return t.endList&&"open"===e.readyState&&i},Va=function(t){return"number"==typeof t&&isFinite(t)},qa=function(t){function e(t){ts(this,e);var n=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.hls_=t.hls,n.loaderType_=t.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.captionParser_=new O.CaptionParser,n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=Ca("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),n}return ns(e,t),es(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Xr.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Ms(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new xa(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=n?n.id:null;if(this.logger_("playlist update ["+r+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var s=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex&&(this.mediaIndex-=s),i&&(i.mediaIndex-=s,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),Ws(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Ws(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t)Ha(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t))}}},{key:"checkBuffer_",value:function(t,e,n,i,r,s){var a=0,o=void 0;t.length&&(a=t.end(t.length-1));var u=Math.max(0,a-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&u>=1)return null;if(null===s)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var l=e.segments[n];return o=l&&l.end?l.end:a,this.generateSegmentInfo_(e,n+1,o,!1)}if(this.fetchAtBuffer_){var c=Os.getMediaInfoForTime(e,a,s.segmentIndex,s.time);n=c.mediaIndex,o=c.startTime}else{var h=Os.getMediaInfoForTime(e,r,s.segmentIndex,s.time);n=h.mediaIndex,o=h.startTime}return this.generateSegmentInfo_(e,n,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Os.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var a=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,s=t.segmentDuration,a=t.timeUntilRebuffer,o=t.currentTimeline,u=t.syncController,l=e.playlists.filter(function(t){return!Os.isIncompatible(t)}),c=l.filter(Os.isEnabled);c.length||(c=l.filter(function(t){return!Os.isDisabled(t)}));var h=c.filter(Os.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=u.getSyncPoint(t,r,o,n)?1:2;return{playlist:t,rebufferingImpact:Os.estimateSegmentRequestTime(s,i,t)*e-a}}),d=h.filter(function(t){return t.rebufferingImpact<=0});return ja(d,function(t,e){return Ua(e.playlist,t.playlist)}),d.length?d[0]:(ja(h,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=r-s-a.rebufferingImpact,u=.5;return s<=1/30&&(u=1),!a.playlist||a.playlist.uri===this.playlist_.uri||o<u?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*Aa.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=Ma(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=function(t,e,n){var i=void 0;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:i}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Da?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Pa?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(!function(t,e,n){for(var i in n)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(i);t[i]=r||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var e=t.inbandTextTracks,n=t.captionArray,i=t.timestampOffset;if(n){var r=window.WebKitDataCue||window.VTTCue;n.forEach(function(t){var n=t.stream,s=t.startTime,a=t.endTime;e[n]&&(s+=i,a+=i,e[n].addCue(new r(s,a,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r,s,a,o=(r=this.loaderType_,s=this.startingMedia_,a=i,"main"===r&&s&&a?a.containsAudio||a.containsVideo?s.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!s.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(o)return this.error({message:o,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var u=this.syncController_.mappingForTimeline(e.timeline);if(null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",n.map){var l=Ms(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==l){var c=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(c.bytes,function(){t.activeInitSegmentId_=l})}}e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,s=r.mediaSequence,a=r.id,o=r.segments,u=void 0===o?[]:o,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+s+", "+(s+u.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")}(e)),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),Ha(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(Va(n)&&Va(i)){Ws(n,i,this.segmentMetadataTrack_);var s=r.a.WebKitDataCue||r.a.VTTCue,a={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},o=new s(n,i,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(Xr.EventTarget),za=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Wa=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),$a=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ts(this,e);var i=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return ns(e,qa),es(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Xr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Xr.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Ms(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Wa.byteLength+t.bytes.byteLength,s=new Uint8Array(r);s.set(t.bytes),s.set(Wa,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){Ws(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof r.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){t.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",i),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof r.a.TextDecoder?e=new r.a.TextDecoder("utf8"):(e=r.a.WebVTT.StringDecoder(),n=!0);var i=new r.a.WebVTT.Parser(r.a,r.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){Xr.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var s=t.segment.map.bytes;n&&(s=za(s)),i.parse(s)}var a=t.bytes;n&&(a=za(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=s,t.endTime+=s}),!n.syncInfo){var a=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,o-i.duration)}}}else i.empty=!0}}]),e}(),Ka=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Ga=D.a.inspect,Ya=[{name:"VOD",run:function(t,e,n,i,r){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var s=e.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&o<h)break;o=h,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,i,r){var s=e.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!a||null===o||o>=c)&&(o=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,o=0;o<e.discontinuityStarts.length;o++){var u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==a&&a<h)break;(!s||null===a||a>=h)&&(a=h,s={time:c.time,segmentIndex:u})}}return s}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Xa=function(t){function e(){ts(this,e);var t=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Ca("SyncController"),t}return ns(e,t),es(e,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+vs(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],s=0;s<Ya.length;s++){var a=Ya[s],o=a.run(this,t,e,n,i);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var a=Math.abs(t[s].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return(i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=A.a.timescale(e.map.bytes),i=A.a.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=Ga(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],s=e.discontinuitySequence+i+1,a=r-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var u=void 0;u=a<0?n.start-vs(e,t.mediaIndex,r):n.end+vs(e,t.mediaIndex+1,r),this.discontinuities[s]={time:u,accuracy:o}}}}}]),e}(Xr.EventTarget),Ja=new ta("./decrypter-worker.worker.js",function(t,e){var n=this;!function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},r=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!i[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,i[a]=d,r[d]=a,p=16843009*u[h=u[c=u[a]]]^65537*h^257*c^16843008*a,f=257*u[d]^16843008*d,s=0;s<4;s++)e[s][a]=f=f<<24^f>>>8,n[s][d]=p=p<<24^p>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),n[s]=n[s].slice(0);return t},s=null,a=function(){function e(n){t(this,e),s||(s=r()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var i=void 0,a=void 0,o=void 0,u=void 0,l=void 0,c=this._tables[0][4],h=this._tables[1],d=n.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=n.slice(0),l=[],this._key=[u,l],i=d;i<4*d+28;i++)o=u[i-1],(i%d==0||8===d&&i%d==4)&&(o=c[o>>>24]<<24^c[o>>16&255]<<16^c[o>>8&255]<<8^c[255&o],i%d==0&&(o=o<<8^o>>>24^f<<24,f=f<<1^283*(f>>7))),u[i]=u[i-d]^o;for(a=0;i;a++,i--)o=u[3&a?i:i-4],l[a]=i<=4||a<4?o:h[0][c[o>>>24]]^h[1][c[o>>16&255]]^h[2][c[o>>8&255]]^h[3][c[255&o]]}return e.prototype.decrypt=function(t,e,n,i,r,s){var a=this._key[1],o=t^a[0],u=i^a[1],l=n^a[2],c=e^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(g=0;g<p;g++)h=y[o>>>24]^b[u>>16&255]^_[l>>8&255]^T[255&c]^a[m],d=y[u>>>24]^b[l>>16&255]^_[c>>8&255]^T[255&o]^a[m+1],f=y[l>>>24]^b[c>>16&255]^_[o>>8&255]^T[255&u]^a[m+2],c=y[c>>>24]^b[o>>16&255]^_[u>>8&255]^T[255&l]^a[m+3],m+=4,o=h,u=d,l=f;for(g=0;g<4;g++)r[(3&-g)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[m++],h=o,o=u,u=l,l=c,c=h},e}(),o=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},e.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),u=function(e){function n(){t(this,n);var r=i(this,e.call(this,o));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(o),l=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},c=function(){function n(e,i,r,s){t(this,n);var a=n.STEP,o=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+a),i,r,c)),h=a;h<o.length;h+=a)r=new Uint32Array([l(o[h-4]),l(o[h-3]),l(o[h-2]),l(o[h-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+a),i,r,c));this.asyncStream_.push(function(){var t;s(null,(t=c).subarray(0,t.byteLength-t[t.byteLength-1]))})}return n.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new a(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),o=new Int32Array(s.buffer),u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(u=n[0],c=n[1],h=n[2],d=n[3],v=0;v<i.length;v+=4)f=l(i[v]),p=l(i[v+1]),g=l(i[v+2]),m=l(i[v+3]),r.decrypt(f,p,g,m,o,v),o[v]=l(o[v]^u),o[v+1]=l(o[v+1]^c),o[v+2]=l(o[v+2]^h),o[v+3]=l(o[v+3]^d),u=f,c=p,h=g,d=m;return s}(t,e,n);i.set(r,t.byteOffset)}},e(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),s=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new c(i,r,s,function(e,i){var r,s;t.postMessage((r={source:n.source,decrypted:i},s={},Object.keys(r).forEach(function(t){var e=r[t];ArrayBuffer.isView(e)?s[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:s[t]=e}),s),[i.buffer])})}}(n)}()}),Za=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Qa=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},to=function(t,e){e.activePlaylistLoader=t,t.load()},eo={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;Qa(n,i);var s=i.activeTrack(),a=i.activeGroup(),o=(a.filter(function(t){return t.default})[0]||a[0]).id,u=i.tracks[o];if(s!==u){for(var l in Xr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Xr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Qa(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},no={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,s=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",eo[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,s=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),s.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",eo[t](t,n))}},io=function(t,e){return function(n){return n.attributes[t]===e}},ro=function(t){return function(e){return e.resolvedUri===t}},so={AUDIO:function(t,e){var n=e.hls,i=e.sourceType,r=e.segmentLoaders[t],s=e.requestOptions.withCredentials,a=e.master,o=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,h=l.tracks,d=e.masterPlaylistLoader;for(var f in o[t]&&0!==Object.keys(o[t]).length||(o[t]={main:{default:{default:!0}}}),o[t]){c[f]||(c[f]=[]);var p=u.filter(io(t,f));for(var g in o[t][f]){var m=o[t][f][g];p.filter(ro(m.resolvedUri)).length&&delete m.resolvedUri;var v=void 0;if(v=m.resolvedUri?new fs(m.resolvedUri,n,s):m.playlists&&"dash"===i?new Ea(m.playlists[0],n,s,d):null,m=Xr.mergeOptions({id:g,playlistLoader:v},m),no[t](t,m.playlistLoader,e),c[f].push(m),void 0===h[g]){var y=new Xr.AudioTrack({id:g,kind:Za(m),enabled:!1,language:m.language,default:m.default,label:g});h[g]=y}}}r.on("error",eo[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.sourceType,s=e.segmentLoaders[t],a=e.requestOptions.withCredentials,o=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,h=e.masterPlaylistLoader;for(var d in o[t])for(var f in l[d]||(l[d]=[]),o[t][d])if(!o[t][d][f].forced){var p=o[t][d][f],g=void 0;if("hls"===r?g=new fs(p.resolvedUri,i,a):"dash"===r&&(g=new Ea(p.playlists[0],i,a,h)),p=Xr.mergeOptions({id:f,playlistLoader:g},p),no[t](t,p.playlistLoader,e),l[d].push(p),void 0===c[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}s.on("error",eo[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],s=r.groups,a=r.tracks;for(var o in i[t])for(var u in s[o]||(s[o]=[]),i[t][o]){var l=i[t][o][u];if(l.instreamId.match(/CC\d/)&&(s[o].push(Xr.mergeOptions({id:u},l)),void 0===a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},ao={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}},oo=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){so[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,s=i.media();if(!s)return null;var a=null;return s.attributes[t]&&(a=r[s.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter(function(t){return t.id===n.id})[0]||null}}(n,t),e[n].activeTrack=ao[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),u=s.activePlaylistLoader;Qa(i,s),o&&(o.playlistLoader?(i.resyncLoader(),to(o.playlistLoader,s)):u&&r.resetEverything())}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),u=s.activePlaylistLoader;Qa(i,s),o&&(o.playlistLoader?u!==o.playlistLoader?(i.track&&i.track(a),i.resetEverything(),to(o.playlistLoader,s)):to(o.playlistLoader,s):r.resetEverything())}}(n,t)});var s=e.AUDIO.activeGroup(),a=(s.filter(function(t){return t.default})[0]||s[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var o=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},uo=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ka,activeTrack:ka,onGroupChanged:ka,onTrackChanged:ka}}),t},lo=void 0,co=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ho=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},fo=function(t){function e(t){ts(this,e);var n=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.url,r=t.withCredentials,s=t.tech,a=t.bandwidth,o=t.externHls,u=t.useCueTags,l=t.blacklistDuration,c=t.enableLowInitialPlaylist,h=t.sourceType,d=t.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");lo=o,n.withCredentials=r,n.tech_=s,n.hls_=s.hls,n.seekTo_=d,n.sourceType_=h,n.useCueTags_=u,n.blacklistDuration=l,n.enableLowInitialPlaylist=c,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=uo(),n.mediaSource=new Xr.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Xr.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new Xa(t),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Ja,n.inbandTextTracks_={};var f={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:a,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Ea(i,n.hls_,n.withCredentials):new fs(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new qa(Xr.mergeOptions(f,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new qa(Xr.mergeOptions(f,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new $a(Xr.mergeOptions(f,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),co.forEach(function(t){n[t+"_"]=ho.bind(n,t)}),n.logger_=Ca("MPC"),n.masterPlaylistLoader_.load(),n}return ns(e,t),es(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;As(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),oo({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return Xr.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){t.tech_.one("durationchange",function e(){t.duration()===1/0?i():t.tech_.one("durationchange",e)})}else i()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;As(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var s in n.AUDIO)for(var a in n.AUDIO[s]){n.AUDIO[s][a].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),lo.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),lo.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),r=i.length?i.end(i.length-1)-t.tech_.currentTime():0,s=t.bufferLowWaterLine();(!n.endList||t.duration()<Aa.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=s)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){Xr.browser.IE_VERSION||Xr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Xr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Xr.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=lo.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var s=r.end(r.length-1);return s-i<=.1&&n-s<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),n=n||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(ks).length;return r?(Xr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*n,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),Xr.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=Hs(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:lo.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=lo.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=lo.Playlist.seekable(n,i)).length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=Xr.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.logger_("seekable updated ["+qs(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=lo.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=ca(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Xr.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){var e;t.attributes.CODECS&&r.a.MediaSource&&r.a.MediaSource.isTypeSupported&&!r.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(e=t.attributes.CODECS,e.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return oa([t])[0]}))+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,n=null,i=void 0;t.attributes.CODECS&&(i=ua(t.attributes.CODECS),n=i.videoCodec,e=i.codecCount),this.master().playlists.forEach(function(t){var i={codecCount:2,videoCodec:null};t.attributes.CODECS&&(i=ua(t.attributes.CODECS)),i.codecCount!==e&&(t.excludeUntil=1/0),i.videoCodec!==n&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var i=n,s=void 0,a=0;a<t.segments.length;a++){var o=t.segments[a];if(s||(s=Ka(e,i+o.duration/2)),s){if("cueIn"in o){s.endTime=i,s.adEndTime=i,i+=o.duration,s=null;continue}if(i<s.endTime){i+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&((s=new r.a.VTTCue(i,i+o.duration,o.cueOut)).adStartTime=i,s.adEndTime=i+parseFloat(o.cueOut),e.addCue(s)),"cueOutCont"in o){var u,l,c=o.cueOutCont.split("/").map(parseFloat),h=rs(c,2);u=h[0],l=h[1],(s=new r.a.VTTCue(i,i+o.duration,"")).adStartTime=i-u,s.adEndTime=s.adStartTime+l,e.addCue(s)}i+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=Aa.GOAL_BUFFER_LENGTH,n=Aa.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,Aa.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=Aa.BUFFER_LOW_WATER_LINE,n=Aa.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,Aa.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),e}(Xr.EventTarget),po=function t(e,n,i){ts(this,t);var r,s,a,o=e.masterPlaylistController_,u=o[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=(r=e.playlists,s=n.uri,a=u,function(t){var e=r.master.playlists[s],n=Cs(e),i=ks(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||n||(a(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)})},go=["seeking","seeked","pause","playing","error"],mo=function(){function t(e){var n=this;ts(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ca("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},s=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},o=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",o),this.tech_.on("waiting",s),this.tech_.on(go,a),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",o),n.tech_.off("waiting",s),n.tech_.off(go,a),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&r.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return es(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;t&&this.afterSeekableWindow_(e,n)&&(i=e.end(e.length-1));t&&this.beforeSeekableWindow_(e,n)&&(i=e.start(0)+.1);return void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+qs(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Hs(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=Vs(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var s=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=Vs(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=function(t){if(t.length<2)return Xr.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Xr.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),s=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:s}}return null}}]),t}(),vo={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},yo=function(t){!function t(e,n){var i=0,r=0,s=Xr.mergeOptions(vo,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},o=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<1e3*s.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return i=Date.now(),s.getSource.call(e,o);Xr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(n){l(),t(e,n)}}(this,t)};Xr.use("*",function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.currentTime())}}});var bo={PlaylistLoader:fs,Playlist:Os,Decrypter:V,AsyncStream:j,decrypt:H,utils:js,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,e,n,i,s){var a=t.playlists.map(function(t){var e,n;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||r.a.Number.MAX_VALUE,width:e,height:n,playlist:t}});ja(a,function(t,e){return t.bandwidth-e.bandwidth});var o=(a=a.filter(function(t){return!Os.isIncompatible(t.playlist)})).filter(function(t){return Os.isEnabled(t.playlist)});o.length||(o=a.filter(function(t){return!Os.isDisabled(t.playlist)}));var u=o.filter(function(t){return t.bandwidth*Aa.BANDWIDTH_VARIANCE<e}),l=u[u.length-1],c=u.filter(function(t){return t.bandwidth===l.bandwidth})[0];if(!1===s){var h=c||o[0]||a[0];return h?h.playlist:null}var d=u.filter(function(t){return t.width&&t.height});ja(d,function(t,e){return t.width-e.width});var f=d.filter(function(t){return t.width===n&&t.height===i});l=f[f.length-1];var p=f.filter(function(t){return t.bandwidth===l.bandwidth})[0],g=void 0,m=void 0,v=void 0;p||(m=(g=d.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===g[0].width&&t.height===g[0].height}),l=m[m.length-1],v=m.filter(function(t){return t.bandwidth===l.bandwidth})[0]);var y=v||p||c||o[0]||a[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Na(this.tech_.el(),"width"),10),parseInt(Na(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(Os.isEnabled);return ja(t,function(t,e){return Ua(t,e)}),t.filter(function(t){return ua(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Ua,comparePlaylistResolution:function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||r.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),n===(i=i||r.a.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},xhr:Is()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(bo,t,{get:function(){return Xr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Aa[t]},set:function(e){Xr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Xr.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Aa[t]=e}})});var _o=function(t){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t))return"hls";return/^application\/dash\+xml/i.test(t)?"dash":null},To=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};bo.canPlaySource=function(){return Xr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var So=function(t){if("dash"===t.options_.sourceType){var e=Xr.players[t.tech_.options_.playerId];if(e.eme){var n=function(t,e,n){if(!t)return t;var i={};for(var r in t)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(i[r].pssh=e.contentProtection[r].pssh),"string"==typeof t[r]&&(i[r].url=t[r]);return Xr.mergeOptions(t,i)}(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}};bo.supportsNativeHls=function(){var t=a.a.createElement("video");if(!Xr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),bo.supportsNativeDash=!!Xr.getTech("Html5").isSupported()&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),bo.supportsTypeNatively=function(t){return"hls"===t?bo.supportsNativeHls:"dash"===t&&bo.supportsNativeDash},bo.isSupported=function(){return Xr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var wo=Xr.getComponent("Component"),Eo=function(t){function e(t,n,i){ts(this,e);var r=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var s=Xr(n.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Xr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r}}),s.vhs=r,s.dash=r}if(r.tech_=n,r.source_=t,r.stats={},r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()}),r.on(r.tech_,"seeking",function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),r.on(r.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,"play",r.play),r}return ns(e,wo),es(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Aa.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Aa.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth,this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var n=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=bo,this.options_.sourceType=_o(e),this.options_.seekTo=function(t){n.tech_.setCurrentTime(t),n.setCurrentTime(t)},this.masterPlaylistController_=new fo(this.options_),this.playbackWatcher_=new mo(Xr.mergeOptions(this.options_,{seekable:function(){return n.seekable()}})),this.masterPlaylistController_.on("error",function(){Xr.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):bo.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=bo.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Xr.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return zs(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return zs(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;e=(t=n).playlists,t.representations=function(){return e.master.playlists.filter(function(t){return!Cs(t)}).map(function(e,n){return new po(t,e,e.uri)})},So(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Xr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Xr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach(function(t){e.addQualityLevel(t)}),To(e,n.playlists)}),this.playlists.on("mediachange",function(){To(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(),Co={name:"videojs-http-streaming",VERSION:"1.4.1",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xr.mergeOptions(Xr.options,e);return Co.canPlayType(t.type,n)},handleSource:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Xr.mergeOptions(Xr.options,n);return e.hls=new Eo(t,e,i),e.hls.xhr=Is(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xr.mergeOptions(Xr.options,e).hls.overrideNative,i=_o(t);return i&&(!bo.supportsTypeNatively(i)||n)?"maybe":""}};void 0!==Xr.MediaSource&&void 0!==Xr.URL||(Xr.MediaSource=ba,Xr.URL=_a),ba.supportsNativeMediaSources()&&Xr.getTech("Html5").registerSourceHandler(Co,0),Xr.HlsHandler=Eo,Xr.HlsSourceHandler=Co,Xr.Hls=bo,Xr.use||Xr.registerComponent("Hls",bo),Xr.options.hls=Xr.options.hls||{},Xr.registerPlugin?Xr.registerPlugin("reloadSourceOnError",yo):Xr.plugin("reloadSourceOnError",yo);var ko=Xr,xo=n("21nG");var Ao,Oo=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Po=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Do=ko.getComponent("Tech"),Io=ko.dom,Ro=ko.url,Lo=ko.createTimeRange,Fo=ko.mergeOptions,Bo=r.a&&r.a.navigator||{},Mo=function(t){function e(n,i){Oo(this,e);var s=Po(this,t.call(this,n,i));return n.source&&s.ready(function(){this.setSource(n.source)},!0),n.startTime&&s.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),r.a.videojs=r.a.videojs||{},r.a.videojs.Flash=r.a.videojs.Flash||{},r.a.videojs.Flash.onReady=e.onReady,r.a.videojs.Flash.onEvent=e.onEvent,r.a.videojs.Flash.onError=e.onError,s.on("seeked",function(){this.lastSeekTarget_=void 0}),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var t=this.options_;t.swf||(t.swf="https://vjs.zencdn.net/swf/"+xo.version+"/video-js.swf");var n=t.techId,i=Fo({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=Fo({wmode:"opaque",bgcolor:"#000000"},t.params),s=Fo({id:n,name:n,class:"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,i,r,s),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){var e=this;t=Ro.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return e.play()},0)},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var n=this.seekable();n.length&&(e=(e=e>n.start(0)?e:n.start(0))<n.end(n.length-1)?e:n.end(n.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.el_.vjs_getProperty("duration");return t>=0?t:1/0},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?Lo():Lo(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?Lo():Lo(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e.prototype.getVideoPlaybackQuality=function(){var t=this.el_.vjs_getProperty("getVideoPlaybackQuality");return r.a.performance&&"function"==typeof r.a.performance.now?t.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"==typeof r.a.performance.timing.navigationStart&&(t.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),t},e}(Do),No=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"],jo=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],Uo=Mo.prototype;function Ho(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Uo["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function Vo(t){Uo[t]=function(){return this.el_.vjs_getProperty(t)}}for(var qo=0;qo<No.length;qo++)Vo(No[qo]),Ho(No[qo]);for(var zo=0;zo<jo.length;zo++)Vo(jo[zo]);Mo.isSupported=function(){return!!(ko.browser.IS_CHROME&&!ko.browser.IS_ANDROID||ko.browser.IS_SAFARI&&!ko.browser.IS_IOS)||Mo.version()[0]>=10},Do.withSourceHandlers(Mo),Mo.nativeSourceHandler={},Mo.nativeSourceHandler.canPlayType=function(t){return t in Mo.formats?"maybe":""},Mo.nativeSourceHandler.canHandleSource=function(t,e){var n,i,r=void 0;return t.type?r=t.type.replace(/;.*/,"").toLowerCase():(n=t.src,r=(i=Ro.getFileExtension(n))?"video/"+i:""),Mo.nativeSourceHandler.canPlayType(r)},Mo.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Mo.nativeSourceHandler.dispose=function(){},Mo.registerSourceHandler(Mo.nativeSourceHandler),Mo.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},Mo.onReady=function(t){var e=Io.$("#"+t),n=e&&e.tech;n&&n.el()&&Mo.checkReady(n)},Mo.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){Mo.checkReady(t)},50))},Mo.onEvent=function(t,e){var n=Io.$("#"+t).tech,i=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(e,i)},1)},Mo.onError=function(t,e){var n=Io.$("#"+t).tech;if("srcnotfound"===e)return n.error(4);"string"==typeof e?n.error("FLASH: "+e):(e.origin="flash",n.error(e))},Mo.version=function(){var t="0,0,0";try{t=new r.a.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{Bo.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(Bo.plugins["Shockwave Flash 2.0"]||Bo.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},Mo.embed=function(t,e,n,i){var r=Mo.getEmbedCode(t,e,n,i);return Io.createEl("div",{innerHTML:r}).childNodes[0]},Mo.getEmbedCode=function(t,e,n,i){var r="",s="",a="";return e&&Object.getOwnPropertyNames(e).forEach(function(t){r+=t+"="+e[t]+"&amp;"}),n=Fo({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(t){s+='<param name="'+t+'" value="'+n[t]+'" />'}),i=Fo({data:t,width:"100%",height:"100%"},i),Object.getOwnPropertyNames(i).forEach(function(t){a+=t+'="'+i[t]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+s+"</object>"},(Ao=Mo).streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},Ao.streamFromParts=function(t,e){return t+"&"+e},Ao.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n=t.search(/&(?![\w-]+=)/),i=void 0;return-1!==n?i=n+1:0===(n=i=t.lastIndexOf("/")+1)&&(n=i=t.length),e.connection=t.substring(0,n),e.stream=t.substring(i,t.length),e},Ao.isStreamingType=function(t){return t in Ao.streamingFormats},Ao.RTMP_RE=/^rtmp[set]?:\/\//i,Ao.isStreamingSrc=function(t){return Ao.RTMP_RE.test(t)},Ao.rtmpSourceHandler={},Ao.rtmpSourceHandler.canPlayType=function(t){return Ao.isStreamingType(t)?"maybe":""},Ao.rtmpSourceHandler.canHandleSource=function(t,e){var n=Ao.rtmpSourceHandler.canPlayType(t.type);return n||(Ao.isStreamingSrc(t.src)?"maybe":"")},Ao.rtmpSourceHandler.handleSource=function(t,e,n){var i=Ao.streamToParts(t.src);e.setRtmpConnection(i.connection),e.setRtmpStream(i.stream)},Ao.registerSourceHandler(Ao.rtmpSourceHandler),Do.getTech("Flash")?(ko.log.warn("Not using videojs-flash as it appears to already be registered"),ko.log.warn("videojs-flash should only be used with video.js@6 and above")):ko.registerTech("Flash",Mo),Mo.VERSION="2.1.2"},qoCw:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},qozV:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},qqng:function(t,e,n){"use strict";var i=n("cuTx"),r=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};r.prototype=new i,r.prototype.flush=function(t){var e,n,i,r,s={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),s.tags.videoTags=this.videoTags,s.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)(n=this.pendingCaptions[i]).startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,s.captionStreams[n.stream]=!0,s.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)(e=this.pendingMetadata[i]).cueTime=e.pts-r,e.cueTime/=9e4,s.metadata.push(e);s.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",s),this.trigger("done")}},t.exports=r},qs5b:function(t,e,n){var i=n("kZKs"),r=n("XFX/").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},rVsN:function(t,e,n){t.exports={default:n("X7Pd"),__esModule:!0}},sNHX:function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},sRFa:function(t,e,n){"use strict";var i,r,s,a=n("cuTx"),o=n("1Aig");(r=function(){var t,e,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new a,s={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(i=function(){var t,e,n,a,u,l,c,h=new r;i.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,a=t.dts,h.push(t))},h.on("data",function(i){var r={trackId:e,pts:n,dts:a,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=l(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)}),h.on("done",function(){t.trigger("done")}),this.flush=function(){h.flush()},c=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},u=function(t){for(var e,n,i=t.byteLength,r=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),n[s]=t[a];return n},l=function(t){var e,n,i,r,a,u,l,h,d,f,p,g,m,v=0,y=0,b=0,_=0,T=1;if(n=(e=new o(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),s[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==a?8:12,m=0;m<p;m++)e.readBoolean()&&c(m<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),m=0;m<l;m++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),h=e.readUnsignedExpGolomb(),d=e.readUnsignedExpGolomb(),0===(f=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}g&&(T=g[0]/g[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(h+1)-2*v-2*y)*T),height:(2-f)*(d+1)*16-2*b-2*_}}}).prototype=new a,t.exports={H264Stream:i,NalByteStream:r}},sVqg:function(t,e,n){"use strict";var i,r,s,a,o,u,l,c,h,d,f=n("cuTx"),p=n("dham"),g=n("b/oE"),m=n("bI8e"),v=n("sRFa").H264Stream,y=n("VmKo"),b=n("nvwQ"),_=n("RRl7"),T=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],S=["width","height","profileIdc","levelIdc","profileCompatibility"];o=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},h=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},d=function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n},(r=function(t){var e=[],n=0,i=0,s=0,a=1/0;r.prototype.init.call(this),this.push=function(n){u(t,n),t&&T.forEach(function(e){t[e]=n[e]}),e.push(n)},this.setEarliestDts=function(e){i=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var i,r,s,a;0!==e.length?(i=this.trimAdtsFramesByEarliestDts_(e),t.baseMediaDecodeTime=c(t),this.prefixWithSilence_(t,i),t.samples=this.generateSampleTable_(i),s=p.mdat(this.concatenateFrameData_(i)),e=[],r=p.moof(n,[t]),a=new Uint8Array(r.byteLength+s.byteLength),n++,a.set(r),a.set(s,r.byteLength),l(t),this.trigger("data",{track:t,boxes:a}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,i,r,o,u=0,l=0,c=0;if(e.length&&(n=_.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),i=Math.ceil(9e4/(t.samplerate/1024)),s&&a&&(u=n-Math.max(s,a),c=(l=Math.floor(u/i))*i),!(l<1||c>45e3))){for((r=b[t.samplerate])||(r=e[0].data),o=0;o<l;o++)e.splice(o,0,{data:r});t.baseMediaDecodeTime-=Math.floor(_.videoTsToAudioTs(c,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(d(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}).prototype=new f,(i=function(t,e){var n,r,s=0,a=[],o=[];e=e||{},i.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){u(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],S.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){for(var n,i,r,h,d,f;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=this.groupNalsIntoFrames_(a),(r=this.groupFramesIntoGops_(n))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],t))?(r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=this.extendFirstKeyFrame_(r)),o.length){var g;if(!(g=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");l(t),r=g}u(t,r),t.samples=this.generateSampleTable_(r),d=p.mdat(this.concatenateNalData_(r)),t.baseMediaDecodeTime=c(t),this.trigger("processedGopsInfo",r.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),h=p.moof(s,[t]),f=new Uint8Array(h.byteLength+d.byteLength),s++,f.set(h),f.set(d,h.byteLength),this.trigger("data",{track:t,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){l(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,i,r,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)r=(s=this.gopCache_[a]).gop,t.pps&&h(t.pps[0],s.pps[0])&&t.sps&&h(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||o>n)&&(i=s,o=n));return i?i.gop:null},this.extendFirstKeyFrame_=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},this.groupNalsIntoFrames_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(t,e){var n,i,r,s,a,o=e||0,u=[];for(n=0;n<t.length;n++)for(s=t[n],i=0;i<s.length;i++)a=s[i],(r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=o,r.compositionTimeOffset=a.pts-a.dts,r.duration=a.duration,r.size=4*a.length,r.size+=a.byteLength,a.keyFrame&&(r.flags.dependsOn=2),o+=r.size,u.push(r);return u},this.concatenateNalData_=function(t){var e,n,i,r,s,a,o=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(s=r[n],i=0;i<s.length;i++)a=s[i],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},this.alignGopsAtStart_=function(t){var e,n,i,r,s,a,u,l;for(s=t.byteLength,a=t.nalCount,u=t.duration,e=n=0;e<o.length&&n<t.length&&(i=o[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,s-=r.byteLength,a-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=s,l.duration=u,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,s,a,u;for(e=o.length-1,n=t.length-1,s=null,a=!1;e>=0&&n>=0;){if(i=o[e],r=t[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?e--:(e===o.length-1&&(s=n),n--)}if(!a&&null===s)return null;if(0===(u=a?n:s))return t;var l=t.slice(u),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){o=t}}).prototype=new f,u=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},l=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},c=function(t){var e,n=t.minSegmentDts-t.timelineStartInfo.dts;return e=t.timelineStartInfo.baseMediaDecodeTime,e+=n,e=Math.max(0,e),"audio"===t.type&&(e*=t.samplerate/9e4,e=Math.floor(e)),e},(a=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new f,a.prototype.flush=function(t){var e,n,i,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,S.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,T.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=p.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts-o,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(s=function(t){var e,n,u=this,c=!0;s.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new g.MetadataStream,e.aacStream=new y,e.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),e.adtsStream=new m,e.coalesceStream=new a(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(n),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new g.MetadataStream,s.packetStream=new g.TransportPacketStream,s.parseStream=new g.TransportParseStream,s.elementaryStream=new g.ElementaryStream,s.videoTimestampRolloverStream=new g.TimestampRolloverStream("video"),s.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),s.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),s.adtsStream=new m,s.h264Stream=new v,s.captionStream=new g.CaptionStream,s.coalesceStream=new a(t,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream),s.elementaryStream.pipe(s.videoTimestampRolloverStream).pipe(s.h264Stream),s.elementaryStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),s.elementaryStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)e||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||((n=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(e=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime;e&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new i(e,t),s.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,s.audioSegmentStream.setEarliestDts(t.dts))}),s.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),n&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new r(n),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream))}}),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var i=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,l(n),n.timelineStartInfo.baseMediaDecodeTime=t,i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,l(e),i.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(c){var e=o(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new f,t.exports={Transmuxer:s,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:T,VIDEO_PROPERTIES:S}},sswn:function(t,e,n){"use strict";var i=n("E5ix"),r=n("273z"),s=n("d0l3"),a=n("Rb18"),o=n("XRq0"),u=n("kM2v"),l=n("bNZV"),c=n("EMcm"),h=n("mhb3")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,m,v){u(n,e,p);var y,b,_,T=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",w="values"==g,E=!1,C=t.prototype,k=C[h]||C["@@iterator"]||g&&C[g],x=k||T(g),A=g?w?T("entries"):x:void 0,O="Array"==e&&C.entries||k;if(O&&(_=c(O.call(new t)))!==Object.prototype&&_.next&&(l(_,S,!0),i||"function"==typeof _[h]||a(_,h,f)),w&&k&&"values"!==k.name&&(E=!0,x=function(){return k.call(this)}),i&&!v||!d&&!E&&C[h]||a(C,h,x),o[e]=x,o[S]=f,g)if(y={values:w?x:T("values"),keys:m?x:T("keys"),entries:A},v)for(b in y)b in C||s(C,b,y[b]);else r(r.P+r.F*(d||E),e,y);return y}},"t+Qy":function(t,e,n){"use strict";var i=n("o/0m"),r=function(t){var e=31&t[1];return e<<=8,e|=t[2]},s=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var n=r(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=s(t),n=4+a(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=s(t),i=4+a(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var u=i+o;e[(31&t[u+1])<<8|t[u+2]]=t[u],o+=5+((15&t[u+3])<<8|t[u+4])}return e}},parsePayloadUnitStartIndicator:s,parsePesType:function(t,e){switch(e[r(t)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!s(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+a(t),n=t.subarray(e),i=0,r=0,s=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&n[r+3])&&(s=!0),s}}},t5kx:function(t,e,n){"use strict";var i,r,s,a,o,u,l=n("cuTx"),c=n("u3k2"),h=n("b/oE"),d=n("bI8e"),f=n("sRFa").H264Stream,p=n("qqng"),g=n("EzGQ");a=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},o=function(t,e){var n=new c(c.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},u=function(t,e){var n,i=new c(c.VIDEO_TAG,!0);for(i.dts=e,i.pts=e,i.writeByte(1),i.writeByte(t.profileIdc),i.writeByte(t.profileCompatibility),i.writeByte(t.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(t.sps[0].length),i.writeBytes(t.sps[0]),i.writeByte(t.pps.length),n=0;n<t.pps.length;++n)i.writeShort(t.pps[n].length),i.writeBytes(t.pps[n]);return i},(s=function(t){var e,n=[],i=[];s.prototype.init.call(this),this.push=function(e){a(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var r,s,a,o=new g;if(0!==n.length){for(a=-1/0;n.length;)r=n.shift(),i.length&&r.pts>=i[0]&&(a=i.shift(),this.writeMetaDataTags(o,a)),(t.extraData!==e||r.pts-a>=1e3)&&(this.writeMetaDataTags(o,r.pts),e=t.extraData,a=r.pts),(s=new c(c.AUDIO_TAG)).pts=r.pts,s.dts=r.dts,s.writeBytes(r.data),o.push(s.finalize());i.length=0,e=null,this.trigger("data",{track:t,tags:o.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,n){var i;(i=new c(c.METADATA_TAG)).pts=n,i.dts=n,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===t.channelcount),i.writeMetaDataDouble("audiosamplerate",t.samplerate),i.writeMetaDataDouble("audiosamplesize",16),e.push(i.finalize()),(i=new c(c.AUDIO_TAG,!0)).pts=n,i.dts=n,i.view.setUint16(i.position,t.extraData),i.position+=2,i.length=Math.max(i.length,i.position),e.push(i.finalize())},this.onVideoKeyFrame=function(t){i.push(t)}}).prototype=new l,(r=function(t){var e,n,i=[];r.prototype.init.call(this),this.finishFrame=function(i,r){if(r){if(e&&t&&t.newMetadata&&(r.keyFrame||0===i.length)){var s=o(e,r.dts).finalize(),a=u(t,r.dts).finalize();s.metaDataTag=a.metaDataTag=!0,i.push(s),i.push(a),t.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),i.push(r.finalize()),n=null}},this.push=function(e){a(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),i.push(e)},this.flush=function(){for(var r,s=new g;i.length&&"access_unit_delimiter_rbsp"!==i[0].nalUnitType;)i.shift();if(0!==i.length){for(;i.length;)"seq_parameter_set_rbsp"===(r=i.shift()).nalUnitType?(t.newMetadata=!0,e=r.config,t.width=e.width,t.height=e.height,t.sps=[r.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===r.nalUnitType?(t.newMetadata=!0,t.pps=[r.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===r.nalUnitType?(n&&this.finishFrame(s,n),(n=new c(c.VIDEO_TAG)).pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(r.data);n&&this.finishFrame(s,n),this.trigger("data",{track:t,tags:s.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new l,(i=function(t){var e,n,a,o,u,l,c,g,m,v,y,b,_=this;i.prototype.init.call(this),t=t||{},this.metadataStream=new h.MetadataStream,t.metadataStream=this.metadataStream,e=new h.TransportPacketStream,n=new h.TransportParseStream,a=new h.ElementaryStream,o=new h.TimestampRolloverStream("video"),u=new h.TimestampRolloverStream("audio"),l=new h.TimestampRolloverStream("timed-metadata"),c=new d,g=new f,b=new p(t),e.pipe(n).pipe(a),a.pipe(o).pipe(g),a.pipe(u).pipe(c),a.pipe(l).pipe(this.metadataStream).pipe(b),y=new h.CaptionStream,g.pipe(y).pipe(b),a.on("data",function(t){var e,n,i;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(i=t.tracks[e]);n&&!m&&(b.numberOfTracks++,m=new r(n),g.pipe(m).pipe(b)),i&&!v&&(b.numberOfTracks++,v=new s(i),c.pipe(v).pipe(b),m&&m.on("keyframe",v.onVideoKeyFrame))}}),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){y.reset()},b.on("data",function(t){_.trigger("data",t)}),b.on("done",function(){_.trigger("done")})}).prototype=new l,t.exports=i},tl8j:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("1n34"),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(){return function t(e,n){e=(0,r.mergeOptions)({timeout:45e3},e);var i=t.beforeRequest||s.default.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var a=i(e);a&&(e=a)}var o=(0,r.xhr)(e,function(t,e){var i=o.response;!t&&i&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=i.byteLength||i.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t&&"ETIMEDOUT"===t.code&&(o.timedout=!0),t||o.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(o&&(i||o.responseText)))),n(t,o)}),u=o.abort;return o.abort=function(){return o.aborted=!0,u.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},t.exports=e.default},u3k2:function(t,e,n){"use strict";var i;(i=function(t,e){var n,r=0,s=16384,a=function(t,e){var n,i=t.position+e;i<t.bytes.byteLength||((n=new Uint8Array(2*i)).set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},o=i.widthBytes||new Uint8Array("width".length),u=i.heightBytes||new Uint8Array("height".length),l=i.videocodecidBytes||new Uint8Array("videocodecid".length);if(!i.widthBytes){for(n=0;n<"width".length;n++)o[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)l[n]="videocodecid".charCodeAt(n);i.widthBytes=o,i.heightBytes=u,i.videocodecidBytes=l}switch(this.keyFrame=!1,t){case i.VIDEO_TAG:this.length=16,s*=6;break;case i.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case i.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(s),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var i,r=e||0;i=r+(n=n||t.byteLength),a(this,n),this.bytes.set(t.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){a(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){a(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===r+4?this.length-=4:r>0&&(e=r+4,n=this.length-e,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),r=0},this.writeMetaDataDouble=function(t,e){var n;if(a(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(o,this.position),this.position+=5;else if("height"===t)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(t,e){var n;for(a(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)a(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var t,n;switch(this.bytes[0]){case i.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case i.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case i.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=i.frameTime(this.bytes),this}}).AUDIO_TAG=8,i.VIDEO_TAG=9,i.METADATA_TAG=18,i.isAudioFrame=function(t){return i.AUDIO_TAG===t[0]},i.isVideoFrame=function(t){return i.VIDEO_TAG===t[0]},i.isMetaData=function(t){return i.METADATA_TAG===t[0]},i.isKeyFrame=function(t){return i.isVideoFrame(t)?23===t[11]:!!i.isAudioFrame(t)||!!i.isMetaData(t)},i.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24},t.exports=i},uALp:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],i=0;i<e.length;++i)for(var r=e[i],s=r.obj[r.prop],a=Object.keys(s),o=0;o<a.length;++o){var u=a[o],l=s[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:s,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(Array.isArray(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,n){if(0===t.length)return t;var i="string"==typeof t?t:String(t);if("iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var s="",a=0;a<i.length;++a){var o=i.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?s+=i.charAt(a):o<128?s+=r[o]:o<2048?s+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?s+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&i.charCodeAt(a)),s+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return s},isBuffer:function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(Array.isArray(e))e.push(n);else{if("object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!=typeof e)return[e].concat(n);var a=e;return Array.isArray(e)&&!Array.isArray(n)&&(a=s(e,r)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(n,s){i.call(e,s)?e[s]&&"object"==typeof e[s]?e[s]=t(e[s],n,r):e.push(n):e[s]=n}),e):Object.keys(n).reduce(function(e,s){var a=n[s];return i.call(e,s)?e[s]=t(e[s],a,r):e[s]=a,e},a)}}},uAPd:function(t,e,n){var i=n("FOxZ"),r=n("2usS");t.exports=function(t){return function(e,n){var s,a,o=String(r(e)),u=i(n),l=o.length;return u<0||u>=l?t?"":void 0:(s=o.charCodeAt(u))<55296||s>56319||u+1===l||(a=o.charCodeAt(u+1))<56320||a>57343?t?o.charAt(u):s:t?o.slice(u,u+2):a-56320+(s-55296<<10)+65536}}},uBjM:function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,s=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{s=s+(r=r+e[i++]|0)|0}while(--a);r%=65521,s%=65521}return r|s<<16|0}},uUG0:function(t,e,n){"use strict";var i=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,s;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,s)}},this.dispose=function(){t={}}}};i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},t.exports=i},uaOX:function(t,e,n){"use strict";var i=n("kxdO"),r=4,s=0,a=1,o=2;function u(t){for(var e=t.length;--e>=0;)t[e]=0}var l=0,c=1,h=2,d=29,f=256,p=f+1+d,g=30,m=19,v=2*p+1,y=15,b=16,_=7,T=256,S=16,w=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(p+2));u(O);var P=new Array(2*g);u(P);var D=new Array(512);u(D);var I=new Array(256);u(I);var R=new Array(d);u(R);var L,F,B,M=new Array(g);function N(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function j(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?D[t]:D[256+(t>>>7)]}function H(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function V(t,e,n){t.bi_valid>b-n?(t.bi_buf|=e<<t.bi_valid&65535,H(t,t.bi_buf),t.bi_buf=e>>b-t.bi_valid,t.bi_valid+=n-b):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function q(t,e,n){V(t,n[2*e],n[2*e+1])}function z(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function W(t,e,n){var i,r,s=new Array(y+1),a=0;for(i=1;i<=y;i++)s[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var o=t[2*r+1];0!==o&&(t[2*r]=z(s[o]++,o))}}function $(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*T]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function K(t){t.bi_valid>8?H(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,n,i){var r=2*e,s=2*n;return t[r]<t[s]||t[r]===t[s]&&i[e]<=i[n]}function Y(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&G(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!G(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function X(t,e,n){var i,r,s,a,o=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],r=t.pending_buf[t.l_buf+o],o++,0===i?q(t,r,e):(q(t,(s=I[r])+f+1,e),0!==(a=C[s])&&V(t,r-=R[s],a),q(t,s=U(--i),n),0!==(a=k[s])&&V(t,i-=M[s],a))}while(o<t.last_lit);q(t,T,e)}function J(t,e){var n,i,r,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<u;n++)0!==s[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,o&&(t.static_len-=a[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Y(t,s,n);r=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Y(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,s[2*r]=s[2*n]+s[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,s[2*n+1]=s[2*i+1]=r,t.heap[1]=r++,Y(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,s,a,o,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=y;s++)t.bl_count[s]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)(s=u[2*u[2*(i=t.heap[n])+1]+1]+1)>p&&(s=p,g++),u[2*i+1]=s,i>l||(t.bl_count[s]++,a=0,i>=f&&(a=d[i-f]),o=u[2*i],t.opt_len+=o*(s+a),h&&(t.static_len+=o*(c[2*i+1]+a)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)(r=t.heap[--n])>l||(u[2*r+1]!==s&&(t.opt_len+=(s-u[2*r+1])*u[2*r],u[2*r+1]=s),i--)}}(t,e),W(s,l,t.bl_count)}function Z(t,e,n){var i,r,s=-1,a=e[1],o=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++o<u&&r===a||(o<l?t.bl_tree[2*r]+=o:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[2*S]++):o<=10?t.bl_tree[2*w]++:t.bl_tree[2*E]++,o=0,s=r,0===a?(u=138,l=3):r===a?(u=6,l=3):(u=7,l=4))}function Q(t,e,n){var i,r,s=-1,a=e[1],o=0,u=7,l=4;for(0===a&&(u=138,l=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++o<u&&r===a)){if(o<l)do{q(t,r,t.bl_tree)}while(0!=--o);else 0!==r?(r!==s&&(q(t,r,t.bl_tree),o--),q(t,S,t.bl_tree),V(t,o-3,2)):o<=10?(q(t,w,t.bl_tree),V(t,o-3,3)):(q(t,E,t.bl_tree),V(t,o-11,7));o=0,s=r,0===a?(u=138,l=3):r===a?(u=6,l=3):(u=7,l=4)}}u(M);var tt=!1;function et(t,e,n,r){V(t,(l<<1)+(r?1:0),3),function(t,e,n,r){K(t),r&&(H(t,n),H(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,s=new Array(y+1);for(n=0,i=0;i<d-1;i++)for(R[i]=n,t=0;t<1<<C[i];t++)I[n++]=i;for(I[n-1]=i,r=0,i=0;i<16;i++)for(M[i]=r,t=0;t<1<<k[i];t++)D[r++]=i;for(r>>=7;i<g;i++)for(M[i]=r<<7,t=0;t<1<<k[i]-7;t++)D[256+r++]=i;for(e=0;e<=y;e++)s[e]=0;for(t=0;t<=143;)O[2*t+1]=8,t++,s[8]++;for(;t<=255;)O[2*t+1]=9,t++,s[9]++;for(;t<=279;)O[2*t+1]=7,t++,s[7]++;for(;t<=287;)O[2*t+1]=8,t++,s[8]++;for(W(O,p+1,s),t=0;t<g;t++)P[2*t+1]=5,P[2*t]=z(t,5);L=new N(O,C,f+1,p,y),F=new N(P,k,0,g,y),B=new N(new Array(0),x,0,m,_)}(),tt=!0),t.l_desc=new j(t.dyn_ltree,L),t.d_desc=new j(t.dyn_dtree,F),t.bl_desc=new j(t.bl_tree,B),t.bi_buf=0,t.bi_valid=0,$(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var u,l,d=0;t.level>0?(t.strm.data_type===o&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return s;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return a;return s}(t)),J(t,t.l_desc),J(t,t.d_desc),d=function(t){var e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),J(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*A[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),u=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=u&&(u=l)):u=l=n+5,n+4<=u&&-1!==e?et(t,e,n,i):t.strategy===r||l===u?(V(t,(c<<1)+(i?1:0),3),X(t,O,P)):(V(t,(h<<1)+(i?1:0),3),function(t,e,n,i){var r;for(V(t,e-257,5),V(t,n-1,5),V(t,i-4,4),r=0;r<i;r++)V(t,t.bl_tree[2*A[r]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,d+1),X(t,t.dyn_ltree,t.dyn_dtree)),$(t),i&&K(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(I[n]+f+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){V(t,c<<1,3),q(t,T,O),function(t){16===t.bi_valid?(H(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},"ur+z":function(t,e,n){"use strict";var i=n("8r5Y");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(i.isURLSearchParams(e))s=e.toString();else{var a=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),s=a.join("&")}return s&&(t+=(-1===t.indexOf("?")?"?":"&")+s),t}},uwdR:function(t,e,n){t.exports={generator:n("HzLs"),probe:n("0P9+"),Transmuxer:n("W2zq").Transmuxer,AudioSegmentStream:n("W2zq").AudioSegmentStream,VideoSegmentStream:n("W2zq").VideoSegmentStream,CaptionParser:n("/T6q")}},"v/d8":function(t,e,n){var i=n("273z");i(i.S+i.F,"Object",{assign:n("M9qU")})},v4lI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=u(n("McJY")),a=u(n("ANsJ")),o=u(n("NqPD"));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.lineStream=new a.default,t.parseStream=new o.default,t.lineStream.pipe(t.parseStream);var n=t,r=[],s={},u=void 0,l=void 0,c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(t){var e=void 0,a=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(s.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(s.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(l.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):l=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,h=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){u={},t.uri&&(u.uri=t.uri),t.byterange&&(u.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes?(s.attributes||(s.attributes={}),i(s.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(a={default:/yes/i.test(t.attributes.DEFAULT)}).default?a.autoselect=!0:a.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(a.language=t.attributes.LANGUAGE),t.attributes.URI&&(a.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(a.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(a.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(a.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=a}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data}})[t.tagType]||function(){}).call(n)},uri:function(){s.uri=t.uri,r.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=h,u&&(s.map=u),s={}},comment:function(){}})[t.type].call(n)}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s["default"]),r(e,[{key:"push",value:function(t){this.lineStream.push(t)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),e}();e.default=l},vD1g:function(t,e,n){var i=n("FGgV")("keys"),r=n("aShn");t.exports=function(t){return i[t]||(i[t]=r(t))}},vTvk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,s=e,a=n;i=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,n=a,i=!0,o=l=void 0}};function s(t){return t&&t.__esModule?t:{default:t}}var a=s(n("kCXS")),o=n("1kYk"),u=n("pmpl"),l=s(n("1n34")),c=[{name:"VOD",run:function(t,e,n,i,r){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){return t.datetimeToDisplayTime&&e.dateTimeObject?{time:e.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(t,e,n,i,r){var s=e.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!a||null===o||o>=c)&&(o=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,o=0;o<e.discontinuityStarts.length;o++){var u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==a&&a<h)break;(!s||null===a||a>=h)&&(a=h,s={time:c.time,segmentIndex:u})}}return s}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}];e.syncPointStrategies=c;var h=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,t.debug&&(this.logger_=l.default.log.bind(l.default,"sync-controller ->"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l["default"].EventTarget),i(e,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+(0,u.sumDurations)(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],s=0;s<c.length;s++){var a=c[s],o=a.run(this,t,e,n,i);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}),this.logger_("syncPoint found via <"+a.name+">:",o))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var a=Math.abs(t[s].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist sync:",e.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.dateTimeObject){var e=t.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return(i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=a.default.timescale(e.map.bytes),i=a.default.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=(0,o.inspect)(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)this.logger_("tsO:",t.timestampOffset),i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],s=e.discontinuitySequence+i+1,a=r-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var l=void 0;l=a<0?n.start-(0,u.sumDurations)(e,t.mediaIndex,r):n.end+(0,u.sumDurations)(e,t.mediaIndex+1,r),this.discontinuities[s]={time:l,accuracy:o}}}}},{key:"logger_",value:function(){}}]),e}();e.default=h},wJKP:function(t,e){var n=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function i(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function s(){this.values=n(null)}function a(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(n);if(2===a.length)e(a[0],a[1])}}function o(t,e,n){var o=t;function u(){var e=r(t);if(null===e)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=u(),l(),"--\x3e"!==t.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),l(),e.endTime=u(),l(),function(t,e){var i=new s;a(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===s.length&&i.alt("lineAlign",s[1],["start","middle","end"]);break;case"position":s=e.split(","),i.percent(t,s[0]),2===s.length&&i.alt("positionAlign",s[1],["start","middle","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical",""),e.line=i.get("line","auto"),e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align","middle"),e.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}i.prototype=n(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function d(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t){return u[t]}function s(t){for(;y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(y[0],i);return t}function a(t,e){return!h[e.localName]||h[e.localName]===t.localName}function o(e,n){var i=l[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var s=c[e];return s&&n&&(r[s]=n.trim()),r}for(var d,f=t.document.createElement("div"),p=f,g=[];null!==(d=n());)if("<"!==d[0])p.appendChild(t.document.createTextNode(s(d)));else{if("/"===d[1]){g.length&&g[g.length-1]===d.substr(2).replace(">","")&&(g.pop(),p=p.parentNode);continue}var m,v=r(d.substr(1,d.length-2));if(v){m=t.document.createProcessingInstruction("timestamp",v),p.appendChild(m);continue}var y=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=o(y[1],y[3])))continue;if(!a(p,m))continue;y[2]&&(m.className=y[2].substr(1).replace("."," ")),g.push(y[1]),p.appendChild(m),p=m}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(t){for(var e=0;e<f.length;e++){var n=f[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function g(){}function m(t,e,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",s="rgb(0, 0, 0)"),g.call(this),this.cue=e,this.cueDiv=d(t,e.text);var a={color:r,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=t.document.createElement("div"),a={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(a.direction=function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var s=n.match(/^.*(\n|\r)/);return s?(t.length=0,s[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var s=0;s<n.length;s++)if(p(n.charCodeAt(s)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"middle":o=e.position-e.size/2;break;case"end":o=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function v(t){var e,n,i,r,s=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}function y(t,e,n,i){var r=new v(e),s=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(s),o=[];if(s.snapToLines){var u;switch(s.vertical){case"":o=["+y","-y"],u="height";break;case"rl":o=["+x","-x"],u="width";break;case"lr":o=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),h=n[u]+l,d=o[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),a<0&&(c+=""===s.vertical?n.height:n.width,o=o.reverse()),r.move(d,c)}else{var f=r.lineHeight/n.height*100;switch(s.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],r=new v(e)}var p=function(t,e){for(var r,s=new v(t),a=1,o=0;o<e.length;o++){for(;t.overlapsOppositeAxis(n,e[o])||t.within(n)&&t.overlapsAny(i);)t.move(e[o]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new v(t),a=u),t=new v(s)}return r||s}(r,o);e.move(p.toCSSCompatValues(n))}function b(){}g.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},g.prototype.formatStyle=function(t,e){return 0===t?0:t+e},m.prototype=n(g.prototype),m.prototype.constructor=m,v.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},v.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},v.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},v.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},v.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},v.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},v.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},v.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},b.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},b.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};b.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],s=v.getSimpleBoxPosition(i),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var n,o,u=0;u<e.length;u++)o=e[u],n=new m(t,o,a),i.appendChild(n.div),y(0,n,s,r),o.displayState=n.div,r.push(v.getSimpleBoxPosition(n))}()}else for(var o=0;o<e.length;o++)i.appendChild(e[o].displayState)},b.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof i))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function u(t){t.match(/X-TIMESTAMP-MAP/)?a(t,function(t,n){switch(t){case"X-TIMESTAMP-MAP":i=n,o=new s,a(i,function(t,e){switch(t){case"MPEGT":o.integer(t+"S",e);break;case"LOCA":o.set(t+"L",r(e))}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:o.get("MPEGTS"),LOCAL:o.get("LOCAL")})}var i,o},/=/):a(t,function(t,n){switch(t){case"Region":!function(t){var n=new s;if(a(t,function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new s;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}},/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var l;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var c=(l=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new i(i.Errors.BadSignature);e.state="HEADER"}for(var h=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(h?h=!1:l=n(),e.state){case"HEADER":/:/.test(l)?u(l):l||(e.state="ID");continue;case"NOTE":l||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){e.state="NOTE";break}if(!l)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===l.indexOf("--\x3e")){e.cue.id=l;continue}case"CUE":try{o(l,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=-1!==l.indexOf("--\x3e");if(!l||d&&(h=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=l;continue;case"BADCUE":l||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new i(i.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=b},wSez:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=202)}([function(t,e){t.exports=function(t,e,n,i,r){var s,a=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(s=t,a=t.default);var u,l="function"==typeof a?a.options:a;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),i&&(l._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):n&&(u=n),u){var c=l.functional,h=c?l.render:l.beforeCreate;c?l.render=function(t,e){return u.call(e),h(t,e)}:l.beforeCreate=h?[].concat(h,u):[u]}return{esModule:s,exports:a,options:l}}},function(t,e){t.exports=n("UhE3")},function(t,e,n){"use strict";var i=n(132),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(1),r=n.n(i);n.d(e,"c",function(){return l}),e.a=function(t,e){if(!t)return;for(var n=t.className,i=(e||"").split(" "),r=0,s=i.length;r<s;r++){var a=i[r];a&&(t.classList?t.classList.add(a):c(t,a)||(n+=" "+a))}t.classList||(t.className=n)},e.b=function(t,e){if(!t||!e)return;for(var n=e.split(" "),i=" "+t.className+" ",r=0,s=n.length;r<s;r++){var o=n[r];o&&(t.classList?t.classList.remove(o):c(t,o)&&(i=i.replace(" "+o+" "," ")))}t.classList||(t.className=a(i))};var s=r.a.prototype.$isServer,a=(s||Number(document.documentMode),function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),o=!s&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},u=!s&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)},l=function(t,e,n){var i=function(){n&&n.apply(this,arguments),u(t,e,i)};o(t,e,i)};function c(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}},function(t,e){},function(t,e,n){var i=n(0)(n(39),null,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";var i,r=n(1),s=n.n(r),a=n(11),o=n(90),u=1,l=[],c=function(t){return 3===t.nodeType&&(t=t.nextElementSibling||t.nextSibling,c(t)),t};e.a={props:{value:{type:Boolean,default:!1},transition:{type:String,default:""},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},created:function(){this.transition&&function(t){if(-1===l.indexOf(t)){var e=function(t){var e=t.__vue__;if(!e){var n=t.previousSibling;n.__vue__&&(e=n.__vue__)}return e};s.a.transition(t,{afterEnter:function(t){var n=e(t);n&&n.doAfterOpen&&n.doAfterOpen()},afterLeave:function(t){var n=e(t);n&&n.doAfterClose&&n.doAfterClose()}})}}(this.transition)},beforeMount:function(){this._popupId="popup-"+u++,o.a.register(this._popupId,this)},beforeDestroy:function(){o.a.deregister(this._popupId),o.a.closeModal(this._popupId),this.modal&&null!==this.bodyOverflow&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.paddingRight=this.bodyPaddingRight),this.bodyOverflow=null,this.bodyPaddingRight=null},data:function(){return{opened:!1,bodyOverflow:null,bodyPaddingRight:null,rendered:!1}},watch:{value:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,s.a.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0,this.$emit("input",!0));var i=n.i(a.a)({},this,t,this.$props);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(i.openDelay);r>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(i)},r):this.doOpen(i)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0,this.visible=!0,this.$emit("input",!0);var e=c(this.$el),n=t.modal,r=t.zIndex;if(r&&(o.a.zIndex=r),n&&(this._closing&&(o.a.closeModal(this._popupId),this._closing=!1),o.a.openModal(this._popupId,o.a.nextZIndex(),e,t.modalClass,t.modalFade),t.lockScroll)){this.bodyOverflow||(this.bodyPaddingRight=document.body.style.paddingRight,this.bodyOverflow=document.body.style.overflow),i=function(){if(!s.a.prototype.$isServer){if(void 0!==i)return i;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),e-r}}();var a=document.documentElement.clientHeight<document.body.scrollHeight;i>0&&a&&(document.body.style.paddingRight=i+"px"),document.body.style.overflow="hidden"}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=o.a.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.transition||this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){var t=this;this.visible=!1,this.$emit("input",!1),this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},doAfterClose:function(){o.a.closeModal(this._popupId),this._closing=!1}}}},function(t,e,n){"use strict";var i=n(145),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(146),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(151),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";e.a={bind:function(t,e,n){var i=function(e){n.context&&!t.contains(e.target)&&n.context[t["@@clickoutsideContext"].methodName]()};t["@@clickoutsideContext"]={documentHandler:i,methodName:e.expression,arg:e.arg||"click"},document.addEventListener(t["@@clickoutsideContext"].arg,i)},update:function(t,e){t["@@clickoutsideContext"].methodName=e.expression},unbind:function(t){document.removeEventListener(t["@@clickoutsideContext"].arg,t["@@clickoutsideContext"].documentHandler)},install:function(t){t.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},function(t,e,n){"use strict";e.a=function(t){for(var e=arguments,n=1,i=arguments.length;n<i;n++){var r=e[n]||{};for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];void 0!==a&&(t[s]=a)}}return t}},function(t,e){},function(t,e,n){var i=n(0)(n(41),n(175),function(t){n(104)},null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(59),r=n(54),s=n(2),a=n(55),o=n(58),u=n(53),l=n(82),c=n(9),h=n(85),d=n(83),f=n(84),p=n(71),g=n(86),m=n(79),v=n(56),y=n(76),b=n(68),_=n(52),T=n(8),S=n(81),w=n(80),E=n(77),C=n(7),k=n(75),x=n(87),A=n(62),O=n(69),P=n(63),D=n(66),I=n(57),R=n(60),L=n(61),F=n(72),B=n(91),M=(n.n(B),n(11)),N=function(t,e){void 0===e&&(e={}),N.installed||(t.component(i.a.name,i.a),t.component(r.a.name,r.a),t.component(s.a.name,s.a),t.component(a.a.name,a.a),t.component(o.a.name,o.a),t.component(u.a.name,u.a),t.component(l.a.name,l.a),t.component(c.a.name,c.a),t.component(h.a.name,h.a),t.component(d.a.name,d.a),t.component(f.a.name,f.a),t.component(p.a.name,p.a),t.component(g.a.name,g.a),t.component(m.a.name,m.a),t.component(v.a.name,v.a),t.component(y.a.name,y.a),t.component(b.a.name,b.a),t.component(_.a.name,_.a),t.component(T.a.name,T.a),t.component(S.a.name,S.a),t.component(w.a.name,w.a),t.component(E.a.name,E.a),t.component(C.a.name,C.a),t.component(k.a.name,k.a),t.component(I.a.name,I.a),t.component(R.a.name,R.a),t.component(L.a.name,L.a),t.component(F.a.name,F.a),t.use(P.a),t.use(D.a,n.i(M.a)({loading:n(127),attempt:3},e.lazyload)),t.$messagebox=t.prototype.$messagebox=O.a,t.$toast=t.prototype.$toast=x.a,t.$indicator=t.prototype.$indicator=A.a)};"undefined"!=typeof window&&window.Vue&&N(window.Vue),t.exports={install:N,version:"2.2.13",Header:i.a,Button:r.a,Cell:s.a,CellSwipe:a.a,Field:o.a,Badge:u.a,Switch:l.a,Spinner:c.a,TabItem:h.a,TabContainerItem:d.a,TabContainer:f.a,Navbar:p.a,Tabbar:g.a,Search:m.a,Checklist:v.a,Radio:y.a,Loadmore:b.a,Actionsheet:_.a,Popup:T.a,Swipe:S.a,SwipeItem:w.a,Range:E.a,Picker:C.a,Progress:k.a,Toast:x.a,Indicator:A.a,MessageBox:O.a,InfiniteScroll:P.a,Lazyload:D.a,DatetimePicker:I.a,IndexList:R.a,IndexSection:L.a,PaletteButton:F.a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(12);n.n(r);e.default={name:"mt-actionsheet",mixins:[i.a],props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0},cancelText:{type:String,default:"取消"},actions:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:!1}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},methods:{itemClick:function(t,e){t.method&&"function"==typeof t.method&&t.method(t,e),this.currentValue=!1}},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-badge",props:{color:String,type:{type:String,default:"primary"},size:{type:String,default:"normal"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-button",methods:{handleClick:function(t){this.$emit("click",t)}},props:{icon:String,disabled:Boolean,nativeType:String,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","danger","primary"].indexOf(t)>-1}},size:{type:String,default:"normal",validator:function(t){return["small","normal","large"].indexOf(t)>-1}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(2),s=n(10);e.default={name:"mt-cell-swipe",components:{XCell:r.a},directives:{Clickoutside:s.a},props:{to:String,left:Array,right:Array,icon:String,title:String,label:String,isLink:Boolean,value:{}},data:function(){return{start:{x:0,y:0}}},mounted:function(){this.wrap=this.$refs.cell.$el.querySelector(".mint-cell-wrapper"),this.leftElm=this.$refs.left,this.rightElm=this.$refs.right,this.leftWrapElm=this.leftElm.parentNode,this.rightWrapElm=this.rightElm.parentNode,this.leftWidth=this.leftElm.getBoundingClientRect().width,this.rightWidth=this.rightElm.getBoundingClientRect().width,this.leftDefaultTransform=this.translate3d(-this.leftWidth-1),this.rightDefaultTransform=this.translate3d(this.rightWidth),this.rightWrapElm.style.webkitTransform=this.rightDefaultTransform,this.leftWrapElm.style.webkitTransform=this.leftDefaultTransform},methods:{resetSwipeStatus:function(){this.swiping=!1,this.opened=!0,this.offsetLeft=0},translate3d:function(t){return"translate3d("+t+"px, 0, 0)"},setAnimations:function(t){this.wrap.style.transitionDuration=t,this.rightWrapElm.style.transitionDuration=t,this.leftWrapElm.style.transitionDuration=t},swipeMove:function(t){void 0===t&&(t=0),this.wrap.style.webkitTransform=this.translate3d(t),this.rightWrapElm.style.webkitTransform=this.translate3d(this.rightWidth+t),this.leftWrapElm.style.webkitTransform=this.translate3d(-this.leftWidth+t),t&&(this.swiping=!0)},swipeLeaveTransition:function(t){var e=this;setTimeout(function(){return e.swipeLeave=!0,t>0&&-e.offsetLeft>.4*e.rightWidth?(e.swipeMove(-e.rightWidth),void e.resetSwipeStatus()):t<0&&e.offsetLeft>.4*e.leftWidth?(e.swipeMove(e.leftWidth),void e.resetSwipeStatus()):(e.swipeMove(0),void n.i(i.c)(e.wrap,"webkitTransitionEnd",function(t){e.wrap.style.webkitTransform="",e.rightWrapElm.style.webkitTransform=e.rightDefaultTransform,e.leftWrapElm.style.webkitTransform=e.leftDefaultTransform,e.swipeLeave=!1,e.swiping=!1}))},0)},startDrag:function(t){t=t.changedTouches?t.changedTouches[0]:t,this.dragging=!0,this.start.x=t.pageX,this.start.y=t.pageY,this.direction=""},onDrag:function(t){if(this.opened)return this.swiping||(this.swipeMove(0),this.setAnimations("")),void(this.opened=!1);if(this.dragging){var e=t.changedTouches?t.changedTouches[0]:t,n=e.pageY-this.start.y,i=this.offsetLeft=e.pageX-this.start.x,r=Math.abs(n),s=Math.abs(i);if(this.setAnimations("0ms"),""===this.direction&&(this.direction=s>r?"horizonal":"vertical"),"horizonal"===this.direction){if(t.preventDefault(),t.stopPropagation(),!!(s<5||s>=5&&r>=1.73*s))return;i<0&&-i>this.rightWidth||i>0&&i>this.leftWidth||i>0&&!this.leftWidth||i<0&&!this.rightWidth||this.swipeMove(i)}}},endDrag:function(){this.direction="",this.setAnimations(""),this.swiping&&this.swipeLeaveTransition(this.offsetLeft>0?-1:1)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-cell",props:{to:[String,Object],icon:String,title:String,label:String,isLink:Boolean,value:{}},computed:{href:function(){var t=this;if(this.to&&!this.added&&this.$router){var e=this.$router.match(this.to);return e.matched.length?(this.$nextTick(function(){t.added=!0,t.$el.addEventListener("click",t.handleClick)}),e.fullPath||e.path):this.to}return this.to}},methods:{handleClick:function(t){t.preventDefault(),this.$router.push(this.href)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.default={name:"mt-checklist",props:{max:Number,title:String,align:String,options:{type:Array,required:!0},value:Array},components:{XCell:i.a},data:function(){return{currentValue:this.value}},computed:{limit:function(){return this.max<this.currentValue.length}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.limit&&t.pop(),this.$emit("input",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(8);var s={Y:"year",M:"month",D:"date",H:"hour",m:"minute"};e.default={name:"mt-datetime-picker",props:{cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},type:{type:String,default:"datetime"},startDate:{type:Date,default:function(){return new Date((new Date).getFullYear()-10,0,1)}},endDate:{type:Date,default:function(){return new Date((new Date).getFullYear()+10,11,31)}},startHour:{type:Number,default:0},endHour:{type:Number,default:23},yearFormat:{type:String,default:"{value}"},monthFormat:{type:String,default:"{value}"},dateFormat:{type:String,default:"{value}"},hourFormat:{type:String,default:"{value}"},minuteFormat:{type:String,default:"{value}"},visibleItemCount:{type:Number,default:7},closeOnClickModal:{type:Boolean,default:!0},value:null},data:function(){return{visible:!1,startYear:null,endYear:null,startMonth:1,endMonth:12,startDay:1,endDay:31,currentValue:null,selfTriggered:!1,dateSlots:[],shortMonthDates:[],longMonthDates:[],febDates:[],leapFebDates:[]}},components:{"mt-picker":i.a,"mt-popup":r.a},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},isLeapYear:function(t){return t%400==0||t%100!=0&&t%4==0},isShortMonth:function(t){return[4,6,9,11].indexOf(t)>-1},getMonthEndDay:function(t,e){return this.isShortMonth(e)?30:2===e?this.isLeapYear(t)?29:28:31},getTrueValue:function(t){if(t){for(;isNaN(parseInt(t,10));)t=t.slice(1);return parseInt(t,10)}},getValue:function(t){var e,n=this;if("time"===this.type)e=t.map(function(t){return("0"+n.getTrueValue(t)).slice(-2)}).join(":");else{var i=this.getTrueValue(t[0]),r=this.getTrueValue(t[1]),s=this.getTrueValue(t[2]);s>this.getMonthEndDay(i,r)&&(this.selfTriggered=!0,s=1);var a=this.typeStr.indexOf("H")>-1?this.getTrueValue(t[this.typeStr.indexOf("H")]):0,o=this.typeStr.indexOf("m")>-1?this.getTrueValue(t[this.typeStr.indexOf("m")]):0;e=new Date(i,r-1,s,a,o)}return e},onChange:function(t){var e=t.$children.filter(function(t){return void 0!==t.currentValue}).map(function(t){return t.currentValue});this.selfTriggered?this.selfTriggered=!1:0!==e.length&&(this.currentValue=this.getValue(e),this.handleValueChange())},fillValues:function(t,e,n){for(var i=[],r=e;r<=n;r++)r<10?i.push(this[s[t]+"Format"].replace("{value}",("0"+r).slice(-2))):i.push(this[s[t]+"Format"].replace("{value}",r));return i},pushSlots:function(t,e,n,i){t.push({flex:1,values:this.fillValues(e,n,i)})},generateSlots:function(){var t=this,e=[],n={Y:this.rims.year,M:this.rims.month,D:this.rims.date,H:this.rims.hour,m:this.rims.min};this.typeStr.split("").forEach(function(i){n[i]&&t.pushSlots.apply(null,[e,i].concat(n[i]))}),"Hm"===this.typeStr&&e.splice(1,0,{divider:!0,content:":"}),this.dateSlots=e,this.handleExceededValue()},handleExceededValue:function(){var t=this,e=[];if("time"===this.type){var n=this.currentValue.split(":");e=[this.hourFormat.replace("{value}",n[0]),this.minuteFormat.replace("{value}",n[1])]}else e=[this.yearFormat.replace("{value}",this.getYear(this.currentValue)),this.monthFormat.replace("{value}",("0"+this.getMonth(this.currentValue)).slice(-2)),this.dateFormat.replace("{value}",("0"+this.getDate(this.currentValue)).slice(-2))],"datetime"===this.type&&e.push(this.hourFormat.replace("{value}",("0"+this.getHour(this.currentValue)).slice(-2)),this.minuteFormat.replace("{value}",("0"+this.getMinute(this.currentValue)).slice(-2)));this.dateSlots.filter(function(t){return void 0!==t.values}).map(function(t){return t.values}).forEach(function(t,n){-1===t.indexOf(e[n])&&(e[n]=t[0])}),this.$nextTick(function(){t.setSlotsByValues(e)})},setSlotsByValues:function(t){var e=this.$refs.picker.setSlotValue;"time"===this.type&&(e(0,t[0]),e(1,t[1])),"time"!==this.type&&(e(0,t[0]),e(1,t[1]),e(2,t[2]),"datetime"===this.type&&(e(3,t[3]),e(4,t[4]))),[].forEach.call(this.$refs.picker.$children,function(t){return t.doOnValueChange()})},rimDetect:function(t,e){var n="start"===e?0:1,i="start"===e?this.startDate:this.endDate;this.getYear(this.currentValue)===i.getFullYear()&&(t.month[n]=i.getMonth()+1,this.getMonth(this.currentValue)===i.getMonth()+1&&(t.date[n]=i.getDate(),this.getDate(this.currentValue)===i.getDate()&&(t.hour[n]=i.getHours(),this.getHour(this.currentValue)===i.getHours()&&(t.min[n]=i.getMinutes()))))},isDateString:function(t){return/\d{4}(\-|\/|.)\d{1,2}\1\d{1,2}/.test(t)},getYear:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[0]:t.getFullYear()},getMonth:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[1]:t.getMonth()+1},getDate:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[2]:t.getDate()},getHour:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[0]:t.getHours()},getMinute:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[1]:t.getMinutes()},confirm:function(){this.visible=!1,this.$emit("confirm",this.currentValue)},handleValueChange:function(){this.$emit("input",this.currentValue)}},computed:{rims:function(){return this.currentValue?"time"===this.type?t={hour:[this.startHour,this.endHour],min:[0,59]}:(t={year:[this.startDate.getFullYear(),this.endDate.getFullYear()],month:[1,12],date:[1,this.getMonthEndDay(this.getYear(this.currentValue),this.getMonth(this.currentValue))],hour:[0,23],min:[0,59]},this.rimDetect(t,"start"),this.rimDetect(t,"end"),t):{year:[],month:[],date:[],hour:[],min:[]};var t},typeStr:function(){return"time"===this.type?"Hm":"date"===this.type?"YMD":"YMDHm"}},watch:{value:function(t){this.currentValue=t},rims:function(){this.generateSlots()},visible:function(t){this.$emit("visible-change",t)}},mounted:function(){this.currentValue=this.value,this.value||(this.type.indexOf("date")>-1?this.currentValue=this.startDate:this.currentValue=("0"+this.startHour).slice(-2)+":00"),this.generateSlots()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(10);e.default={name:"mt-field",data:function(){return{active:!1,currentValue:this.value}},directives:{Clickoutside:r.a},props:{type:{type:String,default:"text"},rows:String,label:String,placeholder:String,readonly:Boolean,disabled:Boolean,disableClear:Boolean,state:{type:String,default:"default"},value:{},attr:Object},components:{XCell:i.a},methods:{doCloseActive:function(){this.active=!1},handleInput:function(t){this.currentValue=t.target.value},handleClear:function(){this.disabled||this.readonly||(this.currentValue="")}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)},attr:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(){[e.$refs.input,e.$refs.textarea].forEach(function(e){e&&t&&Object.keys(t).map(function(n){return e.setAttribute(n,t[n])})})})}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-header",props:{fixed:Boolean,title:String}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-index-list",props:{height:Number,showIndicator:{type:Boolean,default:!0}},data:function(){return{sections:[],navWidth:0,indicatorTime:null,moving:!1,firstSection:null,currentIndicator:"",currentHeight:this.height,navOffsetX:0}},watch:{sections:function(){this.init()},height:function(t){t&&(this.currentHeight=t)}},methods:{init:function(){var t=this;this.$nextTick(function(){t.navWidth=t.$refs.nav.clientWidth});var e=this.$refs.content.getElementsByTagName("li");e.length>0&&(this.firstSection=e[0])},handleTouchStart:function(t){"LI"===t.target.tagName&&(this.navOffsetX=t.changedTouches[0].clientX,this.scrollList(t.changedTouches[0].clientY),this.indicatorTime&&clearTimeout(this.indicatorTime),this.moving=!0,window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd))},handleTouchMove:function(t){t.preventDefault(),this.scrollList(t.changedTouches[0].clientY)},handleTouchEnd:function(){var t=this;this.indicatorTime=setTimeout(function(){t.moving=!1,t.currentIndicator=""},500),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)},scrollList:function(t){var e=document.elementFromPoint(this.navOffsetX,t);if(e&&e.classList.contains("mint-indexlist-navitem")){this.currentIndicator=e.innerText;var n,i=this.sections.filter(function(t){return t.index===e.innerText});i.length>0&&(n=i[0].$el,this.$refs.content.scrollTop=n.getBoundingClientRect().top-this.firstSection.getBoundingClientRect().top)}}},mounted:function(){var t=this;this.currentHeight||(window.scrollTo(0,0),requestAnimationFrame(function(){t.currentHeight=document.documentElement.clientHeight-t.$refs.content.getBoundingClientRect().top})),this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-index-section",props:{index:{type:String,required:!0}},mounted:function(){this.$parent.sections.push(this)},beforeDestroy:function(){var t=this.$parent.sections.indexOf(this);t>-1&&this.$parent.sections.splice(t,1)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9);e.default={data:function(){return{visible:!1}},components:{Spinner:i.a},computed:{convertedSpinnerType:function(){switch(this.spinnerType){case"double-bounce":return 1;case"triple-bounce":return 2;case"fading-circle":return 3;default:return 0}}},props:{text:String,spinnerType:{type:String,default:"snake"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n.n(i);e.default={name:"mt-loadmore",components:{spinner:r.a},props:{maxDistance:{type:Number,default:0},autoFill:{type:Boolean,default:!0},distanceIndex:{type:Number,default:2},topPullText:{type:String,default:"下拉刷新"},topDropText:{type:String,default:"释放更新"},topLoadingText:{type:String,default:"加载中..."},topDistance:{type:Number,default:70},topMethod:{type:Function},bottomPullText:{type:String,default:"上拉刷新"},bottomDropText:{type:String,default:"释放更新"},bottomLoadingText:{type:String,default:"加载中..."},bottomDistance:{type:Number,default:70},bottomMethod:{type:Function},bottomAllLoaded:{type:Boolean,default:!1}},data:function(){return{translate:0,scrollEventTarget:null,containerFilled:!1,topText:"",topDropped:!1,bottomText:"",bottomDropped:!1,bottomReached:!1,direction:"",startY:0,startScrollTop:0,currentY:0,topStatus:"",bottomStatus:""}},computed:{transform:function(){return 0===this.translate?null:"translate3d(0, "+this.translate+"px, 0)"}},watch:{topStatus:function(t){switch(this.$emit("top-status-change",t),t){case"pull":this.topText=this.topPullText;break;case"drop":this.topText=this.topDropText;break;case"loading":this.topText=this.topLoadingText}},bottomStatus:function(t){switch(this.$emit("bottom-status-change",t),t){case"pull":this.bottomText=this.bottomPullText;break;case"drop":this.bottomText=this.bottomDropText;break;case"loading":this.bottomText=this.bottomLoadingText}}},methods:{onTopLoaded:function(){var t=this;this.translate=0,setTimeout(function(){t.topStatus="pull"},200)},onBottomLoaded:function(){var t=this;this.bottomStatus="pull",this.bottomDropped=!1,this.$nextTick(function(){t.scrollEventTarget===window?document.body.scrollTop+=50:t.scrollEventTarget.scrollTop+=50,t.translate=0}),this.bottomAllLoaded||this.containerFilled||this.fillContainer()},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var n=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window},getScrollTop:function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},init:function(){this.topStatus="pull",this.bottomStatus="pull",this.topText=this.topPullText,this.scrollEventTarget=this.getScrollEventTarget(this.$el),"function"==typeof this.bottomMethod&&(this.fillContainer(),this.bindTouchEvents()),"function"==typeof this.topMethod&&this.bindTouchEvents()},fillContainer:function(){var t=this;this.autoFill&&this.$nextTick(function(){t.scrollEventTarget===window?t.containerFilled=t.$el.getBoundingClientRect().bottom>=document.documentElement.getBoundingClientRect().bottom:t.containerFilled=t.$el.getBoundingClientRect().bottom>=t.scrollEventTarget.getBoundingClientRect().bottom,t.containerFilled||(t.bottomStatus="loading",t.bottomMethod())})},checkBottomReached:function(){return this.scrollEventTarget===window?document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight:this.$el.getBoundingClientRect().bottom<=this.scrollEventTarget.getBoundingClientRect().bottom+1},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startScrollTop=this.getScrollTop(this.scrollEventTarget),this.bottomReached=!1,"loading"!==this.topStatus&&(this.topStatus="pull",this.topDropped=!1),"loading"!==this.bottomStatus&&(this.bottomStatus="pull",this.bottomDropped=!1)},handleTouchMove:function(t){if(!(this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/this.distanceIndex;this.direction=e>0?"down":"up","function"==typeof this.topMethod&&"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&"loading"!==this.topStatus&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=e<=this.maxDistance?e-this.startScrollTop:this.translate:this.translate=e-this.startScrollTop,this.translate<0&&(this.translate=0),this.topStatus=this.translate>=this.topDistance?"drop":"pull"),"up"===this.direction&&(this.bottomReached=this.bottomReached||this.checkBottomReached()),"function"==typeof this.bottomMethod&&"up"===this.direction&&this.bottomReached&&"loading"!==this.bottomStatus&&!this.bottomAllLoaded&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=Math.abs(e)<=this.maxDistance?this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e:this.translate:this.translate=this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e,this.translate>0&&(this.translate=0),this.bottomStatus=-this.translate>=this.bottomDistance?"drop":"pull"),this.$emit("translate-change",this.translate)}},handleTouchEnd:function(){"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&this.translate>0&&(this.topDropped=!0,"drop"===this.topStatus?(this.translate="50",this.topStatus="loading",this.topMethod()):(this.translate="0",this.topStatus="pull")),"up"===this.direction&&this.bottomReached&&this.translate<0&&(this.bottomDropped=!0,this.bottomReached=!1,"drop"===this.bottomStatus?(this.translate="-50",this.bottomStatus="loading",this.bottomMethod()):(this.translate="0",this.bottomStatus="pull")),this.$emit("translate-change",this.translate),this.direction=""}},mounted:function(){this.init()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.default={mixins:[i.a],props:{modal:{default:!0},showClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},inputType:{type:String,default:"text"}},computed:{confirmButtonClasses:function(){var t="mint-msgbox-btn mint-msgbox-confirm "+this.confirmButtonClass;return this.confirmButtonHighlight&&(t+=" mint-msgbox-confirm-highlight"),t},cancelButtonClasses:function(){var t="mint-msgbox-btn mint-msgbox-cancel "+this.cancelButtonClass;return this.cancelButtonHighlight&&(t+=" mint-msgbox-cancel-highlight"),t}},methods:{doClose:function(){var t=this;this.value=!1,this._closing=!0,this.onClose&&this.onClose(),setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},handleAction:function(t){if("prompt"!==this.$type||"confirm"!==t||this.validate()){var e=this.callback;this.value=!1,e(t)}},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var n=e(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;if("string"==typeof n)return this.editorErrorMessage=n,!1}}return this.editorErrorMessage="",this.$refs.input.classList.remove("invalid"),!0},handleInputType:function(t){"range"!==t&&this.$refs.input&&(this.$refs.input.type=t)}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},value:function(t){var e=this;this.handleInputType(this.inputType),t&&"prompt"===this.$type&&setTimeout(function(){e.$refs.input&&e.$refs.input.focus()},500)},inputType:function(t){this.handleInputType(t)}},data:function(){return{title:"",message:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-navbar",props:{fixed:Boolean,value:{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-palette-button",data:function(){return{transforming:!1,expanded:!1}},props:{content:{type:String,default:""},offset:{type:Number,default:Math.PI/4},direction:{type:String,default:"lt"},radius:{type:Number,default:90},mainButtonStyle:{type:String,default:""}},methods:{toggle:function(t){this.transforming||(this.expanded?this.collapse(t):this.expand(t))},onMainAnimationEnd:function(t){this.transforming=!1,this.$emit("expanded")},expand:function(t){this.expanded=!0,this.transforming=!0,this.$emit("expand",t)},collapse:function(t){this.expanded=!1,this.$emit("collapse",t)}},mounted:function(){this.slotChildren=[];for(var t=0;t<this.$slots.default.length;t++)3!==this.$slots.default[t].elm.nodeType&&this.slotChildren.push(this.$slots.default[t]);for(var e="",n=Math.PI*(3+Math.max(["lt","t","rt","r","rb","b","lb","l"].indexOf(this.direction),0))/4,i=0;i<this.slotChildren.length;i++){var r=(Math.PI-2*this.offset)/(this.slotChildren.length-1)*i+this.offset+n,s=(Math.cos(r)*this.radius).toFixed(2),a=(Math.sin(r)*this.radius).toFixed(2);e+=".expand .palette-button-"+this._uid+"-sub-"+i+"{transform:translate("+s+"px,"+a+"px) rotate(720deg);transition-delay:"+.03*i+"s}",this.slotChildren[i].elm.className+=" palette-button-"+this._uid+"-sub-"+i}this.styleNode=document.createElement("style"),this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="palette button style",this.styleNode.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(this.styleNode)},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(73),r=n(74),s=n(3),a=n(89),o=n(1);n.n(o).a.prototype.$isServer||n(200);var u={3:-45,5:-20,7:-15};e.default={name:"picker-slot",props:{values:{type:Array,default:function(){return[]}},value:{},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},textAlign:{type:String,default:"center"},flex:{},className:{},content:{},itemHeight:{type:Number,default:36},defaultIndex:{type:Number,default:0,require:!1}},data:function(){return{currentValue:this.value,mutatingValues:this.values,dragging:!1,animationFrameId:null}},mixins:[a.a],computed:{flexStyle:function(){return{flex:this.flex,"-webkit-box-flex":this.flex,"-moz-box-flex":this.flex,"-ms-flex":this.flex}},classNames:function(){var t="picker-slot-",e=[];this.rotateEffect&&e.push(t+"absolute");var n=this.textAlign||"center";return e.push(t+n),this.divider&&e.push(t+"divider"),this.className&&e.push(this.className),e.join(" ")},contentHeight:function(){return this.itemHeight*this.visibleItemCount},valueIndex:function(){var t=this.valueKey;if(this.currentValue instanceof Object){for(var e=0,n=this.mutatingValues.length;e<n;e++)if(this.currentValue[t]===this.mutatingValues[e][t])return e;return-1}return this.mutatingValues.indexOf(this.currentValue)},dragRange:function(){var t=this.mutatingValues,e=this.visibleItemCount,n=this.itemHeight;return[-n*(t.length-Math.ceil(e/2)),n*Math.floor(e/2)]},minTranslateY:function(){return this.itemHeight*(Math.ceil(this.visibleItemCount/2)-this.mutatingValues.length)},maxTranslateY:function(){return this.itemHeight*Math.floor(this.visibleItemCount/2)}},methods:{value2Translate:function(t){var e=this.mutatingValues.indexOf(t),n=Math.floor(this.visibleItemCount/2),i=this.itemHeight;if(-1!==e)return(e-n)*-i},translate2Value:function(t){var e=this.itemHeight,n=-((t=Math.round(t/e)*e)-Math.floor(this.visibleItemCount/2)*e)/e;return this.mutatingValues[n]},updateRotate:function(t,e){var i=this;if(!this.divider){var a=this.dragRange,o=this.$refs.wrapper;e||(e=o.querySelectorAll(".picker-item")),void 0===t&&(t=r.a.getElementTranslate(o).top);var l=Math.ceil(this.visibleItemCount/2),c=u[this.visibleItemCount]||-20;[].forEach.call(e,function(e,o){var u=(o*i.itemHeight-(a[1]-t))/i.itemHeight,h=c*u;h>180&&(h=180),h<-180&&(h=-180),function(t,e){if(t){var n=r.a.transformProperty;t.style[n]=t.style[n].replace(/rotateX\(.+?deg\)/gi,"")+" rotateX("+e+"deg)"}}(e,h),Math.abs(u)>l?n.i(s.a)(e,"picker-item-far"):n.i(s.b)(e,"picker-item-far")})}},planUpdateRotate:function(){var t=this,e=this.$refs.wrapper;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){t.updateRotate()}),n.i(s.c)(e,r.a.transitionEndProperty,function(){cancelAnimationFrame(t.animationFrameId),t.animationFrameId=null})},initEvents:function(){var t,e,s,a=this,o=this.$refs.wrapper,u={};n.i(i.a)(o,{start:function(t){cancelAnimationFrame(a.animationFrameId),a.animationFrameId=null,u={range:a.dragRange,start:new Date,startLeft:t.pageX,startTop:t.pageY,startTranslateTop:r.a.getElementTranslate(o).top},s=o.querySelectorAll(".picker-item")},drag:function(n){a.dragging=!0,u.left=n.pageX,u.top=n.pageY;var i=u.top-u.startTop,l=u.startTranslateTop+i;r.a.translateElement(o,null,l),t=l-e||l,e=l,a.rotateEffect&&a.updateRotate(e,s)},end:function(e){a.dragging=!1;var n,i,s,l=r.a.getElementTranslate(o).top,c=new Date-u.start,h=Math.abs(u.startTranslateTop-l),d=a.itemHeight,f=a.visibleItemCount;h<6&&(n=a.$el.getBoundingClientRect(),(i=Math.floor((e.clientY-(n.top+(f-1)*d/2))/d)*d)>a.maxTranslateY&&(i=a.maxTranslateY),t=0,l-=i),c<300&&(s=l+7*t);var p=u.range;a.$nextTick(function(){var t;t=s?Math.round(s/d)*d:Math.round(l/d)*d,t=Math.max(Math.min(t,p[1]),p[0]),r.a.translateElement(o,null,t),a.currentValue=a.translate2Value(t),a.rotateEffect&&a.planUpdateRotate()}),u={}}})},doOnValueChange:function(){var t=this.currentValue,e=this.$refs.wrapper;r.a.translateElement(e,null,this.value2Translate(t))},doOnValuesChange:function(){var t=this,e=this.$el.querySelectorAll(".picker-item");[].forEach.call(e,function(e,n){r.a.translateElement(e,null,t.itemHeight*n)}),this.rotateEffect&&this.planUpdateRotate()}},mounted:function(){this.ready=!0,this.divider||(this.initEvents(),this.doOnValueChange()),this.rotateEffect&&this.doOnValuesChange()},watch:{values:function(t){this.mutatingValues=t},mutatingValues:function(t){var e=this;-1===this.valueIndex&&(this.currentValue=(t||[])[0]),this.rotateEffect&&this.$nextTick(function(){e.doOnValuesChange()})},currentValue:function(t){this.doOnValueChange(),this.rotateEffect&&this.planUpdateRotate(),this.$emit("input",t),this.dispatch("picker","slotValueChange",this)},defaultIndex:function(t){void 0!==this.mutatingValues[t]&&this.mutatingValues.length>=t+1&&(this.currentValue=this.mutatingValues[t])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-picker",componentName:"picker",props:{slots:{type:Array},showToolbar:{type:Boolean,default:!1},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},itemHeight:{type:Number,default:36}},created:function(){this.$on("slotValueChange",this.slotValueChange),this.slotValueChange()},methods:{slotValueChange:function(){this.$emit("change",this,this.values)},getSlot:function(t){var e,n=this.slots||[],i=0,r=this.$children.filter(function(t){return"picker-slot"===t.$options.name});return n.forEach(function(n,s){n.divider||(t===i&&(e=r[s]),i++)}),e},getSlotValue:function(t){var e=this.getSlot(t);return e?e.currentValue:null},setSlotValue:function(t,e){var n=this.getSlot(t);n&&(n.currentValue=e)},getSlotValues:function(t){var e=this.getSlot(t);return e?e.mutatingValues:null},setSlotValues:function(t,e){var n=this.getSlot(t);n&&(n.mutatingValues=e)},getValues:function(){return this.values},setValues:function(t){var e=this;if(this.slotCount!==(t=t||[]).length)throw new Error("values length is not equal slot count.");t.forEach(function(t,n){e.setSlotValue(n,t)})}},computed:{values:{get:function(){var t=[],e=0;return(this.slots||[]).forEach(function(n){n.divider||(n.valueIndex=e++,t[n.valueIndex]=(n.values||[])[n.defaultIndex||0])}),t}},slotCount:function(){var t=0;return(this.slots||[]).forEach(function(e){e.divider||t++}),t}},components:{PickerSlot:n(144)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(1);n.n(r).a.prototype.$isServer||n(12),e.default={name:"mt-popup",mixins:[i.a],props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0},popupTransition:{type:String,default:"popup-slide"},position:{type:String,default:""}},data:function(){return{currentValue:!1,currentTransition:this.popupTransition}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},beforeMount:function(){"popup-fade"!==this.popupTransition&&(this.currentTransition="popup-slide-"+this.position)},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-progress",props:{value:Number,barHeight:{type:Number,default:3}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.default={name:"mt-radio",props:{title:String,align:String,options:{type:Array,required:!0},value:String},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}},components:{XCell:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(78);e.default={name:"mt-range",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},value:{type:Number},barHeight:{type:Number,default:1}},computed:{progress:function(){var t=this.value;return void 0===t||null===t?0:Math.floor((t-this.min)/(this.max-this.min)*100)}},mounted:function(){var t=this,e=this.$refs.thumb,r=this.$refs.content,s={};n.i(i.a)(e,{start:function(n){if(!t.disabled){var i,a,o=(i=r.getBoundingClientRect(),{left:(a=e.getBoundingClientRect()).left-i.left,top:a.top-i.top,thumbBoxLeft:a.left}),u=n.clientX-o.thumbBoxLeft;s={thumbStartLeft:o.left,thumbStartTop:o.top,thumbClickDetalX:u}}},drag:function(e){if(!t.disabled){var n=r.getBoundingClientRect(),i=e.pageX-n.left-s.thumbStartLeft-s.thumbClickDetalX,a=Math.ceil((t.max-t.min)/t.step),o=(s.thumbStartLeft+i-(s.thumbStartLeft+i)%(n.width/a))/n.width;o<0?o=0:o>1&&(o=1),t.$emit("input",Math.round(t.min+o*(t.max-t.min)))}},end:function(){t.disabled||(t.$emit("change",t.value),s={})}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.default={name:"mt-search",data:function(){return{visible:!1,currentValue:this.value}},components:{XCell:i.a},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},props:{value:String,autofocus:Boolean,show:Boolean,cancelText:{default:"取消"},placeholder:{default:"搜索"},result:Array},mounted:function(){this.autofocus&&this.$refs.input.focus()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["snake","double-bounce","triple-bounce","fading-circle"];e.default={name:"mt-spinner",computed:{spinner:function(){return"spinner-"+(t=this.type,"[object Number]"==={}.toString.call(t)?(i.length<=t&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=0),i[t]):(-1===i.indexOf(t)&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=i[0]),t));var t}},components:{SpinnerSnake:n(153),SpinnerDoubleBounce:n(152),SpinnerTripleBounce:n(154),SpinnerFadingCircle:n(13)},props:{type:{default:0},size:{type:Number,default:28},color:{type:String,default:"#ccc"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{spinnerColor:function(){return this.color||this.$parent.color||"#ccc"},spinnerSize:function(){return(this.size||this.$parent.size||28)+"px"}},props:{size:Number,color:String}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n.n(i);e.default={name:"double-bounce",mixins:[r.a]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n.n(i);e.default={name:"fading-circle",mixins:[r.a],created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var t=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(t))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n.n(i);e.default={name:"snake",mixins:[r.a]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n.n(i);e.default={name:"triple-bounce",mixins:[r.a],computed:{spinnerSize:function(){return(this.size||this.$parent.size||28)/3+"px"},bounceStyle:function(){return{width:this.spinnerSize,height:this.spinnerSize,backgroundColor:this.spinnerColor}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-swipe-item",mounted:function(){this.$parent&&this.$parent.swipeItemCreated(this)},destroyed:function(){this.$parent&&this.$parent.swipeItemDestroyed(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);e.default={name:"mt-swipe",created:function(){this.dragState={}},data:function(){return{ready:!1,dragging:!1,userScrolling:!1,animating:!1,index:0,pages:[],timer:null,reInitTimer:null,noDrag:!1,isDone:!1}},props:{speed:{type:Number,default:300},defaultIndex:{type:Number,default:0},auto:{type:Number,default:3e3},continuous:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},noDragWhenSingle:{type:Boolean,default:!0},prevent:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1}},watch:{index:function(t){this.$emit("change",t)}},methods:{swipeItemCreated:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},swipeItemDestroyed:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},rafTranslate:function(t,e,n,i,r){var s=.88;this.animating=!0;var a=e,o=0;(function e(){if(Math.abs(a-n)<.5)return this.animating=!1,a=n,t.style.webkitTransform="",r&&(r.style.webkitTransform=""),cancelAnimationFrame(o),void(i&&i());a=s*a+(1-s)*n,t.style.webkitTransform="translate3d("+a+"px, 0, 0)",r&&(r.style.webkitTransform="translate3d("+(a-n)+"px, 0, 0)"),o=requestAnimationFrame(e.bind(this))}).call(this)},translate:function(t,e,r,s){var a=arguments,o=this;if(r){this.animating=!0,t.style.webkitTransition="-webkit-transform "+r+"ms ease-in-out",setTimeout(function(){t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},50);var u=!1,l=function(){u||(u=!0,o.animating=!1,t.style.webkitTransition="",t.style.webkitTransform="",s&&s.apply(o,a))};n.i(i.c)(t,"webkitTransitionEnd",l),setTimeout(l,r+100)}else t.style.webkitTransition="",t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},reInitPages:function(){var t=this.$children;this.noDrag=1===t.length&&this.noDragWhenSingle;var e=[],r=Math.floor(this.defaultIndex),s=r>=0&&r<t.length?r:0;this.index=s,t.forEach(function(t,r){e.push(t.$el),n.i(i.b)(t.$el,"is-active"),r===s&&n.i(i.a)(t.$el,"is-active")}),this.pages=e},doAnimate:function(t,e){var r=this;if(0!==this.$children.length&&(e||!(this.$children.length<2))){var s,a,o,u,l,c,h,d=this.speed||300,f=this.index,p=this.pages,g=p.length;e?(s=e.prevPage,o=e.currentPage,a=e.nextPage,u=e.pageWidth,l=e.offsetLeft,c=e.speedX):(u=this.$el.clientWidth,o=p[f],s=p[f-1],a=p[f+1],this.continuous&&p.length>1&&(s||(s=p[p.length-1]),a||(a=p[0])),s&&(s.style.display="block",this.translate(s,-u)),a&&(a.style.display="block",this.translate(a,u)));var m=this.$children[f].$el;"prev"===t?(f>0&&(h=f-1),this.continuous&&0===f&&(h=g-1)):"next"===t&&(f<g-1&&(h=f+1),this.continuous&&f===g-1&&(h=0));var v=function(){if(void 0!==h){var t=r.$children[h].$el;n.i(i.b)(m,"is-active"),n.i(i.a)(t,"is-active"),r.index=h}r.isDone&&r.end(),s&&(s.style.display=""),a&&(a.style.display="")};setTimeout(function(){"next"===t?(r.isDone=!0,r.before(o),c?r.rafTranslate(o,l,-u,v,a):(r.translate(o,-u,d,v),a&&r.translate(a,0,d))):"prev"===t?(r.isDone=!0,r.before(o),c?r.rafTranslate(o,l,u,v,s):(r.translate(o,u,d,v),s&&r.translate(s,0,d))):(r.isDone=!1,r.translate(o,0,d,v),void 0!==l?(s&&l>0&&r.translate(s,-1*u,d),a&&l<0&&r.translate(a,u,d)):(s&&r.translate(s,-1*u,d),a&&r.translate(a,u,d)))},10)}},next:function(){this.doAnimate("next")},prev:function(){this.doAnimate("prev")},before:function(){this.$emit("before",this.index)},end:function(){this.$emit("end",this.index)},doOnTouchStart:function(t){if(!this.noDrag){var e=this.$el,n=this.dragState,i=t.touches[0];n.startTime=new Date,n.startLeft=i.pageX,n.startTop=i.pageY,n.startTopAbsolute=i.clientY,n.pageWidth=e.offsetWidth,n.pageHeight=e.offsetHeight;var r=this.$children[this.index-1],s=this.$children[this.index],a=this.$children[this.index+1];this.continuous&&this.pages.length>1&&(r||(r=this.$children[this.$children.length-1]),a||(a=this.$children[0])),n.prevPage=r?r.$el:null,n.dragPage=s?s.$el:null,n.nextPage=a?a.$el:null,n.prevPage&&(n.prevPage.style.display="block"),n.nextPage&&(n.nextPage.style.display="block")}},doOnTouchMove:function(t){if(!this.noDrag){var e=this.dragState,n=t.touches[0];e.speedX=n.pageX-e.currentLeft,e.currentLeft=n.pageX,e.currentTop=n.pageY,e.currentTopAbsolute=n.clientY;var i=e.currentLeft-e.startLeft,r=e.currentTopAbsolute-e.startTopAbsolute,s=Math.abs(i),a=Math.abs(r);if(s<5||s>=5&&a>=1.73*s)this.userScrolling=!0;else{this.userScrolling=!1,t.preventDefault();var o=(i=Math.min(Math.max(1-e.pageWidth,i),e.pageWidth-1))<0?"next":"prev";e.prevPage&&"prev"===o&&this.translate(e.prevPage,i-e.pageWidth),this.translate(e.dragPage,i),e.nextPage&&"next"===o&&this.translate(e.nextPage,i+e.pageWidth)}}},doOnTouchEnd:function(){if(!this.noDrag){var t=this.dragState,e=new Date-t.startTime,n=null,i=t.currentLeft-t.startLeft,r=t.currentTop-t.startTop,s=t.pageWidth,a=this.index,o=this.pages.length;if(e<300){var u=Math.abs(i)<5&&Math.abs(r)<5;(isNaN(i)||isNaN(r))&&(u=!0),u&&this.$children[this.index].$emit("tap")}e<300&&void 0===t.currentLeft||((e<300||Math.abs(i)>s/2)&&(n=i<0?"next":"prev"),this.continuous||(0===a&&"prev"===n||a===o-1&&"next"===n)&&(n=null),this.$children.length<2&&(n=null),this.doAnimate(n,{offsetLeft:i,pageWidth:t.pageWidth,prevPage:t.prevPage,currentPage:t.dragPage,nextPage:t.nextPage,speedX:t.speedX}),this.dragState={})}},initTimer:function(){var t=this;this.auto>0&&!this.timer&&(this.timer=setInterval(function(){if(!t.continuous&&t.index>=t.pages.length-1)return t.clearTimer();t.dragging||t.animating||t.next()},this.auto))},clearTimer:function(){clearInterval(this.timer),this.timer=null}},destroyed:function(){this.timer&&this.clearTimer(),this.reInitTimer&&(clearTimeout(this.reInitTimer),this.reInitTimer=null)},mounted:function(){var t=this;this.ready=!0,this.initTimer(),this.reInitPages();var e=this.$el;e.addEventListener("touchstart",function(e){t.prevent&&e.preventDefault(),t.stopPropagation&&e.stopPropagation(),t.animating||(t.dragging=!0,t.userScrolling=!1,t.doOnTouchStart(e))}),e.addEventListener("touchmove",function(e){t.dragging&&(t.timer&&t.clearTimer(),t.doOnTouchMove(e))}),e.addEventListener("touchend",function(e){if(t.userScrolling)return t.dragging=!1,void(t.dragState={});t.dragging&&(t.initTimer(),t.doOnTouchEnd(e),t.dragging=!1)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-switch",props:{value:Boolean,disabled:{type:Boolean,default:!1}},computed:{currentValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tab-container-item",props:["id"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(199),s=n.n(r);e.default={name:"mt-tab-container",props:{value:{},swipeable:Boolean},data:function(){return{start:{x:0,y:0},swiping:!1,activeItems:[],pageWidth:0,currentActive:this.value}},watch:{value:function(t){this.currentActive=t},currentActive:function(t,e){if(this.$emit("input",t),this.swipeable){var n=s()(this.$children,function(t){return t.id===e});this.swipeLeaveTransition(n)}}},mounted:function(){this.swipeable&&(this.wrap=this.$refs.wrap,this.pageWidth=this.wrap.clientWidth,this.limitWidth=this.pageWidth/4)},methods:{swipeLeaveTransition:function(t){var e=this;void 0===t&&(t=0),"number"!=typeof this.index&&(this.index=s()(this.$children,function(t){return t.id===e.currentActive}),this.swipeMove(-t*this.pageWidth)),setTimeout(function(){e.wrap.classList.add("swipe-transition"),e.swipeMove(-e.index*e.pageWidth),n.i(i.c)(e.wrap,"webkitTransitionEnd",function(t){e.wrap.classList.remove("swipe-transition"),e.wrap.style.webkitTransform="",e.swiping=!1,e.index=null})},0)},swipeMove:function(t){this.wrap.style.webkitTransform="translate3d("+t+"px, 0, 0)",this.swiping=!0},startDrag:function(t){this.swipeable&&(t=t.changedTouches?t.changedTouches[0]:t,this.dragging=!0,this.start.x=t.pageX,this.start.y=t.pageY)},onDrag:function(t){var e=this;if(this.dragging){var n=t.changedTouches?t.changedTouches[0]:t,i=n.pageY-this.start.y,r=n.pageX-this.start.x,a=Math.abs(i),o=Math.abs(r);if(!(o<5||o>=5&&a>=1.73*o)){t.preventDefault();var u=this.$children.length-1,l=s()(this.$children,function(t){return t.id===e.currentActive}),c=r-l*this.pageWidth;Math.abs(c)>u*this.pageWidth||c>0&&c<this.pageWidth?this.swiping=!1:(this.offsetLeft=r,this.index=l,this.swipeMove(c))}}},endDrag:function(){if(this.swiping){this.dragging=!1;var t=this.offsetLeft>0?-1:1;if(Math.abs(this.offsetLeft)>this.limitWidth){this.index+=t;var e=this.$children[this.index];if(e)return void(this.currentActive=e.id)}this.swipeLeaveTransition()}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tab-item",props:["id"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-tabbar",props:{fixed:Boolean,value:{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},function(t,e,n){"use strict";var i=n(128),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(129),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(130),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(131),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(133),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(134),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(135),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(136),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(137),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(138),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i,r=n(1),s=n.n(r),a=s.a.extend(n(139));e.a={open:function(t){void 0===t&&(t={}),i||(i=new a({el:document.createElement("div")})),i.visible||(i.text="string"==typeof t?t:t.text||"",i.spinnerType=t.spinnerType||"snake",document.body.appendChild(i.$el),s.a.nextTick(function(){i.visible=!0}))},close:function(){i&&(i.visible=!1)}}},function(t,e,n){"use strict";var i=n(4),r=(n.n(i),n(65));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(1),r="@@InfiniteScroll",s=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},a=n.n(i).a.prototype.$isServer?{}:document.defaultView.getComputedStyle,o=function(t){return t===window?s(window):t.getBoundingClientRect().top+s(window)},u=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},l=function(){if(!this.binded){this.binded=!0;var t,e,n,i,r,s,o,u,l=this,h=l.el;l.scrollEventTarget=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var n=a(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window}(h),l.scrollListener=(t=c.bind(l),e=200,u=function(){t.apply(s,o),i=n},function(){if(s=this,o=arguments,n=Date.now(),r&&(clearTimeout(r),r=null),i){var t=e-(n-i);t<0?u():r=setTimeout(function(){u()},t)}else u()}),l.scrollEventTarget.addEventListener("scroll",l.scrollListener);var d=h.getAttribute("infinite-scroll-disabled"),f=!1;d&&(this.vm.$watch(d,function(t){l.disabled=t,!t&&l.immediateCheck&&c.call(l)}),f=Boolean(l.vm[d])),l.disabled=f;var p=h.getAttribute("infinite-scroll-distance"),g=0;p&&(g=Number(l.vm[p]||p),isNaN(g)&&(g=0)),l.distance=g;var m=h.getAttribute("infinite-scroll-immediate-check"),v=!0;m&&(v=Boolean(l.vm[m])),l.immediateCheck=v,v&&c.call(l);var y=h.getAttribute("infinite-scroll-listen-for-event");y&&l.vm.$on(y,function(){c.call(l)})}},c=function(t){var e=this.scrollEventTarget,n=this.el,i=this.distance;if(!0===t||!this.disabled){var r=s(e),a=r+function(t){return t===window?document.documentElement.clientHeight:t.clientHeight}(e),u=!1;if(e===n)u=e.scrollHeight-a<=i;else u=a+i>=o(n)-o(e)+n.offsetHeight+r;u&&this.expression&&this.expression()}};e.a={bind:function(t,e,n){t[r]={el:t,vm:n.context,expression:e.value};var i=arguments,s=function(){t[r].vm.$nextTick(function(){u(t)&&l.call(t[r],i),t[r].bindTryCount=0;var e=function(){t[r].bindTryCount>10||(t[r].bindTryCount++,u(t)?l.call(t[r],i):setTimeout(e,50))};e()})};t[r].vm._isMounted?s():t[r].vm.$on("hook:mounted",s)},unbind:function(t){t[r]&&t[r].scrollEventTarget&&t[r].scrollEventTarget.removeEventListener("scroll",t[r].scrollListener)}}},function(t,e,n){"use strict";var i=n(64),r=n(4),s=(n.n(r),n(1)),a=n.n(s),o=function(t){t.directive("InfiniteScroll",i.a)};!a.a.prototype.$isServer&&window.Vue&&(window.infiniteScroll=i.a,a.a.use(o)),i.a.install=o,e.a=i.a},function(t,e,n){"use strict";var i=n(4),r=(n.n(i),n(67));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(201),r=n.n(i),s=n(4);n.n(s);e.a=r.a},function(t,e,n){"use strict";var i=n(140),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(70);n.d(e,"a",function(){return i.a})},function(t,e,n){"use strict";var i,r,s=n(1),a=n.n(s),o=n(141),u=n.n(o),l={title:"提示",message:"",type:"",showInput:!1,showClose:!0,modalFade:!1,lockScroll:!1,closeOnClickModal:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:""},c=function(t){for(var e=arguments,n=1,i=arguments.length;n<i;n++){var r=e[n];for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];void 0!==a&&(t[s]=a)}}return t},h=a.a.extend(u.a),d=[],f=function(t){if(i){var e=i.callback;if("function"==typeof e&&(r.showInput?e(r.inputValue,t):e(t)),i.resolve){var n=i.options.$type;"confirm"===n||"prompt"===n?"confirm"===t?r.showInput?i.resolve({value:r.inputValue,action:t}):i.resolve(t):"cancel"===t&&i.reject&&i.reject(t):i.resolve(t)}}},p=function(){if(r||((r=new h({el:document.createElement("div")})).callback=f),(!r.value||r.closeTimer)&&d.length>0){var t=(i=d.shift()).options;for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);void 0===t.callback&&(r.callback=f),["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(t){void 0===r[t]&&(r[t]=!0)}),document.body.appendChild(r.$el),a.a.nextTick(function(){r.value=!0})}},g=function(t,e){if("string"==typeof t?(t={title:t},arguments[1]&&(t.message=arguments[1]),arguments[2]&&(t.type=arguments[2])):t.callback&&!e&&(e=t.callback),"undefined"!=typeof Promise)return new Promise(function(n,i){d.push({options:c({},l,g.defaults||{},t),callback:e,resolve:n,reject:i}),p()});d.push({options:c({},l,g.defaults||{},t),callback:e}),p()};g.setDefaults=function(t){g.defaults=t},g.alert=function(t,e,n){return"object"==typeof e&&(n=e,e=""),g(c({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},g.confirm=function(t,e,n){return"object"==typeof e&&(n=e,e=""),g(c({title:e,message:t,$type:"confirm",showCancelButton:!0},n))},g.prompt=function(t,e,n){return"object"==typeof e&&(n=e,e=""),g(c({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},g.close=function(){r&&(r.value=!1,d=[],i=null)},e.a=g},function(t,e,n){"use strict";var i=n(142),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(143),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(1),r=!1,s=!n.n(i).a.prototype.$isServer&&"ontouchstart"in window;e.a=function(t,e){var n=function(t){e.drag&&e.drag(s?t.changedTouches[0]||t.touches[0]:t)},i=function(t){s||(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)),document.onselectstart=null,document.ondragstart=null,r=!1,e.end&&e.end(s?t.changedTouches[0]||t.touches[0]:t)};t.addEventListener(s?"touchstart":"mousedown",function(t){r||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},s||(document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)),r=!0,e.start&&(t.preventDefault(),e.start(s?t.changedTouches[0]||t.touches[0]:t)))}),s&&(t.addEventListener("touchmove",n),t.addEventListener("touchend",i),t.addEventListener("touchcancel",i))}},function(t,e,n){"use strict";var i=n(1),r={};if(!n.n(i).a.prototype.$isServer){var s,a=document.documentElement.style,o=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?s="presto":"MozAppearance"in a?s="gecko":"WebkitAppearance"in a?s="webkit":"string"==typeof navigator.cpuClass&&(s="trident");var u={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[s],l={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[s],c=document.createElement("div"),h=l+"Perspective",d=l+"Transform",f=u+"transform",p=l+"Transition",g=u+"transition",m=l.toLowerCase()+"TransitionEnd";void 0!==c.style[h]&&(o=!0);var v=function(t){var e={left:0,top:0};if(null===t||null===t.style)return e;var n=t.style[d],i=/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/gi.exec(n);return i&&(e.left=+i[1],e.top=+i[3]),e},y=function(t){if(null!==t&&null!==t.style){var e=t.style[d];e&&(e=e.replace(/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g,""),t.style[d]=e)}};r={transformProperty:d,transformStyleName:f,transitionProperty:p,transitionStyleName:g,transitionEndProperty:m,getElementTranslate:v,translateElement:function(t,e,n){if((null!==e||null!==n)&&null!==t&&void 0!==t&&null!==t.style&&(t.style[d]||0!==e||0!==n)){if(null===e||null===n){var i=v(t);null===e&&(e=i.left),null===n&&(n=i.top)}y(t),t.style[d]+=o?" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+") translateZ(0px)":" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+")"}},cancelTranslateElement:y}}e.a=r},function(t,e,n){"use strict";var i=n(147),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(148),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(149),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(1),r=!1,s=!n.n(i).a.prototype.$isServer&&"ontouchstart"in window;e.a=function(t,e){var n=function(t){e.drag&&e.drag(s?t.changedTouches[0]||t.touches[0]:t)},i=function(t){s||(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)),document.onselectstart=null,document.ondragstart=null,r=!1,e.end&&e.end(s?t.changedTouches[0]||t.touches[0]:t)};t.addEventListener(s?"touchstart":"mousedown",function(t){r||(t.preventDefault(),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},s||(document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)),r=!0,e.start&&e.start(s?t.changedTouches[0]||t.touches[0]:t))}),s&&(t.addEventListener("touchmove",n),t.addEventListener("touchend",i),t.addEventListener("touchcancel",i))}},function(t,e,n){"use strict";var i=n(150),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(4),r=(n.n(i),n(155)),s=n.n(r);n.d(e,"a",function(){return s.a})},function(t,e,n){"use strict";var i=n(156),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(157),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(158),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(159),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(160),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(161),r=n.n(i);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var i=n(88);n.d(e,"a",function(){return i.a})},function(t,e,n){"use strict";var i=n(1),r=n.n(i),s=r.a.extend(n(162)),a=[],o=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};s.prototype.close=function(){var t;this.visible=!1,this.$el.addEventListener("transitionend",o),this.closed=!0,(t=this)&&a.push(t)};e.a=function(t){void 0===t&&(t={});var e=t.duration||3e3,n=function(){if(a.length>0){var t=a[0];return a.splice(0,1),t}return new s({el:document.createElement("div")})}();return n.closed=!1,clearTimeout(n.timer),n.message="string"==typeof t?t:t.message,n.position=t.position||"middle",n.className=t.className||"",n.iconClass=t.iconClass||"",document.body.appendChild(n.$el),r.a.nextTick(function(){n.visible=!0,n.$el.removeEventListener("transitionend",o),~e&&(n.timer=setTimeout(function(){n.closed||n.close()},e))}),n}},function(t,e,n){"use strict";e.a={methods:{dispatch:function(t,e,n){for(var i=this.$parent,r=i.$options.componentName;i&&(!r||r!==t);)(i=i.$parent)&&(r=i.$options.componentName);i&&i.$emit.apply(i,[e].concat(n))},broadcast:function(t,e,n){(function t(e,n,i){this.$children.forEach(function(r){r.$options.componentName===e?r.$emit.apply(r,[n].concat(i)):t.apply(r,[e,n].concat(i))})}).call(this,t,e,n)}}}},function(t,e,n){"use strict";var i=n(1),r=n.n(i),s=n(3),a=!1,o=function(){if(!r.a.prototype.$isServer){var t=l.modalDom;return t?a=!0:(a=!1,t=document.createElement("div"),l.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){l.doOnModalClick&&l.doOnModalClick()})),t}},u={},l={zIndex:2e3,modalFade:!0,getInstance:function(t){return u[t]},register:function(t,e){t&&e&&(u[t]=e)},deregister:function(t){t&&(u[t]=null,delete u[t])},nextZIndex:function(){return l.zIndex++},modalStack:[],doOnModalClick:function(){var t=l.modalStack[l.modalStack.length-1];if(t){var e=l.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,i,u,l){if(!r.a.prototype.$isServer&&t&&void 0!==e){this.modalFade=l;for(var c=this.modalStack,h=0,d=c.length;h<d;h++){if(c[h].id===t)return}var f=o();if(n.i(s.a)(f,"v-modal"),this.modalFade&&!a&&n.i(s.a)(f,"v-modal-enter"),u)u.trim().split(/\s+/).forEach(function(t){return n.i(s.a)(f,t)});setTimeout(function(){n.i(s.b)(f,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(f):document.body.appendChild(f),e&&(f.style.zIndex=e),f.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:u})}},closeModal:function(t){var e=this.modalStack,i=o();if(e.length>0){var r=e[e.length-1];if(r.id===t){if(r.modalClass)r.modalClass.trim().split(/\s+/).forEach(function(t){return n.i(s.b)(i,t)});e.pop(),e.length>0&&(i.style.zIndex=e[e.length-1].zIndex)}else for(var a=e.length-1;a>=0;a--)if(e[a].id===t){e.splice(a,1);break}}0===e.length&&(this.modalFade&&n.i(s.a)(i,"v-modal-leave"),setTimeout(function(){0===e.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",l.modalDom=void 0),n.i(s.b)(i,"v-modal-leave")},200))}};!r.a.prototype.$isServer&&window.addEventListener("keydown",function(t){if(27===t.keyCode&&l.modalStack.length>0){var e=l.modalStack[l.modalStack.length-1];if(!e)return;var n=l.getInstance(e.id);n.closeOnPressEscape&&n.close()}}),e.a=l},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggb3BhY2l0eT0iLjI1IiBkPSJNMTYgMCBBMTYgMTYgMCAwIDAgMTYgMzIgQTE2IDE2IDAgMCAwIDE2IDAgTTE2IDQgQTEyIDEyIDAgMCAxIDE2IDI4IEExMiAxMiAwIDAgMSAxNiA0Ii8+CiAgPHBhdGggZD0iTTE2IDAgQTE2IDE2IDAgMCAxIDMyIDE2IEwyOCAxNiBBMTIgMTIgMCAwIDAgMTYgNHoiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMTYgMTYiIHRvPSIzNjAgMTYgMTYiIGR1cj0iMC44cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgPC9wYXRoPgo8L3N2Zz4K"},function(t,e,n){var i=n(0)(n(15),n(171),function(t){n(100)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(16),n(173),function(t){n(102)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(17),n(177),function(t){n(106)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(18),n(169),function(t){n(98)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(19),n(185),function(t){n(113)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(20),n(196),function(t){n(124)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(21),n(181),function(t){n(109)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(22),n(187),function(t){n(116)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(23),n(179),function(t){n(108)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(24),n(164),function(t){n(93)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(25),n(165),function(t){n(94)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(26),n(191),function(t){n(119)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(27),n(193),function(t){n(121)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(28),n(186),function(t){n(114),n(115)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(29),n(195),function(t){n(123)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(30),n(184),function(t){n(112)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(31),n(163),function(t){n(92)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(32),n(198),function(t){n(126)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(33),n(192),function(t){n(120)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(34),n(167),function(t){n(96)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(35),n(190),function(t){n(118)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(36),n(194),function(t){n(122)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(37),n(197),function(t){n(125)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(38),n(189),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(40),n(183),function(t){n(111)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(42),n(174),function(t){n(103)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(43),n(170),function(t){n(99)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(44),n(180),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(45),n(166),function(t){n(95)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(46),n(178),function(t){n(107)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(47),n(188),function(t){n(117)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(48),n(172),function(t){n(101)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(49),n(176),function(t){n(105)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(50),n(182),function(t){n(110)},null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(51),n(168),function(t){n(97)},null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picker-slot",class:t.classNames,style:t.flexStyle},[t.divider?t._e():n("div",{ref:"wrapper",staticClass:"picker-slot-wrapper",class:{dragging:t.dragging},style:{height:t.contentHeight+"px"}},t._l(t.mutatingValues,function(e){return n("div",{staticClass:"picker-item",class:{"picker-selected":e===t.currentValue},style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px"}},[t._v("\n      "+t._s("object"==typeof e&&e[t.valueKey]?e[t.valueKey]:e)+"\n    ")])})),t._v(" "),t.divider?n("div",[t._v(t._s(t.content))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-indexlist"},[n("ul",{ref:"content",staticClass:"mint-indexlist-content",style:{height:t.currentHeight+"px","margin-right":t.navWidth+"px"}},[t._t("default")],2),t._v(" "),n("div",{ref:"nav",staticClass:"mint-indexlist-nav",on:{touchstart:t.handleTouchStart}},[n("ul",{staticClass:"mint-indexlist-navlist"},t._l(t.sections,function(e){return n("li",{staticClass:"mint-indexlist-navitem"},[t._v(t._s(e.index))])}))]),t._v(" "),t.showIndicator?n("div",{directives:[{name:"show",rawName:"v-show",value:t.moving,expression:"moving"}],staticClass:"mint-indexlist-indicator"},[t._v(t._s(t.currentIndicator))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"mint-indexsection"},[e("p",{staticClass:"mint-indexsection-index"},[this._v(this._s(this.index))]),this._v(" "),e("ul",[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-swipe"},[n("div",{ref:"wrap",staticClass:"mint-swipe-items-wrap"},[t._t("default")],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndicators,expression:"showIndicators"}],staticClass:"mint-swipe-indicators"},t._l(t.pages,function(e,i){return n("div",{staticClass:"mint-swipe-indicator",class:{"is-active":i===t.index}})}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-progress"},[t._t("start"),t._v(" "),n("div",{staticClass:"mt-progress-content"},[n("div",{staticClass:"mt-progress-runway",style:{height:t.barHeight+"px"}}),t._v(" "),n("div",{staticClass:"mt-progress-progress",style:{width:t.value+"%",height:t.barHeight+"px"}})]),t._v(" "),t._t("end")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-toast-pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?n("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),n("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside:touchstart",value:t.swipeMove,expression:"swipeMove",arg:"touchstart"}],ref:"cell",staticClass:"mint-cell-swipe",attrs:{title:t.title,icon:t.icon,label:t.label,to:t.to,"is-link":t.isLink,value:t.value},nativeOn:{click:function(e){t.swipeMove()},touchstart:function(e){t.startDrag(e)},touchmove:function(e){t.onDrag(e)},touchend:function(e){t.endDrag(e)}}},[n("div",{ref:"right",staticClass:"mint-cell-swipe-buttongroup",slot:"right"},t._l(t.right,function(e){return n("a",{staticClass:"mint-cell-swipe-button",style:e.style,domProps:{innerHTML:t._s(e.content)},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.handler&&e.handler(),t.swipeMove()}}})})),t._v(" "),n("div",{ref:"left",staticClass:"mint-cell-swipe-buttongroup",slot:"left"},t._l(t.left,function(e){return n("a",{staticClass:"mint-cell-swipe-button",style:e.style,domProps:{innerHTML:t._s(e.content)},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.handler&&e.handler(),t.swipeMove()}}})})),t._v(" "),t._t("default"),t._v(" "),t.$slots.title?n("span",{slot:"title"},[t._t("title")],2):t._e(),t._v(" "),t.$slots.icon?n("span",{slot:"icon"},[t._t("icon")],2):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-spinner-triple-bounce"},[e("div",{staticClass:"mint-spinner-triple-bounce-bounce1",style:this.bounceStyle}),this._v(" "),e("div",{staticClass:"mint-spinner-triple-bounce-bounce2",style:this.bounceStyle}),this._v(" "),e("div",{staticClass:"mint-spinner-triple-bounce-bounce3",style:this.bounceStyle})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"actionsheet-float"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-actionsheet"},[n("ul",{staticClass:"mint-actionsheet-list",style:{"margin-bottom":t.cancelText?"5px":"0"}},t._l(t.actions,function(e,i){return n("li",{staticClass:"mint-actionsheet-listitem",on:{click:function(n){n.stopPropagation(),t.itemClick(e,i)}}},[t._v(t._s(e.name))])})),t._v(" "),t.cancelText?n("a",{staticClass:"mint-actionsheet-button",on:{click:function(e){e.stopPropagation(),t.currentValue=!1}}},[t._v(t._s(t.cancelText))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-tab-container",on:{touchstart:this.startDrag,mousedown:this.startDrag,touchmove:this.onDrag,mousemove:this.onDrag,mouseup:this.endDrag,touchend:this.endDrag}},[e("div",{ref:"wrap",staticClass:"mint-tab-container-wrap"},[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"mint-badge",class:["is-"+this.type,"is-size-"+this.size],style:{backgroundColor:this.color}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-spinner-snake",style:{"border-top-color":this.spinnerColor,"border-left-color":this.spinnerColor,"border-bottom-color":this.spinnerColor,height:this.spinnerSize,width:this.spinnerSize}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["mint-spinner-fading-circle circle-color-"+this._uid],style:{width:this.spinnerSize,height:this.spinnerSize}},this._l(12,function(t){return e("div",{staticClass:"mint-spinner-fading-circle-circle",class:["is-circle"+(t+1)]})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"mint-tab-item",class:{"is-selected":t.$parent.value===t.id},on:{click:function(e){t.$parent.$emit("input",t.id)}}},[n("div",{staticClass:"mint-tab-item-icon"},[t._t("icon")],2),t._v(" "),n("div",{staticClass:"mint-tab-item-label"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"mint-button",class:["mint-button--"+t.type,"mint-button--"+t.size,{"is-disabled":t.disabled,"is-plain":t.plain}],attrs:{type:t.nativeType,disabled:t.disabled},on:{click:t.handleClick}},[t.icon||t.$slots.icon?n("span",{staticClass:"mint-button-icon"},[t._t("icon",[t.icon?n("i",{staticClass:"mintui",class:"mintui-"+t.icon}):t._e()])],2):t._e(),t._v(" "),n("label",{staticClass:"mint-button-text"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"mint-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-switch-input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},__c:function(e){var n=t.currentValue,i=!!e.target.checked;if(Array.isArray(n)){var r=t._i(n,null);i?r<0&&(t.currentValue=n.concat(null)):r>-1&&(t.currentValue=n.slice(0,r).concat(n.slice(r+1)))}else t.currentValue=i}}}),t._v(" "),n("span",{staticClass:"mint-switch-core"}),t._v(" "),n("div",{staticClass:"mint-switch-label"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"mint-header",class:{"is-fixed":this.fixed}},[e("div",{staticClass:"mint-header-button is-left"},[this._t("left")],2),this._v(" "),e("h1",{staticClass:"mint-header-title",domProps:{textContent:this._s(this.title)}}),this._v(" "),e("div",{staticClass:"mint-header-button is-right"},[this._t("right")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-swipe-item"},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mt-popup",{staticClass:"mint-datetime",attrs:{closeOnClickModal:t.closeOnClickModal,position:"bottom"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("mt-picker",{ref:"picker",staticClass:"mint-datetime-picker",attrs:{slots:t.dateSlots,"visible-item-count":t.visibleItemCount,"show-toolbar":""},on:{change:t.onChange}},[n("span",{staticClass:"mint-datetime-action mint-datetime-cancel",on:{click:function(e){t.visible=!1,t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]),t._v(" "),n("span",{staticClass:"mint-datetime-action mint-datetime-confirm",on:{click:t.confirm}},[t._v(t._s(t.confirmText))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-tabbar",class:{"is-fixed":this.fixed}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-spinner-double-bounce",style:{width:this.spinnerSize,height:this.spinnerSize}},[e("div",{staticClass:"mint-spinner-double-bounce-bounce1",style:{backgroundColor:this.spinnerColor}}),this._v(" "),e("div",{staticClass:"mint-spinner-double-bounce-bounce2",style:{backgroundColor:this.spinnerColor}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-palette-button",class:{expand:t.expanded,"mint-palette-button-active":t.transforming},on:{animationend:t.onMainAnimationEnd,webkitAnimationEnd:t.onMainAnimationEnd,mozAnimationEnd:t.onMainAnimationEnd}},[n("div",{staticClass:"mint-sub-button-container"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"mint-main-button",style:t.mainButtonStyle,on:{touchstart:t.toggle}},[t._v("\n    "+t._s(t.content)+"\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"mint-cell",attrs:{href:t.href}},[t.isLink?n("span",{staticClass:"mint-cell-mask"}):t._e(),t._v(" "),n("div",{staticClass:"mint-cell-left"},[t._t("left")],2),t._v(" "),n("div",{staticClass:"mint-cell-wrapper"},[n("div",{staticClass:"mint-cell-title"},[t._t("icon",[t.icon?n("i",{staticClass:"mintui",class:"mintui-"+t.icon}):t._e()]),t._v(" "),t._t("title",[n("span",{staticClass:"mint-cell-text",domProps:{textContent:t._s(t.title)}}),t._v(" "),t.label?n("span",{staticClass:"mint-cell-label",domProps:{textContent:t._s(t.label)}}):t._e()])],2),t._v(" "),n("div",{staticClass:"mint-cell-value",class:{"is-link":t.isLink}},[t._t("default",[n("span",{domProps:{textContent:t._s(t.value)}})])],2),t._v(" "),t.isLink?n("i",{staticClass:"mint-cell-allow-right"}):t._e()]),t._v(" "),n("div",{staticClass:"mint-cell-right"},[t._t("right")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-msgbox-wrapper"},[n("transition",{attrs:{name:"msgbox-bounce"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"mint-msgbox"},[""!==t.title?n("div",{staticClass:"mint-msgbox-header"},[n("div",{staticClass:"mint-msgbox-title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),""!==t.message?n("div",{staticClass:"mint-msgbox-content"},[n("div",{staticClass:"mint-msgbox-message",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"mint-msgbox-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",attrs:{placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),n("div",{staticClass:"mint-msgbox-errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])])]):t._e(),t._v(" "),n("div",{staticClass:"mint-msgbox-btns"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],class:[t.cancelButtonClasses],on:{click:function(e){t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],class:[t.confirmButtonClasses],on:{click:function(e){t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.doCloseActive,expression:"doCloseActive"}],staticClass:"mint-field",class:[{"is-textarea":"textarea"===t.type,"is-nolabel":!t.label}],attrs:{title:t.label}},["textarea"===t.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"mint-field-core",attrs:{placeholder:t.placeholder,rows:t.rows,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):n("input",{ref:"input",staticClass:"mint-field-core",attrs:{placeholder:t.placeholder,number:"number"===t.type,type:t.type,disabled:t.disabled,readonly:t.readonly},domProps:{value:t.currentValue},on:{change:function(e){t.$emit("change",t.currentValue)},focus:function(e){t.active=!0},input:t.handleInput}}),t._v(" "),t.disableClear?t._e():n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue&&"textarea"!==t.type&&t.active,expression:"currentValue && type !== 'textarea' && active"}],staticClass:"mint-field-clear",on:{click:t.handleClear}},[n("i",{staticClass:"mintui mintui-field-error"})]),t._v(" "),t.state?n("span",{staticClass:"mint-field-state",class:["is-"+t.state]},[n("i",{staticClass:"mintui",class:["mintui-field-"+t.state]})]):t._e(),t._v(" "),n("div",{staticClass:"mint-field-other"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.$parent.swiping||this.id===this.$parent.currentActive,expression:"$parent.swiping || id === $parent.currentActive"}],staticClass:"mint-tab-container-item"},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e(this.spinner,{tag:"component"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-radiolist",on:{change:function(e){t.$emit("change",t.currentValue)}}},[n("label",{staticClass:"mint-radiolist-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._l(t.options,function(e){return n("x-cell",[n("label",{staticClass:"mint-radiolist-label",slot:"title"},[n("span",{staticClass:"mint-radio",class:{"is-right":"right"===t.align}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-radio-input",attrs:{type:"radio",disabled:e.disabled},domProps:{value:e.value||e,checked:t._q(t.currentValue,e.value||e)},on:{__c:function(n){t.currentValue=e.value||e}}}),t._v(" "),n("span",{staticClass:"mint-radio-core"})]),t._v(" "),n("span",{staticClass:"mint-radio-label",domProps:{textContent:t._s(e.label||e)}})])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-indicator"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-indicator"},[n("div",{staticClass:"mint-indicator-wrapper",style:{padding:t.text?"20px":"15px"}},[n("spinner",{staticClass:"mint-indicator-spin",attrs:{type:t.convertedSpinnerType,size:32}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.text,expression:"text"}],staticClass:"mint-indicator-text"},[t._v(t._s(t.text))])],1),t._v(" "),n("div",{staticClass:"mint-indicator-mask",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:this.currentTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.currentValue,expression:"currentValue"}],staticClass:"mint-popup",class:[this.position?"mint-popup-"+this.position:""]},[this._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-loadmore"},[n("div",{staticClass:"mint-loadmore-content",class:{"is-dropped":t.topDropped||t.bottomDropped},style:{transform:t.transform}},[t._t("top",[t.topMethod?n("div",{staticClass:"mint-loadmore-top"},["loading"===t.topStatus?n("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),n("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.topText))])],1):t._e()]),t._v(" "),t._t("default"),t._v(" "),t._t("bottom",[t.bottomMethod?n("div",{staticClass:"mint-loadmore-bottom"},["loading"===t.bottomStatus?n("spinner",{staticClass:"mint-loadmore-spinner",attrs:{size:20,type:"fading-circle"}}):t._e(),t._v(" "),n("span",{staticClass:"mint-loadmore-text"},[t._v(t._s(t.bottomText))])],1):t._e()])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-range",class:{"mt-range--disabled":t.disabled}},[t._t("start"),t._v(" "),n("div",{ref:"content",staticClass:"mt-range-content"},[n("div",{staticClass:"mt-range-runway",style:{"border-top-width":t.barHeight+"px"}}),t._v(" "),n("div",{staticClass:"mt-range-progress",style:{width:t.progress+"%",height:t.barHeight+"px"}}),t._v(" "),n("div",{ref:"thumb",staticClass:"mt-range-thumb",style:{left:t.progress+"%"}})]),t._v(" "),t._t("end")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-navbar",class:{"is-fixed":this.fixed}},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-checklist",class:{"is-limit":t.max<=t.currentValue.length},on:{change:function(e){t.$emit("change",t.currentValue)}}},[n("label",{staticClass:"mint-checklist-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._l(t.options,function(e){return n("x-cell",[n("label",{staticClass:"mint-checklist-label",slot:"title"},[n("span",{staticClass:"mint-checkbox",class:{"is-right":"right"===t.align}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-checkbox-input",attrs:{type:"checkbox",disabled:e.disabled},domProps:{value:e.value||e,checked:Array.isArray(t.currentValue)?t._i(t.currentValue,e.value||e)>-1:t.currentValue},on:{__c:function(n){var i=t.currentValue,r=!!n.target.checked;if(Array.isArray(i)){var s=e.value||e,a=t._i(i,s);r?a<0&&(t.currentValue=i.concat(s)):a>-1&&(t.currentValue=i.slice(0,a).concat(i.slice(a+1)))}else t.currentValue=r}}}),t._v(" "),n("span",{staticClass:"mint-checkbox-core"})]),t._v(" "),n("span",{staticClass:"mint-checkbox-label",domProps:{textContent:t._s(e.label||e)}})])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-search"},[n("div",{staticClass:"mint-searchbar"},[n("div",{staticClass:"mint-searchbar-inner"},[n("i",{staticClass:"mintui mintui-search"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"mint-searchbar-core",attrs:{type:"search",placeholder:t.placeholder},domProps:{value:t.currentValue},on:{click:function(e){t.visible=!0},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}})]),t._v(" "),n("a",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-searchbar-cancel",domProps:{textContent:t._s(t.cancelText)},on:{click:function(e){t.visible=!1,t.currentValue=""}}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show||t.currentValue,expression:"show || currentValue"}],staticClass:"mint-search-list"},[n("div",{staticClass:"mint-search-list-warp"},[t._t("default",t._l(t.result,function(t,e){return n("x-cell",{key:e,attrs:{title:t}})}))],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picker",class:{"picker-3d":t.rotateEffect}},[t.showToolbar?n("div",{staticClass:"picker-toolbar"},[t._t("default")],2):t._e(),t._v(" "),n("div",{staticClass:"picker-items"},[t._l(t.slots,function(e){return n("picker-slot",{attrs:{valueKey:t.valueKey,values:e.values||[],"text-align":e.textAlign||"center","visible-item-count":t.visibleItemCount,"class-name":e.className,flex:e.flex,"rotate-effect":t.rotateEffect,divider:e.divider,content:e.content,itemHeight:t.itemHeight,"default-index":e.defaultIndex},model:{value:t.values[e.valueIndex],callback:function(n){var i=t.values,r=e.valueIndex;Array.isArray(i)?i.splice(r,1,n):t.values[e.valueIndex]=n},expression:"values[slot.valueIndex]"}})}),t._v(" "),n("div",{staticClass:"picker-center-highlight",style:{height:t.itemHeight+"px",marginTop:-t.itemHeight/2+"px"}})],2)])},staticRenderFns:[]}},function(t,e){t.exports=n("fU25")},function(t,e){t.exports=n("pAs2")},function(t,e){t.exports=n("zdS3")},function(t,e,n){t.exports=n(14)}])},wxaW:function(t,e,n){n("QI9N")("asyncIterator")},xsjh:function(t,e,n){n("YBXF");for(var i=n("HH4H"),r=n("Rb18"),s=n("XRq0"),a=n("mhb3")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var l=o[u],c=i[l],h=c&&c.prototype;h&&!h[a]&&r(h,a,l),s[l]=s.Array}},y0by:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var r,s=n("VBq3"),a=(r=s)&&r.__esModule?r:{default:r},o=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null};e.default={updateAdCues:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t.segments)for(var r=n,s=void 0,u=0;u<t.segments.length;u++){var l=t.segments[u];if(s||(s=o(e,r+l.duration/2)),s){if("cueIn"in l){s.endTime=r,s.adEndTime=r,r+=l.duration,s=null;continue}if(r<s.endTime){r+=l.duration;continue}s.endTime+=l.duration}else if("cueOut"in l&&((s=new a.default.VTTCue(r,r+l.duration,l.cueOut)).adStartTime=r,s.adEndTime=r+parseFloat(l.cueOut),e.addCue(s)),"cueOutCont"in l){var c,h,d=l.cueOutCont.split("/").map(parseFloat),f=i(d,2);c=f[0],h=f[1],(s=new a.default.VTTCue(r,r+l.duration,"")).adStartTime=r-c,s.adEndTime=s.adStartTime+h,e.addCue(s)}r+=l.duration}},findAdCue:o},t.exports=e.default},yLYI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},t.exports=e.default},yfPx:function(t,e,n){"use strict";var i=a(n("ANsJ")),r=a(n("NqPD")),s=a(n("v4lI"));function a(t){return t&&t.__esModule?t:{default:t}}t.exports={LineStream:i.default,ParseStream:r.default,Parser:s.default}},ykTf:function(t,e,n){var i=n("zxol")("socket.io-parser"),r=n("Wo2q"),s=n("ly/b"),a=n("jC/k"),o=n("5ceI");function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=h;var l=e.ERROR+'"encode error"';function c(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===r)return l;n+=r}return i("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function d(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){s.removeBlobs(t,function(t){var n=s.deconstructPacket(t),i=c(n.packet),r=n.buffers;r.unshift(i),e(r)})}(t,n):n([c(t)])},r(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return f("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var s="";"-"!==t.charAt(++n)&&(s+=t.charAt(n),n!=t.length););if(s!=Number(s)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){var o=t.charAt(n);if(","===o)break;if(r.nsp+=o,n===t.length)break}else r.nsp="/";var u=t.charAt(n+1);if(""!==u&&Number(u)==u){for(r.id="";++n;){var o=t.charAt(n);if(null==o||Number(o)!=o){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}if(t.charAt(++n)){var l=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),c=!1!==l&&(r.type===e.ERROR||a(l));if(!c)return f("invalid payload");r.data=l}return i("decoded %s as %j",t,r),r}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!o(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},yqnZ:function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},z1hY:function(t,e,n){"use strict";var i=n("8r5Y"),r=n("4A9Y"),s=n("JotW"),a=n("hN2N");function o(t){var e=new s(t),n=r(s.prototype.request,e);return i.extend(n,s.prototype,e),i.extend(n,e),n}var u=o(a);u.Axios=s,u.create=function(t){return o(i.merge(a,t))},u.Cancel=n("fEpO"),u.CancelToken=n("/egZ"),u.isCancel=n("K3AH"),u.all=function(t){return Promise.all(t)},u.spread=n("9JTW"),t.exports=u,t.exports.default=u},z3QQ:function(t,e,n){t.exports=!n("5D1g")&&!n("QzFD")(function(){return 7!=Object.defineProperty(n("ZtEf")("div"),"a",{get:function(){return 7}}).a})},z6G7:function(t,e,n){var i=n("IJsg");t.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},zRHv:function(t,e,n){"use strict";var i=n("uAPd")(!0);n("sswn")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},zdS3:function(t,e,n){var i;i=function(){"use strict";function t(t){t=t||{};var i=arguments.length,r=0;if(1===i)return t;for(;++r<i;){var s=arguments[r];h(t)&&(t=s),n(s)&&e(t,s)}return t}function e(e,r){for(var s in d(e,r),r)if("__proto__"!==s&&i(r,s)){var a=r[s];n(a)?("undefined"===p(e[s])&&"function"===p(a)&&(e[s]=a),e[s]=t(e[s]||{},a)):e[s]=a}return e}function n(t){return"object"===p(t)||"function"===p(t)}function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function s(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),i=[],r=t.parentNode.offsetWidth*e,s=void 0,a=void 0,o=void 0;(n=n.trim().split(",")).map(function(t){t=t.trim(),-1===(s=t.lastIndexOf(" "))?(a=t,o=999998):(a=t.substr(0,s),o=parseInt(t.substr(s+1,t.length-s-2),10)),i.push([o,a])}),i.sort(function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0});for(var u="",l=void 0,c=i.length,h=0;h<c;h++)if((l=i[h])[0]>=r){u=l[1];break}return u}}function a(t,e){for(var n=void 0,i=0,r=t.length;i<r;i++)if(e(t[i])){n=t[i];break}return n}function o(){}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":u(t))},d=function(t,e){if(null===t||void 0===t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var n=Object.prototype.propertyIsEnumerable,i=Object(t),r=arguments.length,s=0;++s<r;)for(var a=Object(arguments[s]),o=Object.getOwnPropertySymbols(a),u=0;u<o.length;u++){var l=o[u];n.call(a,l)&&(i[l]=a[l])}return i},f=Object.prototype.toString,p=function(t){var e=void 0===t?"undefined":u(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=f.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"},g=t,m="undefined"!=typeof window,v=m&&"IntersectionObserver"in window,y={event:"event",observer:"observer"},b=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if(m)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return m&&window.devicePixelRatio||t},T=function(){if(m){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),S={on:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];T?t.addEventListener(e,n,{capture:i,passive:!0}):t.addEventListener(e,n,i)},off:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,i)}},w=function(t,e,n){var i=new Image;i.src=t.src,i.onload=function(){e({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src})},i.onerror=function(t){n(t)}},E=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},C=function(t){return E(t,"overflow")+E(t,"overflow-y")+E(t,"overflow-x")},k={},x=function(){function t(e){var n=e.el,i=e.src,r=e.error,s=e.loading,a=e.bindType,o=e.$parent,u=e.options,c=e.elRenderer;l(this,t),this.el=n,this.src=i,this.error=r,this.loading=s,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=u,this.rect=null,this.$parent=o,this.elRenderer=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return c(t,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,i=t.error,r=this.src;this.src=e,this.loading=n,this.error=i,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;(function(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})(this.options.filter).map(function(e){t.options.filter[e](t,t.options)})}},{key:"renderLoading",value:function(t){var e=this;w({src:this.loading},function(n){e.render("loading",!1),t()},function(){t(),e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")})}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.loaded||k[this.src]?(this.state.loaded=!0,e(),this.render("loaded",!0)):void this.renderLoading(function(){t.attempt++,t.record("loadStart"),w({src:t.src},function(n){t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),k[t.src]=1,e()},function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)})})}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),A="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",O=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],P={rootMargin:"0px",threshold:0},D=function(t){return function(){function e(t){var n=t.preLoad,i=t.error,r=t.throttleWait,s=t.preLoadTop,a=t.dispatchEvent,o=t.loading,u=t.attempt,c=t.silent,h=void 0===c||c,d=t.scale,f=t.listenEvents,p=(t.hasbind,t.filter),g=t.adapter,v=t.observer,b=t.observerOptions;l(this,e),this.version="1.2.6",this.mode=y.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:h,dispatchEvent:!!a,throttleWait:r||200,preLoad:n||1.3,preLoadTop:s||0,error:i||A,loading:o||A,attempt:u||3,scale:d||_(d),ListenEvents:f||O,hasbind:!1,supportWebp:function(){if(!m)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(e){t=!1}return t}(),filter:p||{},adapter:g||{},observer:!!v,observerOptions:b||P},this._initEvent(),this.lazyLoadHandler=function(t,e){var n=null,i=0;return function(){if(!n){var r=this,s=arguments,a=function(){i=Date.now(),n=!1,t.apply(r,s)};Date.now()-i>=e?a():n=setTimeout(a,e)}}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?y.observer:y.event)}return c(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map(function(e){t.push(e.performance())}),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),m&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,i){var r=this;if(function(t,e){for(var n=!1,i=0,r=t.length;i<r;i++)if(e(t[i])){n=!0;break}return n}(this.ListenerQueue,function(t){return t.el===e}))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var a=this._valueFormatter(n.value),o=a.src,u=a.loading,l=a.error;t.nextTick(function(){o=s(e,r.options.scale)||o,r._observer&&r._observer.observe(e);var a=Object.keys(n.modifiers)[0],c=void 0;a&&(c=(c=i.context.$refs[a])?c.$el||c:document.getElementById(a)),c||(c=function(t){if(m){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(C(e)))return e;e=e.parentNode}return window}}(e));var h=new x({bindType:n.arg,$parent:c,el:e,loading:u,error:l,src:o,elRenderer:r._elRenderer.bind(r),options:r.options});r.ListenerQueue.push(h),m&&(r._addListenerTarget(window),r._addListenerTarget(c)),r.lazyLoadHandler(),t.nextTick(function(){return r.lazyLoadHandler()})})}},{key:"update",value:function(e,n){var i=this,r=this._valueFormatter(n.value),o=r.src,u=r.loading,l=r.error;o=s(e,this.options.scale)||o;var c=a(this.ListenerQueue,function(t){return t.el===e});c&&c.update({src:o,loading:u,error:l}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick(function(){return i.lazyLoadHandler()})}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=a(this.ListenerQueue,function(e){return e.el===t});e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),r(this.ListenerQueue,e)&&e.destroy())}}},{key:"removeComponent",value:function(t){t&&(r(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;v||t!==y.observer||(t=y.event),this.mode=t,t===y.event?(this._observer&&(this.ListenerQueue.forEach(function(t){e._observer.unobserve(t.el)}),this._observer=null),this.TargetQueue.forEach(function(t){e._initListen(t.el,!0)})):(this.TargetQueue.forEach(function(t){e._initListen(t.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=a(this.TargetQueue,function(e){return e.el===t});return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===y.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach(function(n,i){n.el===t&&(--n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(i,1),n=null))})}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach(function(i){return S[e?"on":"off"](t,i,n.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e]||(t.Event.listeners[e]=[]),t.Event.listeners[e].push(n)},this.$once=function(e,n){var i=t;t.$on(e,function t(){i.$off(e,t),n.apply(i,arguments)})},this.$off=function(e,n){if(n)r(t.Event.listeners[e],n);else{if(!t.Event.listeners[e])return;t.Event.listeners[e].length=0}},this.$emit=function(e,n,i){t.Event.listeners[e]&&t.Event.listeners[e].forEach(function(t){return t(n,i)})}}},{key:"_lazyLoadHandler",value:function(){var t=this,e=[];this.ListenerQueue.forEach(function(t,n){if(!t.state.error&&t.state.loaded)return e.push(t);t.checkInView()&&t.load()}),e.forEach(function(e){return r(t.ListenerQueue,e)})}},{key:"_initIntersectionObserver",value:function(){var t=this;v&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(e){t._observer.observe(e.el)}))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach(function(t){t.isIntersecting&&n.ListenerQueue.forEach(function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}})})}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var i=t.el,r=t.bindType,s=void 0;switch(e){case"loading":s=t.loading;break;case"error":s=t.error;break;default:s=t.src}if(r?i.style[r]='url("'+s+'")':i.getAttribute("src")!==s&&i.setAttribute("src",s),i.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var a=new b(e,{detail:t});i.dispatchEvent(a)}}}},{key:"_valueFormatter",value:function(t){var e=t,n=this.options.loading,i=this.options.error;return function(t){return null!==t&&"object"===(void 0===t?"undefined":u(t))}(t)&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),e=t.src,n=t.loading||this.options.loading,i=t.error||this.options.error),{src:e,loading:n,error:i}}}]),e}()},I=function(){function t(e){var n=e.lazy;l(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return c(t,[{key:"bind",value:function(t,e,n){var i=new L({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(i)}},{key:"update",value:function(t,e,n){var i=a(this._queue,function(e){return e.el===t});i&&i.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var i=a(this._queue,function(e){return e.el===t});i&&(i.clear(),r(this._queue,i))}}]),t}(),R={selector:"img"},L=function(){function t(e){var n=e.el,i=e.binding,r=e.vnode,s=e.lazy;l(this,t),this.el=null,this.vnode=r,this.binding=i,this.options={},this.lazy=s,this._queue=[],this.update({el:n,binding:i})}return c(t,[{key:"update",value:function(t){var e=this,n=t.el,i=t.binding;this.el=n,this.options=g({},R,i.value),this.getImgs().forEach(function(t){e.lazy.add(t,g({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:"dataset"in t?t.dataset.error:t.getAttribute("data-error"),loading:"dataset"in t?t.dataset.loading:t.getAttribute("data-loading")}}),e.vnode)})}},{key:"getImgs",value:function(){return function(t){for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach(function(e){return t.lazy.remove(e)}),this.vnode=null,this.binding=null,this.lazy=null}}]),t}();return{install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new(D(t))(e),i=new I({lazy:n}),r="2"===t.version.split(".")[0];t.prototype.$Lazyload=n,e.lazyComponent&&t.component("lazy-component",function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),m&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}}(n)),e.lazyImage&&t.component("lazy-image",function(t){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:t.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),t.addLazyBox(this),t.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{init:function(){var e=t._valueFormatter(this.src),n=e.src,i=e.loading,r=e.error;this.state.loaded=!1,this.options.src=n,this.options.error=r,this.options.loading=i,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),m&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(this.state.attempt>this.options.attempt-1&&this.state.error)return t.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void n();var i=this.options.src;w({src:i},function(t){var n=t.src;e.renderSrc=n,e.state.loaded=!0},function(t){e.state.attempt++,e.renderSrc=e.options.error,e.state.error=!0})}}}}(n)),r?(t.directive("lazy",{bind:n.add.bind(n),update:n.update.bind(n),componentUpdated:n.lazyLoadHandler.bind(n),unbind:n.remove.bind(n)}),t.directive("lazy-container",{bind:i.bind.bind(i),update:i.update.bind(i),unbind:i.unbind.bind(i)})):(t.directive("lazy",{bind:n.lazyLoadHandler.bind(n),update:function(t,e){g(this.vm.$refs,this.vm.$els),n.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){n.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){i.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){i.unbind(this.el)}}))}}},t.exports=i()},zrcv:function(t,e,n){"use strict";var i=n("oeSj"),r=n("kxdO"),s=n("SoGw"),a=n("K16g"),o=n("Cwod"),u=n("UKZZ"),l=n("Mc4G"),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(t,e){var n,o,u,l,h,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d="string"==typeof g?s.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=s.utf8border(f.output,f.next_out),l=f.next_out-u,h=s.buf2string(f.output,u),f.next_out=l,f.avail_out=p-l,l&&r.arraySet(f.output,f.output,u,l,0),this.onData(h)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=d,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.ungzip=d},zxol:function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}(e=t.exports=n("3Xjo")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(s=++r)}),t.splice(s,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(e,n("V0EG"))}});
//# sourceMappingURL=vendor.a9b6450eb54f7eb0dbe5.js.map