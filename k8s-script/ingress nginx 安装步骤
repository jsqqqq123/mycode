ingress nginx :
1. wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/static/mandatory.yaml
2. 根据 mandatory.yaml 中的images 来用docker pull quay.io/kubernetes-ingress-controller/nginx-ingress-controller  参数可变
3. kubectl apply -f mandatory.yaml
4. kubectl apply -f service-nodeport.yaml     这个service-nodeport.yaml可以从官网上下载


kubectl cluster-info  用来查看集群的一些信息

安装 kubernetes dashboard

$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml

修改kubernetes-dashboard.yaml 中的image 以及 service 可以用nodeport 

登录需要认证 :
admin-role.yaml

kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: admin
  annotations:
    rbac.authorization.kubernetes.io/autoupdate: "true"
roleRef:
  kind: ClusterRole
  name: cluster-admin
  apiGroup: rbac.authorization.k8s.io
subjects:
- kind: ServiceAccount
  name: admin
  namespace: kube-system
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: admin
  namespace: kube-system
  labels:
    kubernetes.io/cluster-service: "true"
    addonmanager.kubernetes.io/mode: Reconcile


kubectl apply -f admin-role.yaml
获取token:
kubectl -n kube-system get secret|grep admin-token     先获取 secret name
kubectl describe secret admin-token-wl9xd -n kube-system    其中 admin-token-wl9xd  是secret name